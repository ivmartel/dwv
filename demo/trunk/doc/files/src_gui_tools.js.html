<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/gui/tools.js - dwv</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="dwv"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.6.0beta</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/dwv.App.html">dwv.App</a></li>
            
                <li><a href="../classes/dwv.dicom.DataReader.html">dwv.dicom.DataReader</a></li>
            
                <li><a href="../classes/dwv.dicom.DicomParser.html">dwv.dicom.DicomParser</a></li>
            
                <li><a href="../classes/dwv.dicom.Dictionary.html">dwv.dicom.Dictionary</a></li>
            
                <li><a href="../classes/dwv.gui.html">dwv.gui</a></li>
            
                <li><a href="../classes/dwv.html.html">dwv.html</a></li>
            
                <li><a href="../classes/dwv.html.Layer.html">dwv.html.Layer</a></li>
            
                <li><a href="../classes/dwv.html.Style.html">dwv.html.Style</a></li>
            
                <li><a href="../classes/dwv.image.html">dwv.image</a></li>
            
                <li><a href="../classes/dwv.image.filter.Sharpen.html">dwv.image.filter.Sharpen</a></li>
            
                <li><a href="../classes/dwv.image.filter.Sobel.html">dwv.image.filter.Sobel</a></li>
            
                <li><a href="../classes/dwv.image.filter.Threshold.html">dwv.image.filter.Threshold</a></li>
            
                <li><a href="../classes/dwv.image.Image.html">dwv.image.Image</a></li>
            
                <li><a href="../classes/dwv.image.lut.Rescale.html">dwv.image.lut.Rescale</a></li>
            
                <li><a href="../classes/dwv.image.lut.Window.html">dwv.image.lut.Window</a></li>
            
                <li><a href="../classes/dwv.image.Size.html">dwv.image.Size</a></li>
            
                <li><a href="../classes/dwv.image.Spacing.html">dwv.image.Spacing</a></li>
            
                <li><a href="../classes/dwv.image.View.html">dwv.image.View</a></li>
            
                <li><a href="../classes/dwv.info.html">dwv.info</a></li>
            
                <li><a href="../classes/dwv.io.File.html">dwv.io.File</a></li>
            
                <li><a href="../classes/dwv.io.Url.html">dwv.io.Url</a></li>
            
                <li><a href="../classes/dwv.math.BucketQueue.html">dwv.math.BucketQueue</a></li>
            
                <li><a href="../classes/dwv.math.Circle.html">dwv.math.Circle</a></li>
            
                <li><a href="../classes/dwv.math.FastPoint2D.html">dwv.math.FastPoint2D</a></li>
            
                <li><a href="../classes/dwv.math.Line.html">dwv.math.Line</a></li>
            
                <li><a href="../classes/dwv.math.Path.html">dwv.math.Path</a></li>
            
                <li><a href="../classes/dwv.math.Point2D.html">dwv.math.Point2D</a></li>
            
                <li><a href="../classes/dwv.math.Rectangle.html">dwv.math.Rectangle</a></li>
            
                <li><a href="../classes/dwv.math.ROI.html">dwv.math.ROI</a></li>
            
                <li><a href="../classes/dwv.math.Scissors.html">dwv.math.Scissors</a></li>
            
                <li><a href="../classes/dwv.tool.html">dwv.tool</a></li>
            
                <li><a href="../classes/dwv.tool.Draw.html">dwv.tool.Draw</a></li>
            
                <li><a href="../classes/dwv.tool.DrawCircleCommand.html">dwv.tool.DrawCircleCommand</a></li>
            
                <li><a href="../classes/dwv.tool.DrawLineCommand.html">dwv.tool.DrawLineCommand</a></li>
            
                <li><a href="../classes/dwv.tool.DrawLivewireCommand.html">dwv.tool.DrawLivewireCommand</a></li>
            
                <li><a href="../classes/dwv.tool.DrawRectangleCommand.html">dwv.tool.DrawRectangleCommand</a></li>
            
                <li><a href="../classes/dwv.tool.DrawRoiCommand.html">dwv.tool.DrawRoiCommand</a></li>
            
                <li><a href="../classes/dwv.tool.Filter.html">dwv.tool.Filter</a></li>
            
                <li><a href="../classes/dwv.tool.filter.Sharpen.html">dwv.tool.filter.Sharpen</a></li>
            
                <li><a href="../classes/dwv.tool.filter.Threshold.html">dwv.tool.filter.Threshold</a></li>
            
                <li><a href="../classes/dwv.tool.Livewire.html">dwv.tool.Livewire</a></li>
            
                <li><a href="../classes/dwv.tool.Navigate.html">dwv.tool.Navigate</a></li>
            
                <li><a href="../classes/dwv.tool.Pan.html">dwv.tool.Pan</a></li>
            
                <li><a href="../classes/dwv.tool.RunFilterCommand.html">dwv.tool.RunFilterCommand</a></li>
            
                <li><a href="../classes/dwv.tool.Scroll.html">dwv.tool.Scroll</a></li>
            
                <li><a href="../classes/dwv.tool.ToolBox.html">dwv.tool.ToolBox</a></li>
            
                <li><a href="../classes/dwv.tool.UndoStack.html">dwv.tool.UndoStack</a></li>
            
                <li><a href="../classes/dwv.tool.WindowLevel.html">dwv.tool.WindowLevel</a></li>
            
                <li><a href="../classes/dwv.tool.Zoom.html">dwv.tool.Zoom</a></li>
            
                <li><a href="../classes/dwv.utils.html">dwv.utils</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/dicom.html">dicom</a></li>
            
                <li><a href="../modules/gui.html">gui</a></li>
            
                <li><a href="../modules/html.html">html</a></li>
            
                <li><a href="../modules/image.html">image</a></li>
            
                <li><a href="../modules/info.html">info</a></li>
            
                <li><a href="../modules/io.html">io</a></li>
            
                <li><a href="../modules/math.html">math</a></li>
            
                <li><a href="../modules/tool.html">tool</a></li>
            
                <li><a href="../modules/utils.html">utils</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/gui/tools.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/** 
 * GUI module.
 * @module gui
 */
var dwv = dwv || {};
/**
 * Namespace for GUI functions.
 * @class gui
 * @namespace dwv
 * @static
 */
dwv.gui = dwv.gui || {};
dwv.gui.base = dwv.gui.base || {};

/**
 * Append the toolbox HTML to the page.
 * @method appendToolboxHtml
 * @static
 */
dwv.gui.base.appendToolboxHtml = function()
{
    // tool select
    var toolSelector = dwv.html.createHtmlSelect(&quot;toolSelect&quot;,dwv.tool.tools);
    toolSelector.onchange = dwv.gui.onChangeTool;
    
    // tool list element
    var toolLi = document.createElement(&quot;li&quot;);
    toolLi.id = &quot;toolLi&quot;;
    toolLi.style.display = &quot;none&quot;;
    toolLi.appendChild(toolSelector);
    toolLi.setAttribute(&quot;class&quot;,&quot;ui-block-a&quot;);

    // node
    var node = document.getElementById(&quot;toolList&quot;);
    // clear it
    while(node.hasChildNodes()) node.removeChild(node.firstChild);
    // append
    node.appendChild(toolLi);
    // trigger create event (mobile)
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
};

/**
 * Display the toolbox HTML.
 * @method displayToolboxHtml
 * @static
 * @param {Boolean} bool True to display, false to hide.
 */
dwv.gui.base.displayToolboxHtml = function(bool)
{
    // tool list element
    dwv.html.displayElement(&quot;toolLi&quot;, bool);
};

/**
 * Initialise the toolbox HTML.
 * @method initToolboxHtml
 * @static
 */
dwv.gui.base.initToolboxHtml = function()
{
    // tool select: reset selected option
    var toolSelector = document.getElementById(&quot;toolSelect&quot;);
    toolSelector.selectedIndex = 0;
    dwv.gui.refreshSelect(&quot;#toolSelect&quot;);
};

/**
 * Append the window/level HTML to the page.
 * @method appendWindowLevelHtml
 * @static
 */
dwv.gui.base.appendWindowLevelHtml = function()
{
    // preset select
    var wlSelector = dwv.html.createHtmlSelect(&quot;presetSelect&quot;,dwv.tool.presets);
    wlSelector.onchange = dwv.gui.onChangeWindowLevelPreset;
    // colour map select
    var cmSelector = dwv.html.createHtmlSelect(&quot;colourMapSelect&quot;,dwv.tool.colourMaps);
    cmSelector.onchange = dwv.gui.onChangeColourMap;

    // preset list element
    var wlLi = document.createElement(&quot;li&quot;);
    wlLi.id = &quot;wlLi&quot;;
    wlLi.style.display = &quot;none&quot;;
    wlLi.appendChild(wlSelector);
    wlLi.setAttribute(&quot;class&quot;,&quot;ui-block-b&quot;);
    // color map list element
    var cmLi = document.createElement(&quot;li&quot;);
    cmLi.id = &quot;cmLi&quot;;
    cmLi.style.display = &quot;none&quot;;
    cmLi.appendChild(cmSelector);
    cmLi.setAttribute(&quot;class&quot;,&quot;ui-block-c&quot;);

    // node
    var node = document.getElementById(&quot;toolList&quot;);
    // apend preset
    node.appendChild(wlLi);
    // apend color map if monochrome image
    node.appendChild(cmLi);
    // trigger create event (mobile)
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
};

/**
 * Display the window/level HTML.
 * @method displayWindowLevelHtml
 * @static
 * @param {Boolean} bool True to display, false to hide.
 */
dwv.gui.base.displayWindowLevelHtml = function(bool)
{
    // presets list element
    dwv.html.displayElement(&quot;wlLi&quot;, bool);
    // color map list element
    dwv.html.displayElement(&quot;cmLi&quot;, bool);
};

/**
 * Initialise the window/level HTML.
 * @method initWindowLevelHtml
 * @static
 */
dwv.gui.base.initWindowLevelHtml = function()
{
    // create new preset select
    var wlSelector = dwv.html.createHtmlSelect(&quot;presetSelect&quot;,dwv.tool.presets);
    wlSelector.onchange = dwv.gui.onChangeWindowLevelPreset;
    wlSelector.title = &quot;Select w/l preset.&quot;;
    
    // copy html list
    var wlLi = document.getElementById(&quot;wlLi&quot;);
    // clear node
    dwv.html.cleanNode(wlLi);
    // add children
    wlLi.appendChild(wlSelector);
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
    
    // colour map select
    var cmSelector = document.getElementById(&quot;colourMapSelect&quot;);
    cmSelector.selectedIndex = 0;
    // special monochrome1 case
    if( app.getImage().getPhotometricInterpretation() === &quot;MONOCHROME1&quot; )
    {
        cmSelector.selectedIndex = 1;
    }
    dwv.gui.refreshSelect(&quot;#colourMapSelect&quot;);
};

/**
 * Append the draw HTML to the page.
 * @method appendDrawHtml
 * @static
 */
dwv.gui.base.appendDrawHtml = function()
{
    // shape select
    var shapeSelector = dwv.html.createHtmlSelect(&quot;shapeSelect&quot;,dwv.tool.shapes);
    shapeSelector.onchange = dwv.gui.onChangeShape;
    // colour select
    var colourSelector = dwv.html.createHtmlSelect(&quot;colourSelect&quot;,dwv.tool.colors);
    colourSelector.onchange = dwv.gui.onChangeLineColour;

    // shape list element
    var shapeLi = document.createElement(&quot;li&quot;);
    shapeLi.id = &quot;shapeLi&quot;;
    shapeLi.style.display = &quot;none&quot;;
    shapeLi.appendChild(shapeSelector);
    shapeLi.setAttribute(&quot;class&quot;,&quot;ui-block-c&quot;);
    // colour list element
    var colourLi = document.createElement(&quot;li&quot;);
    colourLi.id = &quot;colourLi&quot;;
    colourLi.style.display = &quot;none&quot;;
    colourLi.appendChild(colourSelector);
    colourLi.setAttribute(&quot;class&quot;,&quot;ui-block-b&quot;);
    
    // node
    var node = document.getElementById(&quot;toolList&quot;);
    // apend shape
    node.appendChild(shapeLi);
    // append color
    node.appendChild(colourLi);
    // trigger create event (mobile)
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
};

/**
 * Display the draw HTML.
 * @method displayDrawHtml
 * @static
 * @param {Boolean} bool True to display, false to hide.
 */
dwv.gui.base.displayDrawHtml = function(bool)
{
    // color list element
    dwv.html.displayElement(&quot;colourLi&quot;, bool);
    // shape list element
    dwv.html.displayElement(&quot;shapeLi&quot;, bool);
};

/**
 * Initialise the draw HTML.
 * @method displayDrawHtml
 * @static
 * */
dwv.gui.base.initDrawHtml = function()
{
    // shape select: reset selected option
    var shapeSelector = document.getElementById(&quot;shapeSelect&quot;);
    shapeSelector.selectedIndex = 0;
    dwv.gui.refreshSelect(&quot;#shapeSelect&quot;);
    // color select: reset selected option
    var colourSelector = document.getElementById(&quot;colourSelect&quot;);
    colourSelector.selectedIndex = 0;
    dwv.gui.refreshSelect(&quot;#colourSelect&quot;);
};

/**
 * Append the color chooser HTML to the page.
 * @method appendLivewireHtml
 * @static
 */
dwv.gui.base.appendLivewireHtml = function()
{
    // colour select
    var colourSelector = dwv.html.createHtmlSelect(&quot;lwColourSelect&quot;,dwv.tool.colors);
    colourSelector.onchange = dwv.gui.onChangeLineColour;
    
    // colour list element
    var colourLi = document.createElement(&quot;li&quot;);
    colourLi.id = &quot;lwColourLi&quot;;
    colourLi.style.display = &quot;none&quot;;
    colourLi.setAttribute(&quot;class&quot;,&quot;ui-block-b&quot;);
    colourLi.appendChild(colourSelector);
    
    // node
    var node = document.getElementById(&quot;toolList&quot;);
    // apend colour
    node.appendChild(colourLi);
    // trigger create event (mobile)
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
};

/**
 * Display the livewire HTML.
 * @method displayLivewireHtml
 * @static
 * @param {Boolean} bool True to display, false to hide.
 */
dwv.gui.base.displayLivewireHtml = function(bool)
{
    // colour list
    dwv.html.displayElement(&quot;lwColourLi&quot;, bool);
};

/**
 * Initialise the livewire HTML.
 * @method initLivewireHtml
 * @static
 */
dwv.gui.base.initLivewireHtml = function()
{
    var colourSelector = document.getElementById(&quot;lwColourSelect&quot;);
    colourSelector.selectedIndex = 0;
    dwv.gui.refreshSelect(&quot;#lwColourSelect&quot;);
};

/**
 * Append the Navigate HTML to the page.
 * @method appendNavigateHtml
 * @static
 */
dwv.gui.base.appendNavigateHtml = function()
{
    // reset button
    var button = document.createElement(&quot;button&quot;);
    button.id = &quot;navResetButton&quot;;
    button.name = &quot;navResetButton&quot;;
    button.onclick = dwv.gui.onZoomReset;
    var text = document.createTextNode(&quot;Reset&quot;);
    button.appendChild(text);
    
    // list element
    var liElement = document.createElement(&quot;li&quot;);
    liElement.id = &quot;navLi&quot;;
    liElement.style.display = &quot;none&quot;;
    liElement.setAttribute(&quot;class&quot;,&quot;ui-block-c&quot;);
    liElement.appendChild(button);
    
    // node
    var node = document.getElementById(&quot;toolList&quot;);
    // append element
    node.appendChild(liElement);
    // trigger create event (mobile)
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
};

/**
 * Display the Navigate HTML.
 * @method displayNavigateHtml
 * @static
 * @param {Boolean} bool True to display, false to hide.
 */
dwv.gui.base.displayNavigateHtml = function(bool)
{
    // display list element
    dwv.html.displayElement(&quot;navLi&quot;, bool);
};

/**
 * Append the Zoom HTML to the page.
 * @method appendZoomHtml
 * @static
 */
dwv.gui.base.appendZoomHtml = function()
{
    // reset button
    var button = document.createElement(&quot;button&quot;);
    button.id = &quot;zoomResetButton&quot;;
    button.name = &quot;zoomResetButton&quot;;
    button.onclick = dwv.gui.onZoomReset;
    var text = document.createTextNode(&quot;Reset&quot;);
    button.appendChild(text);
    
    // list element
    var liElement = document.createElement(&quot;li&quot;);
    liElement.id = &quot;zoomLi&quot;;
    liElement.style.display = &quot;none&quot;;
    liElement.setAttribute(&quot;class&quot;,&quot;ui-block-c&quot;);
    liElement.appendChild(button);
    
    // node
    var node = document.getElementById(&quot;toolList&quot;);
    // append element
    node.appendChild(liElement);
    // trigger create event (mobile)
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
};

/**
 * Display the Zoom HTML.
 * @method displayZoomHtml
 * @static
 * @param {Boolean} bool True to display, false to hide.
 */
dwv.gui.base.displayZoomHtml = function(bool)
{
    // display list element
    dwv.html.displayElement(&quot;zoomLi&quot;, bool);
};

/**
 * Append the Pan HTML to the page.
 * @method appendPanHtml
 * @static
 */
dwv.gui.base.appendPanHtml = function()
{
    // reset button
    var button = document.createElement(&quot;button&quot;);
    button.id = &quot;panResetButton&quot;;
    button.name = &quot;panResetButton&quot;;
    button.onclick = dwv.tool.panReset;
    var text = document.createTextNode(&quot;Reset&quot;);
    button.appendChild(text);
    
    // list element
    var liElement = document.createElement(&quot;li&quot;);
    liElement.id = &quot;panLi&quot;;
    liElement.style.display = &quot;none&quot;;
    liElement.setAttribute(&quot;class&quot;,&quot;ui-block-c&quot;);
    liElement.appendChild(button);
    
    // node
    var node = document.getElementById(&quot;toolList&quot;);
    // append element
    node.appendChild(liElement);
    // trigger create event (mobile)
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
};

/**
 * Display the pan HTML.
 * @method displayPanHtml
 * @static
 * @param {Boolean} bool True to display, false to hide.
 */
dwv.gui.base.displayPanHtml = function(bool)
{
    // display list element
    dwv.html.displayElement(&quot;panLi&quot;, bool);
};

/**
 * Append the Scroll HTML to the page.
 * @method appendScrollHtml
 * @static
 */
dwv.gui.base.appendScrollHtml = function()
{
    // list element
    var liElement = document.createElement(&quot;li&quot;);
    liElement.id = &quot;scrollLi&quot;;
    liElement.style.display = &quot;none&quot;;
    liElement.setAttribute(&quot;class&quot;,&quot;ui-block-c&quot;);
    
    // node
    var node = document.getElementById(&quot;toolList&quot;);
    // append element
    node.appendChild(liElement);
    // trigger create event (mobile)
    $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
};

/**
 * Display the Scroll HTML.
 * @method displayScrollHtml
 * @static
 * @param {Boolean} bool True to display, false to hide.
 */
dwv.gui.base.displayScrollHtml = function(bool)
{
    // display list element
    dwv.html.displayElement(&quot;scrollLi&quot;, bool);
};

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
