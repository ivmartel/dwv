<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/gui/generic.js - dwv</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="dwv"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.9.0beta</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/dwv.App.html">dwv.App</a></li>
                                <li><a href="../classes/dwv.browser.html">dwv.browser</a></li>
                                <li><a href="../classes/dwv.dicom.DataReader.html">dwv.dicom.DataReader</a></li>
                                <li><a href="../classes/dwv.dicom.DicomParser.html">dwv.dicom.DicomParser</a></li>
                                <li><a href="../classes/dwv.gui.html">dwv.gui</a></li>
                                <li><a href="../classes/dwv.gui.base.Draw.html">dwv.gui.base.Draw</a></li>
                                <li><a href="../classes/dwv.gui.base.FileLoad.html">dwv.gui.base.FileLoad</a></li>
                                <li><a href="../classes/dwv.gui.base.Filter.html">dwv.gui.base.Filter</a></li>
                                <li><a href="../classes/dwv.gui.base.Livewire.html">dwv.gui.base.Livewire</a></li>
                                <li><a href="../classes/dwv.gui.base.Loadbox.html">dwv.gui.base.Loadbox</a></li>
                                <li><a href="../classes/dwv.gui.base.Scroll.html">dwv.gui.base.Scroll</a></li>
                                <li><a href="../classes/dwv.gui.base.Sharpen.html">dwv.gui.base.Sharpen</a></li>
                                <li><a href="../classes/dwv.gui.base.Slider.html">dwv.gui.base.Slider</a></li>
                                <li><a href="../classes/dwv.gui.base.Sobel.html">dwv.gui.base.Sobel</a></li>
                                <li><a href="../classes/dwv.gui.base.Threshold.html">dwv.gui.base.Threshold</a></li>
                                <li><a href="../classes/dwv.gui.base.Toolbox.html">dwv.gui.base.Toolbox</a></li>
                                <li><a href="../classes/dwv.gui.base.Undo.html">dwv.gui.base.Undo</a></li>
                                <li><a href="../classes/dwv.gui.base.WindowLevel.html">dwv.gui.base.WindowLevel</a></li>
                                <li><a href="../classes/dwv.gui.base.ZoomAndPan.html">dwv.gui.base.ZoomAndPan</a></li>
                                <li><a href="../classes/dwv.html.html">dwv.html</a></li>
                                <li><a href="../classes/dwv.html.Layer.html">dwv.html.Layer</a></li>
                                <li><a href="../classes/dwv.html.Style.html">dwv.html.Style</a></li>
                                <li><a href="../classes/dwv.image.html">dwv.image</a></li>
                                <li><a href="../classes/dwv.image.filter.Sharpen.html">dwv.image.filter.Sharpen</a></li>
                                <li><a href="../classes/dwv.image.filter.Sobel.html">dwv.image.filter.Sobel</a></li>
                                <li><a href="../classes/dwv.image.filter.Threshold.html">dwv.image.filter.Threshold</a></li>
                                <li><a href="../classes/dwv.image.Image.html">dwv.image.Image</a></li>
                                <li><a href="../classes/dwv.image.lut.Rescale.html">dwv.image.lut.Rescale</a></li>
                                <li><a href="../classes/dwv.image.lut.Window.html">dwv.image.lut.Window</a></li>
                                <li><a href="../classes/dwv.image.Size.html">dwv.image.Size</a></li>
                                <li><a href="../classes/dwv.image.Spacing.html">dwv.image.Spacing</a></li>
                                <li><a href="../classes/dwv.image.View.html">dwv.image.View</a></li>
                                <li><a href="../classes/dwv.info.html">dwv.info</a></li>
                                <li><a href="../classes/dwv.io.File.html">dwv.io.File</a></li>
                                <li><a href="../classes/dwv.io.Url.html">dwv.io.Url</a></li>
                                <li><a href="../classes/dwv.math.BucketQueue.html">dwv.math.BucketQueue</a></li>
                                <li><a href="../classes/dwv.math.Circle.html">dwv.math.Circle</a></li>
                                <li><a href="../classes/dwv.math.Ellipse.html">dwv.math.Ellipse</a></li>
                                <li><a href="../classes/dwv.math.FastPoint2D.html">dwv.math.FastPoint2D</a></li>
                                <li><a href="../classes/dwv.math.IdGenerator.html">dwv.math.IdGenerator</a></li>
                                <li><a href="../classes/dwv.math.Line.html">dwv.math.Line</a></li>
                                <li><a href="../classes/dwv.math.Path.html">dwv.math.Path</a></li>
                                <li><a href="../classes/dwv.math.Point2D.html">dwv.math.Point2D</a></li>
                                <li><a href="../classes/dwv.math.Rectangle.html">dwv.math.Rectangle</a></li>
                                <li><a href="../classes/dwv.math.ROI.html">dwv.math.ROI</a></li>
                                <li><a href="../classes/dwv.math.Scissors.html">dwv.math.Scissors</a></li>
                                <li><a href="../classes/dwv.tool.html">dwv.tool</a></li>
                                <li><a href="../classes/dwv.tool.ChangeGroupCommand.html">dwv.tool.ChangeGroupCommand</a></li>
                                <li><a href="../classes/dwv.tool.DeleteGroupCommand.html">dwv.tool.DeleteGroupCommand</a></li>
                                <li><a href="../classes/dwv.tool.Draw.html">dwv.tool.Draw</a></li>
                                <li><a href="../classes/dwv.tool.DrawGroupCommand.html">dwv.tool.DrawGroupCommand</a></li>
                                <li><a href="../classes/dwv.tool.EllipseFactory.html">dwv.tool.EllipseFactory</a></li>
                                <li><a href="../classes/dwv.tool.Filter.html">dwv.tool.Filter</a></li>
                                <li><a href="../classes/dwv.tool.filter.Sharpen.html">dwv.tool.filter.Sharpen</a></li>
                                <li><a href="../classes/dwv.tool.filter.Sobel.html">dwv.tool.filter.Sobel</a></li>
                                <li><a href="../classes/dwv.tool.filter.Threshold.html">dwv.tool.filter.Threshold</a></li>
                                <li><a href="../classes/dwv.tool.LineFactory.html">dwv.tool.LineFactory</a></li>
                                <li><a href="../classes/dwv.tool.Livewire.html">dwv.tool.Livewire</a></li>
                                <li><a href="../classes/dwv.tool.MoveGroupCommand.html">dwv.tool.MoveGroupCommand</a></li>
                                <li><a href="../classes/dwv.tool.ProtractorFactory.html">dwv.tool.ProtractorFactory</a></li>
                                <li><a href="../classes/dwv.tool.RectangleFactory.html">dwv.tool.RectangleFactory</a></li>
                                <li><a href="../classes/dwv.tool.RoiFactory.html">dwv.tool.RoiFactory</a></li>
                                <li><a href="../classes/dwv.tool.RunFilterCommand.html">dwv.tool.RunFilterCommand</a></li>
                                <li><a href="../classes/dwv.tool.Scroll.html">dwv.tool.Scroll</a></li>
                                <li><a href="../classes/dwv.tool.ShapeEditor.html">dwv.tool.ShapeEditor</a></li>
                                <li><a href="../classes/dwv.tool.Toolbox.html">dwv.tool.Toolbox</a></li>
                                <li><a href="../classes/dwv.tool.UndoStack.html">dwv.tool.UndoStack</a></li>
                                <li><a href="../classes/dwv.tool.WindowLevel.html">dwv.tool.WindowLevel</a></li>
                                <li><a href="../classes/dwv.tool.ZoomAndPan.html">dwv.tool.ZoomAndPan</a></li>
                                <li><a href="../classes/dwv.ToolboxController.html">dwv.ToolboxController</a></li>
                                <li><a href="../classes/dwv.utils.html">dwv.utils</a></li>
                                <li><a href="../classes/dwv.ViewController.html">dwv.ViewController</a></li>
                                <li><a href="../classes/image.ImageFactory.html">image.ImageFactory</a></li>
                                <li><a href="../classes/image.ViewFactory.html">image.ViewFactory</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/browser.html">browser</a></li>
                                <li><a href="../modules/dicom.html">dicom</a></li>
                                <li><a href="../modules/gui.html">gui</a></li>
                                <li><a href="../modules/html.html">html</a></li>
                                <li><a href="../modules/image.html">image</a></li>
                                <li><a href="../modules/info.html">info</a></li>
                                <li><a href="../modules/io.html">io</a></li>
                                <li><a href="../modules/math.html">math</a></li>
                                <li><a href="../modules/tool.html">tool</a></li>
                                <li><a href="../modules/utils.html">utils</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/gui/generic.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        /** 
                         * GUI module.
                         * @module gui
                         */
                        var dwv = dwv || {};
                        /**
                         * Namespace for GUI functions.
                         * @class gui
                         * @namespace dwv
                         * @static
                         */
                        dwv.gui = dwv.gui || {};
                        dwv.gui.base = dwv.gui.base || {};
                        
                        /**
                         * Get the size of the image display window.
                         * @method getWindowSize
                         * @static
                         */
                        dwv.gui.base.getWindowSize = function()
                        {
                            return { &#x27;width&#x27;: ($(window).width()), &#x27;height&#x27;: ($(window).height() - 147) };
                        };
                        
                        /**
                         * Update the progress bar.
                         * @method updateProgress
                         * @static
                         * @param {Object} event A ProgressEvent.
                         */
                        dwv.gui.updateProgress = function(event)
                        {
                            // event is an ProgressEvent.
                            if( event.lengthComputable )
                            {
                                var percent = Math.round((event.loaded / event.total) * 100);
                                dwv.gui.displayProgress(percent);
                            }
                        };
                        
                        /**
                         * Display a progress value.
                         * @method displayProgress
                         * @static
                         * @param {Number} percent The progress percentage.
                         */
                        dwv.gui.base.displayProgress = function(percent)
                        {
                            // jquery-mobile specific
                            if( percent &lt; 100 ) {
                                $.mobile.loading(&quot;show&quot;, {text: percent+&quot;%&quot;, textVisible: true, theme: &quot;b&quot;} );
                            }
                            else if( percent === 100 ) {
                                $.mobile.loading(&quot;hide&quot;);
                            }
                        };
                        
                        /**
                         * Refresh a HTML select. Mainly for jquery-mobile.
                         * @method refreshSelect
                         * @static
                         * @param {String} selectName The name of the HTML select to refresh.
                         */
                        dwv.gui.base.refreshSelect = function(selectName)
                        {
                            // jquery-mobile
                            if( $(selectName).selectmenu ) {
                                $(selectName).selectmenu(&#x27;refresh&#x27;);
                            }
                        };
                        
                        /**
                         * Set the selected item of a HTML select.
                         * @method refreshSelect
                         * @static
                         * @param {String} selectName The name of the HTML select.
                         * @param {String} itemName The name of the itme to mark as selected.
                         */
                        dwv.gui.setSelected = function(selectName, itemName)
                        {
                            var select = document.getElementById(selectName);
                            if ( select ) {
                                var index = 0;
                                for( index in select.options){ 
                                    if( select.options[index].text === itemName ) {
                                        break;
                                    }
                                }
                                select.selectedIndex = index;
                                dwv.gui.refreshSelect(&quot;#&quot; + selectName);
                            }
                        };
                        
                        /**
                         * Slider base gui.
                         * @class Slider
                         * @namespace dwv.gui.base
                         * @constructor
                         */
                        dwv.gui.base.Slider = function (app)
                        {
                            /**
                             * Append the slider HTML.
                             * @method append
                             */
                            this.append = function ()
                            {
                                // default values
                                var min = 0;
                                var max = 1;
                                
                                // jquery-mobile range slider
                                // minimum input
                                var inputMin = document.createElement(&quot;input&quot;);
                                inputMin.id = &quot;threshold-min&quot;;
                                inputMin.type = &quot;range&quot;;
                                inputMin.max = max;
                                inputMin.min = min;
                                inputMin.value = min;
                                // maximum input
                                var inputMax = document.createElement(&quot;input&quot;);
                                inputMax.id = &quot;threshold-max&quot;;
                                inputMax.type = &quot;range&quot;;
                                inputMax.max = max;
                                inputMax.min = min;
                                inputMax.value = max;
                                // slicer div
                                var div = document.createElement(&quot;div&quot;);
                                div.id = &quot;threshold-div&quot;;
                                div.setAttribute(&quot;data-role&quot;, &quot;rangeslider&quot;);
                                div.appendChild(inputMin);
                                div.appendChild(inputMax);
                                div.setAttribute(&quot;data-mini&quot;, &quot;true&quot;);
                                // append to document
                                document.getElementById(&quot;thresholdLi&quot;).appendChild(div);
                                // bind change
                                $(&quot;#threshold-div&quot;).on(&quot;change&quot;,
                                        function(/*event*/) {
                                            app.onChangeMinMax(
                                                { &quot;min&quot;:$(&quot;#threshold-min&quot;).val(),
                                                  &quot;max&quot;:$(&quot;#threshold-max&quot;).val() } );
                                        }
                                    );
                                // trigger creation
                                $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
                            };
                            
                            /**
                             * Initialise the slider HTML.
                             * @method initialise
                             */
                            this.initialise = function ()
                            {
                                var min = app.getImage().getDataRange().min;
                                var max = app.getImage().getDataRange().max;
                                
                                // minimum input
                                var inputMin = document.getElementById(&quot;threshold-min&quot;);
                                inputMin.max = max;
                                inputMin.min = min;
                                inputMin.value = min;
                                // maximum input
                                var inputMax = document.getElementById(&quot;threshold-max&quot;);
                                inputMax.max = max;
                                inputMax.min = min;
                                inputMax.value = max;
                                // trigger creation
                                $(&quot;#toolList&quot;).trigger(&quot;create&quot;);
                            };
                        
                        }; // class dwv.gui.base.Slider
                        
                        /**
                         * Create the DICOM tags table. To be called once the DICOM has been parsed.
                         * @method createTagsTable
                         * @private
                         * @param {Object} dataInfo The data information.
                         */
                        dwv.gui.base.appendTagsTable = function (dataInfo)
                        {
                            // HTML node
                            var node = document.getElementById(&quot;tags&quot;);
                            if( node === null ) {
                                return;
                            }
                            // remove possible previous
                            while (node.hasChildNodes()) { 
                                node.removeChild(node.firstChild);
                            }
                            // tag list table (without the pixel data)
                            if(dataInfo.PixelData) {
                                dataInfo.PixelData.value = &quot;...&quot;;
                            }
                            // tags HTML table
                            var table = dwv.html.toTable(dataInfo);
                            table.id = &quot;tagsTable&quot;;
                            table.className = &quot;tagsList table-stripe&quot;;
                            table.setAttribute(&quot;data-role&quot;, &quot;table&quot;);
                            table.setAttribute(&quot;data-mode&quot;, &quot;columntoggle&quot;);
                            // search form
                            node.appendChild(dwv.html.getHtmlSearchForm(table));
                            // tags table
                            node.appendChild(table);
                            // trigger create event (mobile)
                            $(&quot;#tags&quot;).trigger(&quot;create&quot;);
                        };
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
