/*! dwv 0.6.0beta 13-01-2014 */
var dwv=dwv||{};dwv.App=function(a){function b(){k.addEventListener("wlchange",dwv.info.updateWindowingDiv),k.addEventListener("wlchange",dwv.info.updateMiniColorMap),k.addEventListener("wlchange",dwv.info.updatePlotMarkings),k.addEventListener("colorchange",dwv.info.updateMiniColorMap),k.addEventListener("positionchange",dwv.info.updatePositionDiv)}function c(){k.removeEventListener("wlchange",dwv.info.updateWindowingDiv),k.removeEventListener("wlchange",dwv.info.updateMiniColorMap),k.removeEventListener("wlchange",dwv.info.updatePlotMarkings),k.removeEventListener("colorchange",dwv.info.updateMiniColorMap),k.removeEventListener("positionchange",dwv.info.updatePositionDiv)}function d(b){var c=!1;if(a)if("touchstart"===b.type||"touchmove"===b.type){b.preventDefault();var d=b.targetTouches;if(1===d.length||2===d.length){var e=d[0];b._x=e.pageX-parseInt(app.getImageLayer().getOffset().left,10),b._x=parseInt(b._x/p,10),b._y=e.pageY-parseInt(app.getImageLayer().getOffset().top,10),b._y=parseInt(b._y/p,10),2===d.length&&(e=d[1],b._x1=e.pageX-parseInt(app.getImageLayer().getOffset().left,10),b._x1=parseInt(b._x1/p,10),b._y1=e.pageY-parseInt(app.getImageLayer().getOffset().top,10),b._y1=parseInt(b._y1/p,10)),c=!0}}else"touchend"===b.type&&(c=!0);else"mousemove"===b.type||"mousedown"===b.type||"mouseup"===b.type||"mouseout"===b.type||"mousewheel"===b.type||"dblclick"===b.type||"DOMMouseScroll"===b.type?(b._x=void 0===b.offsetX?b.layerX:b.offsetX,b._x=parseInt(b._x/p,10),b._y=void 0===b.offsetY?b.layerY:b.offsetY,b._y=parseInt(b._y/p,10),c=!0):"keydown"===b.type&&(c=!0);if(c){var f=i.getToolBox().getSelectedTool()[b.type];f&&f(b)}}function e(a){a.name&&a.message?alert(a.name+": "+a.message+"."):alert("Error: "+a+"."),a.stack&&console.log(a.stack)}function f(a,b){i.resize(),q=new dwv.html.Layer("imageLayer"),q.initialise(a,b),q.fillContext(),q.setStyleDisplay(!0),r=new dwv.html.Layer("drawLayer"),r.initialise(a,b),r.setStyleDisplay(!0),s=new dwv.html.Layer("tempLayer"),s.initialise(a,b),s.setStyleDisplay(!0)}function g(a){a.PixelData&&(a.PixelData.value="...");for(var b=document.getElementById("tags");b.hasChildNodes();)b.removeChild(b.firstChild);var c=dwv.html.toTable(a);c.id="tagsTable",c.className="tagsList table-stripe",c.setAttribute("data-role","table"),c.setAttribute("data-mode","columntoggle"),b.appendChild(dwv.html.getHtmlSearchForm(c)),b.appendChild(c)}function h(a){k||(k=a.view,g(a.info),l=k.getImage(),j=l,n=j.getSize().getNumberOfColumns(),o=j.getSize().getNumberOfRows(),f(n,o),dwv.info.createWindowingDiv(),dwv.info.createPositionDiv(),dwv.info.createMiniColorMap(),dwv.info.createPlot(),m=i.getImageLayer().getContext().createImageData(n,o),s.getCanvas().addEventListener("mousedown",d,!1),s.getCanvas().addEventListener("mousemove",d,!1),s.getCanvas().addEventListener("mouseup",d,!1),s.getCanvas().addEventListener("mouseout",d,!1),s.getCanvas().addEventListener("mousewheel",d,!1),s.getCanvas().addEventListener("DOMMouseScroll",d,!1),s.getCanvas().addEventListener("dblclick",d,!1),s.getCanvas().addEventListener("touchstart",d,!1),s.getCanvas().addEventListener("touchmove",d,!1),s.getCanvas().addEventListener("touchend",d,!1),window.addEventListener("keydown",d,!0),k.addEventListener("wlchange",app.generateAndDrawImage),k.addEventListener("colorchange",app.generateAndDrawImage),k.addEventListener("slicechange",app.generateAndDrawImage),b(),u.enable(!0),dwv.gui.appendUndoHtml(),dwv.tool.updateWindowingData(parseInt(app.getView().getWindowLut().getCenter(),10),parseInt(app.getView().getWindowLut().getWidth(),10)),dwv.tool.updatePostionValue(0,0))}var i=this,j=null,k=null,l=null,m=null,n=0,o=0,p=1,q=null,r=null,s=null,t=!0,u=new dwv.tool.ToolBox(this),v=new dwv.tool.UndoStack(this);this.getImage=function(){return j},this.getView=function(){return k},this.setImage=function(a){j=a,k.setImage(a)},this.restoreOriginalImage=function(){j=l,k.setImage(l)},this.getImageData=function(){return m},this.getToolBox=function(){return u},this.getImageLayer=function(){return q},this.getDrawLayer=function(){return r},this.getTempLayer=function(){return s},this.getUndoStack=function(){return v},this.isMobile=function(){return a},this.init=function(){dwv.gui.appendLoadboxHtml(),dwv.gui.appendHelpHtml(a)},this.reset=function(){j=null,k=null,v=new dwv.tool.UndoStack(this)},this.handleKeyDown=function(a){90===a.keyCode&&a.ctrlKey?i.getUndoStack().undo():89===a.keyCode&&a.ctrlKey&&i.getUndoStack().redo()},this.onChangeFiles=function(a){i.loadFiles(a.target.files)},this.loadFiles=function(a){this.reset();var b=new dwv.io.File;b.onload=function(a){j&&j.appendSlice(a.view.getImage()),h(a)},b.onerror=function(a){e(a)},b.load(a)},this.onChangeURL=function(a){i.loadURL([a.target.value])},this.loadURL=function(a){this.reset();var b=new dwv.io.Url;b.onload=function(a){j&&j.appendSlice(a.view.getImage()),h(a)},b.onerror=function(a){e(a)},b.load(a)},this.generateAndDrawImage=function(){i.getView().generateImageData(m),i.getImageLayer().setImageData(m),i.getImageLayer().draw()},this.resize=function(){var b=0,c=0;a?(b=$(window).width(),c=$(window).height()-147):(b=$("#pageMain").width()-360,c=$("#pageMain").height()-75),p=Math.min(b/n,c/o),$("#layerContainer").width(parseInt(p*n,10)),$("#layerContainer").height(parseInt(p*o,10))},this.toggleInfoLayerDisplay=function(){dwv.html.toggleDisplay("infoLayer"),t?(c(),t=!1):(b(),t=!0)}};var dwv=dwv||{};dwv.dicom=dwv.dicom||{},dwv.dicom.DataReader=function(a,b){var c=new DataView(a);"undefined"==typeof b&&(b=!0),this.readUint8=function(a){return c.getUint8(a,b)},this.readUint16=function(a){return c.getUint16(a,b)},this.readUint32=function(a){return c.getUint32(a,b)},this.readFloat32=function(a){return c.getFloat32(a,b)},this.readNumber=function(a,c){if(1===c)return this.readUint8(a,b);if(2===c)return this.readUint16(a,b);if(4===c)return this.readUint32(a,b);if(8===c)return this.readFloat32(a,b);throw console.log("Non number: '"+this.readString(a,c)+"'"),new Error("Unsupported number size.")},this.readUint8Array=function(a,b){for(var c=new Uint8Array(b),d=0,e=a;a+b>e;++e)c[d++]=this.readUint8(e);return c},this.readUint16Array=function(a,b){for(var c=new Uint16Array(b/2),d=0,e=a;a+b>e;e+=2)c[d++]=this.readUint16(e);return c},this.readHex=function(a){var b=this.readUint16(a).toString(16);return"0x0000".substr(0,6-b.length)+b.toUpperCase()},this.readString=function(a,b){for(var c="",d=a;a+b>d;++d)c+=String.fromCharCode(this.readUint8(d));return c}},dwv.dicom.isJpegTransferSyntax=function(a){return null!==a.match(/1.2.840.10008.1.2.4.5/)||null!==a.match(/1.2.840.10008.1.2.4.6/)||null!==a.match(/1.2.840.10008.1.2.4.7/)},dwv.dicom.isJpeglsTransferSyntax=function(a){return null!==a.match(/1.2.840.10008.1.2.4.8/)},dwv.dicom.isJpeg2000TransferSyntax=function(a){return null!==a.match(/1.2.840.10008.1.2.4.9/)},dwv.dicom.DicomParser=function(){this.dicomElements={},this.numberOfItems=0,this.dict=new dwv.dicom.Dictionary,this.pixelBuffer=[]},dwv.dicom.DicomParser.prototype.getPixelBuffer=function(){return this.pixelBuffer},dwv.dicom.DicomParser.prototype.appendDicomElement=function(a){var b=a.name;"Item"===b&&++this.numberOfItems;for(var c=1;this.dicomElements[b];)b=a.name+(c++).toString();this.dicomElements[b]={group:a.group,element:a.element,vr:a.vr,vl:a.vl,value:a.value}},dwv.dicom.DicomParser.prototype.readTag=function(a,b){var c=a.readHex(b),d=a.readHex(b+2),e="dwv::unknown";return this.dict.newDictionary[c]&&this.dict.newDictionary[c][d]&&(e=this.dict.newDictionary[c][d][2]),{group:c,element:d,name:e}},dwv.dicom.DicomParser.prototype.readDataElement=function(a,b,c){var d,e,f=this.readTag(a,b),g=4,h=0,i=0;"0xFFFE"===f.group?(d="N/A",h=0,e=a.readUint32(b+g),i=4):c?(d="UN",this.dict.newDictionary[f.group]&&this.dict.newDictionary[f.group][f.element]&&(d=this.dict.newDictionary[f.group][f.element][0]),h=0,e=a.readUint32(b+g+h),i=4):(d=a.readString(b+g,2),h=2,"OB"===d||"OF"===d||"SQ"===d||"OW"===d||"UN"===d?(e=a.readUint32(b+g+h+2),i=6):(e=a.readUint16(b+g+h),i=2)),4294967295===e&&(e=0);var j,k=b+g+h+i;"US"===d||"UL"===d?j=[a.readNumber(k,e)]:"OX"===d||"OW"===d?j=a.readUint16Array(k,e):"OB"===d||"N/A"===d?j=a.readUint8Array(k,e):(j=a.readString(k,e),j=j.split("\\"));var l=g+h+i+e;return{tag:f,vr:d,vl:e,data:j,offset:l}},dwv.dicom.DicomParser.prototype.parse=function(a){var b=0,c=!1,d=!1,e=!1,f=!1;this.dict.init();var g=new dwv.dicom.DataReader(a),h=new dwv.dicom.DataReader(a);b=128;var i=g.readString(b,4);if("DICM"!==i)throw new Error("Not a valid DICOM file (no magic DICM word found)");b+=4;var j=this.readDataElement(g,b),k=parseInt(j.data,10);b+=j.offset;for(var l=b,m=l+k,n=l;m>n;){if(j=this.readDataElement(g,n,!1),"TransferSyntaxUID"===j.tag.name){var o=dwv.utils.cleanString(j.data[0]);if("1.2.840.10008.1.2"===o)c=!0;else{if("1.2.840.10008.1.2.1.99"===o)throw new Error("Unsupported DICOM transfer syntax (Deflated Explicit VR): "+o);if("1.2.840.10008.1.2.2"===o)h=new dwv.dicom.DataReader(a,!1);else{if(dwv.dicom.isJpegTransferSyntax(o))throw d=!0,new Error("Unsupported DICOM transfer syntax (JPEG): "+o);if(dwv.dicom.isJpeglsTransferSyntax(o))throw e=!0,new Error("Unsupported DICOM transfer syntax (JPEG-LS): "+o);if(dwv.dicom.isJpeg2000TransferSyntax(o))console.log("JPEG 2000 compressed DICOM data: "+o),f=!0;else{if("1.2.840.10008.1.2.4.100"===o)throw new Error("Unsupported DICOM transfer syntax (MPEG2): "+o);if("1.2.840.10008.1.2.4.5"===o)throw new Error("Unsupported DICOM transfer syntax (RLE): "+o)}}}}this.appendDicomElement({name:j.tag.name,group:j.tag.group,vr:j.vr,vl:j.vl,element:j.tag.element,value:j.data}),n+=j.offset}for(var p=!1,q="";n<a.byteLength;){try{j=this.readDataElement(h,n,c)}catch(r){console.warn("Problem reading at "+n+" / "+a.byteLength+", after "+q+".\n"+r)}if(q=j.tag.name,p)if("Item"===q){if(4===j.data.length)console.log("Skipping Basic Offset Table.");else if(0!==j.data.length){console.log("Concatenating multiple pixel data items, length: "+j.data.length);var s=j.data.length+this.pixelBuffer.length,t=new Uint16Array(s);t.set(this.pixelBuffer,0),t.set(j.data,this.pixelBuffer.length),this.pixelBuffer=t}}else{if("SequenceDelimitationItem"!==q)throw new Error("Unexpected tag in encapsulated pixel data: "+j.tag.name);p=!1}"PixelData"===q&&(0!==j.data.length?this.pixelBuffer=j.data:p=!0),this.appendDicomElement({name:q,group:j.tag.group,vr:j.vr,vl:j.vl,element:j.tag.element,value:j.data}),n+=j.offset}if(d);else if(f){var u=null;try{u=openjpeg(this.pixelBuffer,"j2k")}catch(v){throw new Error("Cannot decode JPEG 2000 (["+v.name+"] "+v.message+")")}this.pixelBuffer=u.data}},dwv.dicom.DicomParser.prototype.createImage=function(){if(!this.dicomElements.Columns)throw new Error("Missing DICOM image number of columns");if(!this.dicomElements.Rows)throw new Error("Missing DICOM image number of rows");var a=new dwv.image.Size(this.dicomElements.Columns.value[0],this.dicomElements.Rows.value[0]),b=1,c=1;this.dicomElements.PixelSpacing?(b=parseFloat(this.dicomElements.PixelSpacing.value[0]),c=parseFloat(this.dicomElements.PixelSpacing.value[1])):this.dicomElements.ImagerPixelSpacing&&(b=parseFloat(this.dicomElements.ImagerPixelSpacing.value[0]),c=parseFloat(this.dicomElements.ImagerPixelSpacing.value[1]));var d=new dwv.image.Spacing(c,b),e=dwv.utils.cleanString(this.dicomElements.TransferSyntaxUID.value[0]),f=dwv.dicom.isJpeg2000TransferSyntax(e),g=null;if(f&&16===this.dicomElements.BitsAllocated.value[0]){var h=a.getSliceSize();g=new Int16Array(h);for(var i=0,j=0;h>j;++j)g[j]=256*this.pixelBuffer[i]+this.pixelBuffer[i+1],i+=2}else{g=new Int16Array(this.pixelBuffer.length);var k=!1;this.dicomElements.PixelRepresentation&&1==this.dicomElements.PixelRepresentation.value[0]&&(k=!0);for(var l=0;l<this.pixelBuffer.length;++l)g[l]=this.pixelBuffer[l],k&&g[l]>=Math.pow(2,15)&&(g[l]-=Math.pow(2,16))}var m=[0,0,0];this.dicomElements.ImagePositionPatient&&(m=[parseFloat(this.dicomElements.ImagePositionPatient.value[0]),parseFloat(this.dicomElements.ImagePositionPatient.value[1]),parseFloat(this.dicomElements.ImagePositionPatient.value[2])]);var n=new dwv.image.Image(a,d,g,[m]);if(this.dicomElements.PhotometricInterpretation){var o=dwv.utils.cleanString(this.dicomElements.PhotometricInterpretation.value[0]).toUpperCase();f&&o.match(/YBR/)&&(o="RGB"),n.setPhotometricInterpretation(o)}if(this.dicomElements.PlanarConfiguration){var p=this.dicomElements.PlanarConfiguration.value[0];f&&(p=1),n.setPlanarConfiguration(p)}this.dicomElements.RescaleSlope&&n.setRescaleSlope(parseFloat(this.dicomElements.RescaleSlope.value[0])),this.dicomElements.RescaleIntercept&&n.setRescaleIntercept(parseFloat(this.dicomElements.RescaleIntercept.value[0]));var q={};this.dicomElements.Modality&&(q.Modality=this.dicomElements.Modality.value[0]),this.dicomElements.StudyInstanceUID&&(q.StudyInstanceUID=this.dicomElements.StudyInstanceUID.value[0]),this.dicomElements.SeriesInstanceUID&&(q.SeriesInstanceUID=this.dicomElements.SeriesInstanceUID.value[0]),this.dicomElements.BitsStored&&(q.BitsStored=parseInt(this.dicomElements.BitsStored.value[0],10)),n.setMeta(q);var r=0;this.dicomElements.PixelRepresentation&&(r=this.dicomElements.PixelRepresentation.value[0]);var s=new dwv.image.View(n,r),t=[];if(this.dicomElements.WindowCenter&&this.dicomElements.WindowWidth)for(var u,v=0;v<this.dicomElements.WindowCenter.value.length;++v){var w=parseFloat(this.dicomElements.WindowWidth.value[v],10);0!==w&&(u=this.dicomElements.WindowCenterWidthExplanation?this.dicomElements.WindowCenterWidthExplanation.value[v]:"Default"+v,t.push({center:parseFloat(this.dicomElements.WindowCenter.value[v],10),width:w,name:u}))}return 0!==t.length?s.setWindowPresets(t):s.setWindowLevelMinMax(),s};var dwv=dwv||{};dwv.dicom=dwv.dicom||{},dwv.dicom.Dictionary=function(){this.newDictionary=[]},dwv.dicom.Dictionary.prototype.init=function(){this.newDictionary["0x0000"]=[],this.newDictionary["0x0000"]["0x0000"]=["UL","1","GroupLength"],this.newDictionary["0x0000"]["0x0001"]=["UL","1","CommandLengthToEnd"],this.newDictionary["0x0000"]["0x0002"]=["UI","1","AffectedSOPClassUID"],this.newDictionary["0x0000"]["0x0003"]=["UI","1","RequestedSOPClassUID"],this.newDictionary["0x0000"]["0x0010"]=["CS","1","CommandRecognitionCode"],this.newDictionary["0x0000"]["0x0100"]=["US","1","CommandField"],this.newDictionary["0x0000"]["0x0110"]=["US","1","MessageID"],this.newDictionary["0x0000"]["0x0120"]=["US","1","MessageIDBeingRespondedTo"],this.newDictionary["0x0000"]["0x0200"]=["AE","1","Initiator"],this.newDictionary["0x0000"]["0x0300"]=["AE","1","Receiver"],this.newDictionary["0x0000"]["0x0400"]=["AE","1","FindLocation"],this.newDictionary["0x0000"]["0x0600"]=["AE","1","MoveDestination"],this.newDictionary["0x0000"]["0x0700"]=["US","1","Priority"],this.newDictionary["0x0000"]["0x0800"]=["US","1","DataSetType"],this.newDictionary["0x0000"]["0x0850"]=["US","1","NumberOfMatches"],this.newDictionary["0x0000"]["0x0860"]=["US","1","ResponseSequenceNumber"],this.newDictionary["0x0000"]["0x0900"]=["US","1","Status"],this.newDictionary["0x0000"]["0x0901"]=["AT","1-n","OffendingElement"],this.newDictionary["0x0000"]["0x0902"]=["LO","1","ErrorComment"],this.newDictionary["0x0000"]["0x0903"]=["US","1","ErrorID"],this.newDictionary["0x0000"]["0x0904"]=["OT","1-n","ErrorInformation"],this.newDictionary["0x0000"]["0x1000"]=["UI","1","AffectedSOPInstanceUID"],this.newDictionary["0x0000"]["0x1001"]=["UI","1","RequestedSOPInstanceUID"],this.newDictionary["0x0000"]["0x1002"]=["US","1","EventTypeID"],this.newDictionary["0x0000"]["0x1003"]=["OT","1-n","EventInformation"],this.newDictionary["0x0000"]["0x1005"]=["AT","1-n","AttributeIdentifierList"],this.newDictionary["0x0000"]["0x1007"]=["AT","1-n","ModificationList"],this.newDictionary["0x0000"]["0x1008"]=["US","1","ActionTypeID"],this.newDictionary["0x0000"]["0x1009"]=["OT","1-n","ActionInformation"],this.newDictionary["0x0000"]["0x1013"]=["UI","1-n","SuccessfulSOPInstanceUIDList"],this.newDictionary["0x0000"]["0x1014"]=["UI","1-n","FailedSOPInstanceUIDList"],this.newDictionary["0x0000"]["0x1015"]=["UI","1-n","WarningSOPInstanceUIDList"],this.newDictionary["0x0000"]["0x1020"]=["US","1","NumberOfRemainingSuboperations"],this.newDictionary["0x0000"]["0x1021"]=["US","1","NumberOfCompletedSuboperations"],this.newDictionary["0x0000"]["0x1022"]=["US","1","NumberOfFailedSuboperations"],this.newDictionary["0x0000"]["0x1023"]=["US","1","NumberOfWarningSuboperations"],this.newDictionary["0x0000"]["0x1030"]=["AE","1","MoveOriginatorApplicationEntityTitle"],this.newDictionary["0x0000"]["0x1031"]=["US","1","MoveOriginatorMessageID"],this.newDictionary["0x0000"]["0x4000"]=["AT","1","DialogReceiver"],this.newDictionary["0x0000"]["0x4010"]=["AT","1","TerminalType"],this.newDictionary["0x0000"]["0x5010"]=["SH","1","MessageSetID"],this.newDictionary["0x0000"]["0x5020"]=["SH","1","EndMessageSet"],this.newDictionary["0x0000"]["0x5110"]=["AT","1","DisplayFormat"],this.newDictionary["0x0000"]["0x5120"]=["AT","1","PagePositionID"],this.newDictionary["0x0000"]["0x5130"]=["CS","1","TextFormatID"],this.newDictionary["0x0000"]["0x5140"]=["CS","1","NormalReverse"],this.newDictionary["0x0000"]["0x5150"]=["CS","1","AddGrayScale"],this.newDictionary["0x0000"]["0x5160"]=["CS","1","Borders"],this.newDictionary["0x0000"]["0x5170"]=["IS","1","Copies"],this.newDictionary["0x0000"]["0x5180"]=["CS","1","OldMagnificationType"],this.newDictionary["0x0000"]["0x5190"]=["CS","1","Erase"],this.newDictionary["0x0000"]["0x51A0"]=["CS","1","Print"],this.newDictionary["0x0000"]["0x51B0"]=["US","1-n","Overlays"],this.newDictionary["0x0002"]=[],this.newDictionary["0x0002"]["0x0000"]=["UL","1","MetaElementGroupLength"],this.newDictionary["0x0002"]["0x0001"]=["OB","1","FileMetaInformationVersion"],this.newDictionary["0x0002"]["0x0002"]=["UI","1","MediaStorageSOPClassUID"],this.newDictionary["0x0002"]["0x0003"]=["UI","1","MediaStorageSOPInstanceUID"],this.newDictionary["0x0002"]["0x0010"]=["UI","1","TransferSyntaxUID"],this.newDictionary["0x0002"]["0x0012"]=["UI","1","ImplementationClassUID"],this.newDictionary["0x0002"]["0x0013"]=["SH","1","ImplementationVersionName"],this.newDictionary["0x0002"]["0x0016"]=["AE","1","SourceApplicationEntityTitle"],this.newDictionary["0x0002"]["0x0100"]=["UI","1","PrivateInformationCreatorUID"],this.newDictionary["0x0002"]["0x0102"]=["OB","1","PrivateInformation"],this.newDictionary["0x0004"]=[],this.newDictionary["0x0004"]["0x0000"]=["UL","1","FileSetGroupLength"],this.newDictionary["0x0004"]["0x1130"]=["CS","1","FileSetID"],this.newDictionary["0x0004"]["0x1141"]=["CS","8","FileSetDescriptorFileID"],this.newDictionary["0x0004"]["0x1142"]=["CS","1","FileSetCharacterSet"],this.newDictionary["0x0004"]["0x1200"]=["UL","1","RootDirectoryFirstRecord"],this.newDictionary["0x0004"]["0x1202"]=["UL","1","RootDirectoryLastRecord"],this.newDictionary["0x0004"]["0x1212"]=["US","1","FileSetConsistencyFlag"],this.newDictionary["0x0004"]["0x1220"]=["SQ","1","DirectoryRecordSequence"],this.newDictionary["0x0004"]["0x1400"]=["UL","1","NextDirectoryRecordOffset"],this.newDictionary["0x0004"]["0x1410"]=["US","1","RecordInUseFlag"],this.newDictionary["0x0004"]["0x1420"]=["UL","1","LowerLevelDirectoryOffset"],this.newDictionary["0x0004"]["0x1430"]=["CS","1","DirectoryRecordType"],this.newDictionary["0x0004"]["0x1432"]=["UI","1","PrivateRecordUID"],this.newDictionary["0x0004"]["0x1500"]=["CS","8","ReferencedFileID"],this.newDictionary["0x0004"]["0x1504"]=["UL","1","DirectoryRecordOffset"],this.newDictionary["0x0004"]["0x1510"]=["UI","1","ReferencedSOPClassUIDInFile"],this.newDictionary["0x0004"]["0x1511"]=["UI","1","ReferencedSOPInstanceUIDInFile"],this.newDictionary["0x0004"]["0x1512"]=["UI","1","ReferencedTransferSyntaxUIDInFile"],this.newDictionary["0x0004"]["0x1600"]=["UL","1","NumberOfReferences"],this.newDictionary["0x0008"]=[],this.newDictionary["0x0008"]["0x0000"]=["UL","1","IdentifyingGroupLength"],this.newDictionary["0x0008"]["0x0001"]=["UL","1","LengthToEnd"],this.newDictionary["0x0008"]["0x0005"]=["CS","1","SpecificCharacterSet"],this.newDictionary["0x0008"]["0x0008"]=["CS","1-n","ImageType"],this.newDictionary["0x0008"]["0x000A"]=["US","1","SequenceItemNumber"],this.newDictionary["0x0008"]["0x0010"]=["CS","1","RecognitionCode"],this.newDictionary["0x0008"]["0x0012"]=["DA","1","InstanceCreationDate"],this.newDictionary["0x0008"]["0x0013"]=["TM","1","InstanceCreationTime"],this.newDictionary["0x0008"]["0x0014"]=["UI","1","InstanceCreatorUID"],this.newDictionary["0x0008"]["0x0016"]=["UI","1","SOPClassUID"],this.newDictionary["0x0008"]["0x0018"]=["UI","1","SOPInstanceUID"],this.newDictionary["0x0008"]["0x0020"]=["DA","1","StudyDate"],this.newDictionary["0x0008"]["0x0021"]=["DA","1","SeriesDate"],this.newDictionary["0x0008"]["0x0022"]=["DA","1","AcquisitionDate"],this.newDictionary["0x0008"]["0x0023"]=["DA","1","ImageDate"],this.newDictionary["0x0008"]["0x0024"]=["DA","1","OverlayDate"],this.newDictionary["0x0008"]["0x0025"]=["DA","1","CurveDate"],this.newDictionary["0x0008"]["0x002A"]=["DT","1","AcquisitionDatetime"],this.newDictionary["0x0008"]["0x0030"]=["TM","1","StudyTime"],this.newDictionary["0x0008"]["0x0031"]=["TM","1","SeriesTime"],this.newDictionary["0x0008"]["0x0032"]=["TM","1","AcquisitionTime"],this.newDictionary["0x0008"]["0x0033"]=["TM","1","ImageTime"],this.newDictionary["0x0008"]["0x0034"]=["TM","1","OverlayTime"],this.newDictionary["0x0008"]["0x0035"]=["TM","1","CurveTime"],this.newDictionary["0x0008"]["0x0040"]=["US","1","OldDataSetType"],this.newDictionary["0x0008"]["0x0041"]=["LT","1","OldDataSetSubtype"],this.newDictionary["0x0008"]["0x0042"]=["CS","1","NuclearMedicineSeriesType"],this.newDictionary["0x0008"]["0x0050"]=["SH","1","AccessionNumber"],this.newDictionary["0x0008"]["0x0052"]=["CS","1","QueryRetrieveLevel"],this.newDictionary["0x0008"]["0x0054"]=["AE","1-n","RetrieveAETitle"],this.newDictionary["0x0008"]["0x0058"]=["UI","1-n","DataSetFailedSOPInstanceUIDList"],this.newDictionary["0x0008"]["0x0060"]=["CS","1","Modality"],this.newDictionary["0x0008"]["0x0061"]=["CS","1-n","ModalitiesInStudy"],this.newDictionary["0x0008"]["0x0064"]=["CS","1","ConversionType"],this.newDictionary["0x0008"]["0x0068"]=["CS","1","PresentationIntentType"],this.newDictionary["0x0008"]["0x0070"]=["LO","1","Manufacturer"],this.newDictionary["0x0008"]["0x0080"]=["LO","1","InstitutionName"],this.newDictionary["0x0008"]["0x0081"]=["ST","1","InstitutionAddress"],this.newDictionary["0x0008"]["0x0082"]=["SQ","1","InstitutionCodeSequence"],this.newDictionary["0x0008"]["0x0090"]=["PN","1","ReferringPhysicianName"],this.newDictionary["0x0008"]["0x0092"]=["ST","1","ReferringPhysicianAddress"],this.newDictionary["0x0008"]["0x0094"]=["SH","1-n","ReferringPhysicianTelephoneNumber"],this.newDictionary["0x0008"]["0x0100"]=["SH","1","CodeValue"],this.newDictionary["0x0008"]["0x0102"]=["SH","1","CodingSchemeDesignator"],this.newDictionary["0x0008"]["0x0103"]=["SH","1","CodingSchemeVersion"],this.newDictionary["0x0008"]["0x0104"]=["LO","1","CodeMeaning"],this.newDictionary["0x0008"]["0x0105"]=["CS","1","MappingResource"],this.newDictionary["0x0008"]["0x0106"]=["DT","1","ContextGroupVersion"],this.newDictionary["0x0008"]["0x0107"]=["DT","1","ContextGroupLocalVersion"],this.newDictionary["0x0008"]["0x010B"]=["CS","1","CodeSetExtensionFlag"],this.newDictionary["0x0008"]["0x010C"]=["UI","1","PrivateCodingSchemeCreatorUID"],this.newDictionary["0x0008"]["0x010D"]=["UI","1","CodeSetExtensionCreatorUID"],this.newDictionary["0x0008"]["0x010F"]=["CS","1","ContextIdentifier"],this.newDictionary["0x0008"]["0x0201"]=["SH","1","TimezoneOffsetFromUTC"],this.newDictionary["0x0008"]["0x1000"]=["AE","1","NetworkID"],this.newDictionary["0x0008"]["0x1010"]=["SH","1","StationName"],this.newDictionary["0x0008"]["0x1030"]=["LO","1","StudyDescription"],this.newDictionary["0x0008"]["0x1032"]=["SQ","1","ProcedureCodeSequence"],this.newDictionary["0x0008"]["0x103E"]=["LO","1","SeriesDescription"],this.newDictionary["0x0008"]["0x1040"]=["LO","1","InstitutionalDepartmentName"],this.newDictionary["0x0008"]["0x1048"]=["PN","1-n","PhysicianOfRecord"],this.newDictionary["0x0008"]["0x1050"]=["PN","1-n","PerformingPhysicianName"],this.newDictionary["0x0008"]["0x1060"]=["PN","1-n","PhysicianReadingStudy"],this.newDictionary["0x0008"]["0x1070"]=["PN","1-n","OperatorName"],this.newDictionary["0x0008"]["0x1080"]=["LO","1-n","AdmittingDiagnosisDescription"],this.newDictionary["0x0008"]["0x1084"]=["SQ","1","AdmittingDiagnosisCodeSequence"],this.newDictionary["0x0008"]["0x1090"]=["LO","1","ManufacturerModelName"],this.newDictionary["0x0008"]["0x1100"]=["SQ","1","ReferencedResultsSequence"],this.newDictionary["0x0008"]["0x1110"]=["SQ","1","ReferencedStudySequence"],this.newDictionary["0x0008"]["0x1111"]=["SQ","1","ReferencedStudyComponentSequence"],this.newDictionary["0x0008"]["0x1115"]=["SQ","1","ReferencedSeriesSequence"],this.newDictionary["0x0008"]["0x1120"]=["SQ","1","ReferencedPatientSequence"],this.newDictionary["0x0008"]["0x1125"]=["SQ","1","ReferencedVisitSequence"],this.newDictionary["0x0008"]["0x1130"]=["SQ","1","ReferencedOverlaySequence"],this.newDictionary["0x0008"]["0x1140"]=["SQ","1","ReferencedImageSequence"],this.newDictionary["0x0008"]["0x1145"]=["SQ","1","ReferencedCurveSequence"],this.newDictionary["0x0008"]["0x114A"]=["SQ","1","ReferencedInstanceSequence"],this.newDictionary["0x0008"]["0x114B"]=["LO","1","ReferenceDescription"],this.newDictionary["0x0008"]["0x1150"]=["UI","1","ReferencedSOPClassUID"],this.newDictionary["0x0008"]["0x1155"]=["UI","1","ReferencedSOPInstanceUID"],this.newDictionary["0x0008"]["0x115A"]=["UI","1-n","SOPClassesSupported"],this.newDictionary["0x0008"]["0x1160"]=["IS","1","ReferencedFrameNumber"],this.newDictionary["0x0008"]["0x1195"]=["UI","1","TransactionUID"],this.newDictionary["0x0008"]["0x1197"]=["US","1","FailureReason"],this.newDictionary["0x0008"]["0x1198"]=["SQ","1","FailedSOPSequence"],this.newDictionary["0x0008"]["0x1199"]=["SQ","1","ReferencedSOPSequence"],this.newDictionary["0x0008"]["0x2110"]=["CS","1","LossyImageCompression"],this.newDictionary["0x0008"]["0x2111"]=["ST","1","DerivationDescription"],this.newDictionary["0x0008"]["0x2112"]=["SQ","1","SourceImageSequence"],this.newDictionary["0x0008"]["0x2120"]=["SH","1","StageName"],this.newDictionary["0x0008"]["0x2122"]=["IS","1","StageNumber"],this.newDictionary["0x0008"]["0x2124"]=["IS","1","NumberOfStages"],this.newDictionary["0x0008"]["0x2128"]=["IS","1","ViewNumber"],this.newDictionary["0x0008"]["0x2129"]=["IS","1","NumberOfEventTimers"],this.newDictionary["0x0008"]["0x212A"]=["IS","1","NumberOfViewsInStage"],this.newDictionary["0x0008"]["0x2130"]=["DS","1-n","EventElapsedTime"],this.newDictionary["0x0008"]["0x2132"]=["LO","1-n","EventTimerName"],this.newDictionary["0x0008"]["0x2142"]=["IS","1","StartTrim"],this.newDictionary["0x0008"]["0x2143"]=["IS","1","StopTrim"],this.newDictionary["0x0008"]["0x2144"]=["IS","1","RecommendedDisplayFrameRate"],this.newDictionary["0x0008"]["0x2200"]=["CS","1","TransducerPosition"],this.newDictionary["0x0008"]["0x2204"]=["CS","1","TransducerOrientation"],this.newDictionary["0x0008"]["0x2208"]=["CS","1","AnatomicStructure"],this.newDictionary["0x0008"]["0x2218"]=["SQ","1","AnatomicRegionSequence"],this.newDictionary["0x0008"]["0x2220"]=["SQ","1","AnatomicRegionModifierSequence"],this.newDictionary["0x0008"]["0x2228"]=["SQ","1","PrimaryAnatomicStructureSequence"],this.newDictionary["0x0008"]["0x2229"]=["SQ","1","AnatomicStructureSpaceOrRegionSequence"],this.newDictionary["0x0008"]["0x2230"]=["SQ","1","PrimaryAnatomicStructureModifierSequence"],this.newDictionary["0x0008"]["0x2240"]=["SQ","1","TransducerPositionSequence"],this.newDictionary["0x0008"]["0x2242"]=["SQ","1","TransducerPositionModifierSequence"],this.newDictionary["0x0008"]["0x2244"]=["SQ","1","TransducerOrientationSequence"],this.newDictionary["0x0008"]["0x2246"]=["SQ","1","TransducerOrientationModifierSequence"],this.newDictionary["0x0008"]["0x4000"]=["LT","1-n","IdentifyingComments"],this.newDictionary["0x0010"]=[],this.newDictionary["0x0010"]["0x0000"]=["UL","1","PatientGroupLength"],this.newDictionary["0x0010"]["0x0010"]=["PN","1","PatientName"],this.newDictionary["0x0010"]["0x0020"]=["LO","1","PatientID"],this.newDictionary["0x0010"]["0x0021"]=["LO","1","IssuerOfPatientID"],this.newDictionary["0x0010"]["0x0030"]=["DA","1","PatientBirthDate"],this.newDictionary["0x0010"]["0x0032"]=["TM","1","PatientBirthTime"],this.newDictionary["0x0010"]["0x0040"]=["CS","1","PatientSex"],this.newDictionary["0x0010"]["0x0050"]=["SQ","1","PatientInsurancePlanCodeSequence"],this.newDictionary["0x0010"]["0x1000"]=["LO","1-n","OtherPatientID"],this.newDictionary["0x0010"]["0x1001"]=["PN","1-n","OtherPatientName"],this.newDictionary["0x0010"]["0x1005"]=["PN","1","PatientBirthName"],this.newDictionary["0x0010"]["0x1010"]=["AS","1","PatientAge"],this.newDictionary["0x0010"]["0x1020"]=["DS","1","PatientSize"],this.newDictionary["0x0010"]["0x1030"]=["DS","1","PatientWeight"],this.newDictionary["0x0010"]["0x1040"]=["LO","1","PatientAddress"],this.newDictionary["0x0010"]["0x1050"]=["LT","1-n","InsurancePlanIdentification"],this.newDictionary["0x0010"]["0x1060"]=["PN","1","PatientMotherBirthName"],this.newDictionary["0x0010"]["0x1080"]=["LO","1","MilitaryRank"],this.newDictionary["0x0010"]["0x1081"]=["LO","1","BranchOfService"],this.newDictionary["0x0010"]["0x1090"]=["LO","1","MedicalRecordLocator"],this.newDictionary["0x0010"]["0x2000"]=["LO","1-n","MedicalAlerts"],this.newDictionary["0x0010"]["0x2110"]=["LO","1-n","ContrastAllergies"],this.newDictionary["0x0010"]["0x2150"]=["LO","1","CountryOfResidence"],this.newDictionary["0x0010"]["0x2152"]=["LO","1","RegionOfResidence"],this.newDictionary["0x0010"]["0x2154"]=["SH","1-n","PatientTelephoneNumber"],this.newDictionary["0x0010"]["0x2160"]=["SH","1","EthnicGroup"],this.newDictionary["0x0010"]["0x2180"]=["SH","1","Occupation"],this.newDictionary["0x0010"]["0x21A0"]=["CS","1","SmokingStatus"],this.newDictionary["0x0010"]["0x21B0"]=["LT","1","AdditionalPatientHistory"],this.newDictionary["0x0010"]["0x21C0"]=["US","1","PregnancyStatus"],this.newDictionary["0x0010"]["0x21D0"]=["DA","1","LastMenstrualDate"],this.newDictionary["0x0010"]["0x21F0"]=["LO","1","PatientReligiousPreference"],this.newDictionary["0x0010"]["0x4000"]=["LT","1","PatientComments"],this.newDictionary["0x0018"]=[],this.newDictionary["0x0018"]["0x0000"]=["UL","1","AcquisitionGroupLength"],this.newDictionary["0x0018"]["0x0010"]=["LO","1","ContrastBolusAgent"],this.newDictionary["0x0018"]["0x0012"]=["SQ","1","ContrastBolusAgentSequence"],this.newDictionary["0x0018"]["0x0014"]=["SQ","1","ContrastBolusAdministrationRouteSequence"],this.newDictionary["0x0018"]["0x0015"]=["CS","1","BodyPartExamined"],this.newDictionary["0x0018"]["0x0020"]=["CS","1-n","ScanningSequence"],this.newDictionary["0x0018"]["0x0021"]=["CS","1-n","SequenceVariant"],this.newDictionary["0x0018"]["0x0022"]=["CS","1-n","ScanOptions"],this.newDictionary["0x0018"]["0x0023"]=["CS","1","MRAcquisitionType"],this.newDictionary["0x0018"]["0x0024"]=["SH","1","SequenceName"],this.newDictionary["0x0018"]["0x0025"]=["CS","1","AngioFlag"],this.newDictionary["0x0018"]["0x0026"]=["SQ","1","InterventionDrugInformationSequence"],this.newDictionary["0x0018"]["0x0027"]=["TM","1","InterventionDrugStopTime"],this.newDictionary["0x0018"]["0x0028"]=["DS","1","InterventionDrugDose"],this.newDictionary["0x0018"]["0x0029"]=["SQ","1","InterventionalDrugSequence"],this.newDictionary["0x0018"]["0x002A"]=["SQ","1","AdditionalDrugSequence"],this.newDictionary["0x0018"]["0x0030"]=["LO","1-n","Radionuclide"],this.newDictionary["0x0018"]["0x0031"]=["LO","1-n","Radiopharmaceutical"],this.newDictionary["0x0018"]["0x0032"]=["DS","1","EnergyWindowCenterline"],this.newDictionary["0x0018"]["0x0033"]=["DS","1-n","EnergyWindowTotalWidth"],this.newDictionary["0x0018"]["0x0034"]=["LO","1","InterventionalDrugName"],this.newDictionary["0x0018"]["0x0035"]=["TM","1","InterventionalDrugStartTime"],this.newDictionary["0x0018"]["0x0036"]=["SQ","1","InterventionalTherapySequence"],this.newDictionary["0x0018"]["0x0037"]=["CS","1","TherapyType"],this.newDictionary["0x0018"]["0x0038"]=["CS","1","InterventionalStatus"],this.newDictionary["0x0018"]["0x0039"]=["CS","1","TherapyDescription"],this.newDictionary["0x0018"]["0x0040"]=["IS","1","CineRate"],this.newDictionary["0x0018"]["0x0050"]=["DS","1","SliceThickness"],this.newDictionary["0x0018"]["0x0060"]=["DS","1","KVP"],this.newDictionary["0x0018"]["0x0070"]=["IS","1","CountsAccumulated"],this.newDictionary["0x0018"]["0x0071"]=["CS","1","AcquisitionTerminationCondition"],this.newDictionary["0x0018"]["0x0072"]=["DS","1","EffectiveSeriesDuration"],this.newDictionary["0x0018"]["0x0073"]=["CS","1","AcquisitionStartCondition"],this.newDictionary["0x0018"]["0x0074"]=["IS","1","AcquisitionStartConditionData"],this.newDictionary["0x0018"]["0x0075"]=["IS","1","AcquisitionTerminationConditionData"],this.newDictionary["0x0018"]["0x0080"]=["DS","1","RepetitionTime"],this.newDictionary["0x0018"]["0x0081"]=["DS","1","EchoTime"],this.newDictionary["0x0018"]["0x0082"]=["DS","1","InversionTime"],this.newDictionary["0x0018"]["0x0083"]=["DS","1","NumberOfAverages"],this.newDictionary["0x0018"]["0x0084"]=["DS","1","ImagingFrequency"],this.newDictionary["0x0018"]["0x0085"]=["SH","1","ImagedNucleus"],this.newDictionary["0x0018"]["0x0086"]=["IS","1-n","EchoNumber"],this.newDictionary["0x0018"]["0x0087"]=["DS","1","MagneticFieldStrength"],this.newDictionary["0x0018"]["0x0088"]=["DS","1","SpacingBetweenSlices"],this.newDictionary["0x0018"]["0x0089"]=["IS","1","NumberOfPhaseEncodingSteps"],this.newDictionary["0x0018"]["0x0090"]=["DS","1","DataCollectionDiameter"],this.newDictionary["0x0018"]["0x0091"]=["IS","1","EchoTrainLength"],this.newDictionary["0x0018"]["0x0093"]=["DS","1","PercentSampling"],this.newDictionary["0x0018"]["0x0094"]=["DS","1","PercentPhaseFieldOfView"],this.newDictionary["0x0018"]["0x0095"]=["DS","1","PixelBandwidth"],this.newDictionary["0x0018"]["0x1000"]=["LO","1","DeviceSerialNumber"],this.newDictionary["0x0018"]["0x1002"]=["UI","1","DeviceUID"],this.newDictionary["0x0018"]["0x1003"]=["LO","1","DeviceID"],this.newDictionary["0x0018"]["0x1004"]=["LO","1","PlateID"],this.newDictionary["0x0018"]["0x1005"]=["LO","1","GeneratorID"],this.newDictionary["0x0018"]["0x1006"]=["LO","1","GridID"],this.newDictionary["0x0018"]["0x1007"]=["LO","1","CassetteID"],this.newDictionary["0x0018"]["0x1008"]=["LO","1","GantryID"],this.newDictionary["0x0018"]["0x1010"]=["LO","1","SecondaryCaptureDeviceID"],this.newDictionary["0x0018"]["0x1011"]=["LO","1","HardcopyCreationDeviceID"],this.newDictionary["0x0018"]["0x1012"]=["DA","1","DateOfSecondaryCapture"],this.newDictionary["0x0018"]["0x1014"]=["TM","1","TimeOfSecondaryCapture"],this.newDictionary["0x0018"]["0x1016"]=["LO","1","SecondaryCaptureDeviceManufacturer"],this.newDictionary["0x0018"]["0x1017"]=["LO","1","HardcopyDeviceManufacturer"],this.newDictionary["0x0018"]["0x1018"]=["LO","1","SecondaryCaptureDeviceManufacturerModelName"],this.newDictionary["0x0018"]["0x1019"]=["LO","1-n","SecondaryCaptureDeviceSoftwareVersion"],this.newDictionary["0x0018"]["0x101A"]=["LO","1-n","HardcopyDeviceSoftwareVersion"],this.newDictionary["0x0018"]["0x101B"]=["LO","1","HardcopyDeviceManfuacturersModelName"],this.newDictionary["0x0018"]["0x1020"]=["LO","1-n","SoftwareVersion"],this.newDictionary["0x0018"]["0x1022"]=["SH","1","VideoImageFormatAcquired"],this.newDictionary["0x0018"]["0x1023"]=["LO","1","DigitalImageFormatAcquired"],this.newDictionary["0x0018"]["0x1030"]=["LO","1","ProtocolName"],this.newDictionary["0x0018"]["0x1040"]=["LO","1","ContrastBolusRoute"],this.newDictionary["0x0018"]["0x1041"]=["DS","1","ContrastBolusVolume"],this.newDictionary["0x0018"]["0x1042"]=["TM","1","ContrastBolusStartTime"],this.newDictionary["0x0018"]["0x1043"]=["TM","1","ContrastBolusStopTime"],this.newDictionary["0x0018"]["0x1044"]=["DS","1","ContrastBolusTotalDose"],this.newDictionary["0x0018"]["0x1045"]=["IS","1-n","SyringeCounts"],this.newDictionary["0x0018"]["0x1046"]=["DS","1-n","ContrastFlowRate"],this.newDictionary["0x0018"]["0x1047"]=["DS","1-n","ContrastFlowDuration"],this.newDictionary["0x0018"]["0x1048"]=["CS","1","ContrastBolusIngredient"],this.newDictionary["0x0018"]["0x1049"]=["DS","1","ContrastBolusIngredientConcentration"],this.newDictionary["0x0018"]["0x1050"]=["DS","1","SpatialResolution"],this.newDictionary["0x0018"]["0x1060"]=["DS","1","TriggerTime"],this.newDictionary["0x0018"]["0x1061"]=["LO","1","TriggerSourceOrType"],this.newDictionary["0x0018"]["0x1062"]=["IS","1","NominalInterval"],this.newDictionary["0x0018"]["0x1063"]=["DS","1","FrameTime"],this.newDictionary["0x0018"]["0x1064"]=["LO","1","FramingType"],this.newDictionary["0x0018"]["0x1065"]=["DS","1-n","FrameTimeVector"],this.newDictionary["0x0018"]["0x1066"]=["DS","1","FrameDelay"],this.newDictionary["0x0018"]["0x1067"]=["DS","1","ImageTriggerDelay"],this.newDictionary["0x0018"]["0x1068"]=["DS","1","MultiplexGroupTimeOffset"],this.newDictionary["0x0018"]["0x1069"]=["DS","1","TriggerTimeOffset"],this.newDictionary["0x0018"]["0x106A"]=["CS","1","SynchronizationTrigger"],this.newDictionary["0x0018"]["0x106C"]=["US","2","SynchronizationChannel"],this.newDictionary["0x0018"]["0x106E"]=["UL","1","TriggerSamplePosition"],this.newDictionary["0x0018"]["0x1070"]=["LO","1-n","RadionuclideRoute"],this.newDictionary["0x0018"]["0x1071"]=["DS","1-n","RadionuclideVolume"],this.newDictionary["0x0018"]["0x1072"]=["TM","1-n","RadionuclideStartTime"],this.newDictionary["0x0018"]["0x1073"]=["TM","1-n","RadionuclideStopTime"],this.newDictionary["0x0018"]["0x1074"]=["DS","1-n","RadionuclideTotalDose"],this.newDictionary["0x0018"]["0x1075"]=["DS","1","RadionuclideHalfLife"],this.newDictionary["0x0018"]["0x1076"]=["DS","1","RadionuclidePositronFraction"],this.newDictionary["0x0018"]["0x1077"]=["DS","1","RadiopharmaceuticalSpecificActivity"],this.newDictionary["0x0018"]["0x1080"]=["CS","1","BeatRejectionFlag"],this.newDictionary["0x0018"]["0x1081"]=["IS","1","LowRRValue"],this.newDictionary["0x0018"]["0x1082"]=["IS","1","HighRRValue"],this.newDictionary["0x0018"]["0x1083"]=["IS","1","IntervalsAcquired"],this.newDictionary["0x0018"]["0x1084"]=["IS","1","IntervalsRejected"],this.newDictionary["0x0018"]["0x1085"]=["LO","1","PVCRejection"],this.newDictionary["0x0018"]["0x1086"]=["IS","1","SkipBeats"],this.newDictionary["0x0018"]["0x1088"]=["IS","1","HeartRate"],this.newDictionary["0x0018"]["0x1090"]=["IS","1","CardiacNumberOfImages"],this.newDictionary["0x0018"]["0x1094"]=["IS","1","TriggerWindow"],this.newDictionary["0x0018"]["0x1100"]=["DS","1","ReconstructionDiameter"],this.newDictionary["0x0018"]["0x1110"]=["DS","1","DistanceSourceToDetector"],this.newDictionary["0x0018"]["0x1111"]=["DS","1","DistanceSourceToPatient"],this.newDictionary["0x0018"]["0x1114"]=["DS","1","EstimatedRadiographicMagnificationFactor"],this.newDictionary["0x0018"]["0x1120"]=["DS","1","GantryDetectorTilt"],this.newDictionary["0x0018"]["0x1121"]=["DS","1","GantryDetectorSlew"],this.newDictionary["0x0018"]["0x1130"]=["DS","1","TableHeight"],this.newDictionary["0x0018"]["0x1131"]=["DS","1","TableTraverse"],this.newDictionary["0x0018"]["0x1134"]=["DS","1","TableMotion"],this.newDictionary["0x0018"]["0x1135"]=["DS","1-n","TableVerticalIncrement"],this.newDictionary["0x0018"]["0x1136"]=["DS","1-n","TableLateralIncrement"],this.newDictionary["0x0018"]["0x1137"]=["DS","1-n","TableLongitudinalIncrement"],this.newDictionary["0x0018"]["0x1138"]=["DS","1","TableAngle"],this.newDictionary["0x0018"]["0x113A"]=["CS","1","TableType"],this.newDictionary["0x0018"]["0x1140"]=["CS","1","RotationDirection"],this.newDictionary["0x0018"]["0x1141"]=["DS","1","AngularPosition"],this.newDictionary["0x0018"]["0x1142"]=["DS","1-n","RadialPosition"],this.newDictionary["0x0018"]["0x1143"]=["DS","1","ScanArc"],this.newDictionary["0x0018"]["0x1144"]=["DS","1","AngularStep"],this.newDictionary["0x0018"]["0x1145"]=["DS","1","CenterOfRotationOffset"],this.newDictionary["0x0018"]["0x1146"]=["DS","1-n","RotationOffset"],this.newDictionary["0x0018"]["0x1147"]=["CS","1","FieldOfViewShape"],this.newDictionary["0x0018"]["0x1149"]=["IS","2","FieldOfViewDimension"],this.newDictionary["0x0018"]["0x1150"]=["IS","1","ExposureTime"],this.newDictionary["0x0018"]["0x1151"]=["IS","1","XrayTubeCurrent"],this.newDictionary["0x0018"]["0x1152"]=["IS","1","Exposure"],this.newDictionary["0x0018"]["0x1153"]=["IS","1","ExposureinuAs"],this.newDictionary["0x0018"]["0x1154"]=["DS","1","AveragePulseWidth"],this.newDictionary["0x0018"]["0x1155"]=["CS","1","RadiationSetting"],this.newDictionary["0x0018"]["0x1156"]=["CS","1","RectificationType"],this.newDictionary["0x0018"]["0x115A"]=["CS","1","RadiationMode"],this.newDictionary["0x0018"]["0x115E"]=["DS","1","ImageAreaDoseProduct"],this.newDictionary["0x0018"]["0x1160"]=["SH","1","FilterType"],this.newDictionary["0x0018"]["0x1161"]=["LO","1-n","TypeOfFilters"],this.newDictionary["0x0018"]["0x1162"]=["DS","1","IntensifierSize"],this.newDictionary["0x0018"]["0x1164"]=["DS","2","ImagerPixelSpacing"],this.newDictionary["0x0018"]["0x1166"]=["CS","1","Grid"],this.newDictionary["0x0018"]["0x1170"]=["IS","1","GeneratorPower"],this.newDictionary["0x0018"]["0x1180"]=["SH","1","CollimatorGridName"],this.newDictionary["0x0018"]["0x1181"]=["CS","1","CollimatorType"],this.newDictionary["0x0018"]["0x1182"]=["IS","1","FocalDistance"],this.newDictionary["0x0018"]["0x1183"]=["DS","1","XFocusCenter"],this.newDictionary["0x0018"]["0x1184"]=["DS","1","YFocusCenter"],this.newDictionary["0x0018"]["0x1190"]=["DS","1-n","FocalSpot"],this.newDictionary["0x0018"]["0x1191"]=["CS","1","AnodeTargetMaterial"],this.newDictionary["0x0018"]["0x11A0"]=["DS","1","BodyPartThickness"],this.newDictionary["0x0018"]["0x11A2"]=["DS","1","CompressionForce"],this.newDictionary["0x0018"]["0x1200"]=["DA","1-n","DateOfLastCalibration"],this.newDictionary["0x0018"]["0x1201"]=["TM","1-n","TimeOfLastCalibration"],this.newDictionary["0x0018"]["0x1210"]=["SH","1-n","ConvolutionKernel"],this.newDictionary["0x0018"]["0x1240"]=["IS","1-n","UpperLowerPixelValues"],this.newDictionary["0x0018"]["0x1242"]=["IS","1","ActualFrameDuration"],this.newDictionary["0x0018"]["0x1243"]=["IS","1","CountRate"],this.newDictionary["0x0018"]["0x1244"]=["US","1","PreferredPlaybackSequencing"],this.newDictionary["0x0018"]["0x1250"]=["SH","1","ReceivingCoil"],this.newDictionary["0x0018"]["0x1251"]=["SH","1","TransmittingCoil"],this.newDictionary["0x0018"]["0x1260"]=["SH","1","PlateType"],this.newDictionary["0x0018"]["0x1261"]=["LO","1","PhosphorType"],this.newDictionary["0x0018"]["0x1300"]=["IS","1","ScanVelocity"],this.newDictionary["0x0018"]["0x1301"]=["CS","1-n","WholeBodyTechnique"],this.newDictionary["0x0018"]["0x1302"]=["IS","1","ScanLength"],this.newDictionary["0x0018"]["0x1310"]=["US","4","AcquisitionMatrix"],this.newDictionary["0x0018"]["0x1312"]=["CS","1","PhaseEncodingDirection"],this.newDictionary["0x0018"]["0x1314"]=["DS","1","FlipAngle"],this.newDictionary["0x0018"]["0x1315"]=["CS","1","VariableFlipAngleFlag"],this.newDictionary["0x0018"]["0x1316"]=["DS","1","SAR"],this.newDictionary["0x0018"]["0x1318"]=["DS","1","dBdt"],this.newDictionary["0x0018"]["0x1400"]=["LO","1","AcquisitionDeviceProcessingDescription"],this.newDictionary["0x0018"]["0x1401"]=["LO","1","AcquisitionDeviceProcessingCode"],this.newDictionary["0x0018"]["0x1402"]=["CS","1","CassetteOrientation"],this.newDictionary["0x0018"]["0x1403"]=["CS","1","CassetteSize"],this.newDictionary["0x0018"]["0x1404"]=["US","1","ExposuresOnPlate"],this.newDictionary["0x0018"]["0x1405"]=["IS","1","RelativeXrayExposure"],this.newDictionary["0x0018"]["0x1450"]=["DS","1","ColumnAngulation"],this.newDictionary["0x0018"]["0x1460"]=["DS","1","TomoLayerHeight"],this.newDictionary["0x0018"]["0x1470"]=["DS","1","TomoAngle"],this.newDictionary["0x0018"]["0x1480"]=["DS","1","TomoTime"],this.newDictionary["0x0018"]["0x1490"]=["CS","1","TomoType"],this.newDictionary["0x0018"]["0x1491"]=["CS","1","TomoClass"],this.newDictionary["0x0018"]["0x1495"]=["IS","1","NumberofTomosynthesisSourceImages"],this.newDictionary["0x0018"]["0x1500"]=["CS","1","PositionerMotion"],this.newDictionary["0x0018"]["0x1508"]=["CS","1","PositionerType"],this.newDictionary["0x0018"]["0x1510"]=["DS","1","PositionerPrimaryAngle"],this.newDictionary["0x0018"]["0x1511"]=["DS","1","PositionerSecondaryAngle"],this.newDictionary["0x0018"]["0x1520"]=["DS","1-n","PositionerPrimaryAngleIncrement"],this.newDictionary["0x0018"]["0x1521"]=["DS","1-n","PositionerSecondaryAngleIncrement"],this.newDictionary["0x0018"]["0x1530"]=["DS","1","DetectorPrimaryAngle"],this.newDictionary["0x0018"]["0x1531"]=["DS","1","DetectorSecondaryAngle"],this.newDictionary["0x0018"]["0x1600"]=["CS","3","ShutterShape"],this.newDictionary["0x0018"]["0x1602"]=["IS","1","ShutterLeftVerticalEdge"],this.newDictionary["0x0018"]["0x1604"]=["IS","1","ShutterRightVerticalEdge"],this.newDictionary["0x0018"]["0x1606"]=["IS","1","ShutterUpperHorizontalEdge"],this.newDictionary["0x0018"]["0x1608"]=["IS","1","ShutterLowerHorizontalEdge"],this.newDictionary["0x0018"]["0x1610"]=["IS","1","CenterOfCircularShutter"],this.newDictionary["0x0018"]["0x1612"]=["IS","1","RadiusOfCircularShutter"],this.newDictionary["0x0018"]["0x1620"]=["IS","1-n","VerticesOfPolygonalShutter"],this.newDictionary["0x0018"]["0x1622"]=["US","1","ShutterPresentationValue"],this.newDictionary["0x0018"]["0x1623"]=["US","1","ShutterOverlayGroup"],this.newDictionary["0x0018"]["0x1700"]=["CS","3","CollimatorShape"],this.newDictionary["0x0018"]["0x1702"]=["IS","1","CollimatorLeftVerticalEdge"],this.newDictionary["0x0018"]["0x1704"]=["IS","1","CollimatorRightVerticalEdge"],this.newDictionary["0x0018"]["0x1706"]=["IS","1","CollimatorUpperHorizontalEdge"],this.newDictionary["0x0018"]["0x1708"]=["IS","1","CollimatorLowerHorizontalEdge"],this.newDictionary["0x0018"]["0x1710"]=["IS","1","CenterOfCircularCollimator"],this.newDictionary["0x0018"]["0x1712"]=["IS","1","RadiusOfCircularCollimator"],this.newDictionary["0x0018"]["0x1720"]=["IS","1-n","VerticesOfPolygonalCollimator"],this.newDictionary["0x0018"]["0x1800"]=["CS","1","AcquisitionTimeSynchronized"],this.newDictionary["0x0018"]["0x1801"]=["SH","1","TimeSource"],this.newDictionary["0x0018"]["0x1802"]=["CS","1","TimeDistributionProtocol"],this.newDictionary["0x0018"]["0x1810"]=["DT","1","AcquisitionTimestamp"],this.newDictionary["0x0018"]["0x4000"]=["LT","1-n","AcquisitionComments"],this.newDictionary["0x0018"]["0x5000"]=["SH","1-n","OutputPower"],this.newDictionary["0x0018"]["0x5010"]=["LO","3","TransducerData"],this.newDictionary["0x0018"]["0x5012"]=["DS","1","FocusDepth"],this.newDictionary["0x0018"]["0x5020"]=["LO","1","PreprocessingFunction"],this.newDictionary["0x0018"]["0x5021"]=["LO","1","PostprocessingFunction"],this.newDictionary["0x0018"]["0x5022"]=["DS","1","MechanicalIndex"],this.newDictionary["0x0018"]["0x5024"]=["DS","1","ThermalIndex"],this.newDictionary["0x0018"]["0x5026"]=["DS","1","CranialThermalIndex"],this.newDictionary["0x0018"]["0x5027"]=["DS","1","SoftTissueThermalIndex"],this.newDictionary["0x0018"]["0x5028"]=["DS","1","SoftTissueFocusThermalIndex"],this.newDictionary["0x0018"]["0x5029"]=["DS","1","SoftTissueSurfaceThermalIndex"],this.newDictionary["0x0018"]["0x5030"]=["DS","1","DynamicRange"],this.newDictionary["0x0018"]["0x5040"]=["DS","1","TotalGain"],this.newDictionary["0x0018"]["0x5050"]=["IS","1","DepthOfScanField"],this.newDictionary["0x0018"]["0x5100"]=["CS","1","PatientPosition"],this.newDictionary["0x0018"]["0x5101"]=["CS","1","ViewPosition"],this.newDictionary["0x0018"]["0x5104"]=["SQ","1","ProjectionEponymousNameCodeSequence"],this.newDictionary["0x0018"]["0x5210"]=["DS","6","ImageTransformationMatrix"],this.newDictionary["0x0018"]["0x5212"]=["DS","3","ImageTranslationVector"],this.newDictionary["0x0018"]["0x6000"]=["DS","1","Sensitivity"],this.newDictionary["0x0018"]["0x6011"]=["SQ","1","SequenceOfUltrasoundRegions"],this.newDictionary["0x0018"]["0x6012"]=["US","1","RegionSpatialFormat"],this.newDictionary["0x0018"]["0x6014"]=["US","1","RegionDataType"],this.newDictionary["0x0018"]["0x6016"]=["UL","1","RegionFlags"],this.newDictionary["0x0018"]["0x6018"]=["UL","1","RegionLocationMinX0"],this.newDictionary["0x0018"]["0x601A"]=["UL","1","RegionLocationMinY0"],this.newDictionary["0x0018"]["0x601C"]=["UL","1","RegionLocationMaxX1"],this.newDictionary["0x0018"]["0x601E"]=["UL","1","RegionLocationMaxY1"],this.newDictionary["0x0018"]["0x6020"]=["SL","1","ReferencePixelX0"],this.newDictionary["0x0018"]["0x6022"]=["SL","1","ReferencePixelY0"],this.newDictionary["0x0018"]["0x6024"]=["US","1","PhysicalUnitsXDirection"],this.newDictionary["0x0018"]["0x6026"]=["US","1","PhysicalUnitsYDirection"],this.newDictionary["0x0018"]["0x6028"]=["FD","1","ReferencePixelPhysicalValueX"],this.newDictionary["0x0018"]["0x602A"]=["FD","1","ReferencePixelPhysicalValueY"],this.newDictionary["0x0018"]["0x602C"]=["FD","1","PhysicalDeltaX"],this.newDictionary["0x0018"]["0x602E"]=["FD","1","PhysicalDeltaY"],this.newDictionary["0x0018"]["0x6030"]=["UL","1","TransducerFrequency"],this.newDictionary["0x0018"]["0x6031"]=["CS","1","TransducerType"],this.newDictionary["0x0018"]["0x6032"]=["UL","1","PulseRepetitionFrequency"],this.newDictionary["0x0018"]["0x6034"]=["FD","1","DopplerCorrectionAngle"],this.newDictionary["0x0018"]["0x6036"]=["FD","1","SteeringAngle"],this.newDictionary["0x0018"]["0x6038"]=["UL","1","DopplerSampleVolumeXPosition"],this.newDictionary["0x0018"]["0x603A"]=["UL","1","DopplerSampleVolumeYPosition"],this.newDictionary["0x0018"]["0x603C"]=["UL","1","TMLinePositionX0"],this.newDictionary["0x0018"]["0x603E"]=["UL","1","TMLinePositionY0"],this.newDictionary["0x0018"]["0x6040"]=["UL","1","TMLinePositionX1"],this.newDictionary["0x0018"]["0x6042"]=["UL","1","TMLinePositionY1"],this.newDictionary["0x0018"]["0x6044"]=["US","1","PixelComponentOrganization"],this.newDictionary["0x0018"]["0x6046"]=["UL","1","PixelComponentMask"],this.newDictionary["0x0018"]["0x6048"]=["UL","1","PixelComponentRangeStart"],this.newDictionary["0x0018"]["0x604A"]=["UL","1","PixelComponentRangeStop"],this.newDictionary["0x0018"]["0x604C"]=["US","1","PixelComponentPhysicalUnits"],this.newDictionary["0x0018"]["0x604E"]=["US","1","PixelComponentDataType"],this.newDictionary["0x0018"]["0x6050"]=["UL","1","NumberOfTableBreakPoints"],this.newDictionary["0x0018"]["0x6052"]=["UL","1-n","TableOfXBreakPoints"],this.newDictionary["0x0018"]["0x6054"]=["FD","1-n","TableOfYBreakPoints"],this.newDictionary["0x0018"]["0x6056"]=["UL","1","NumberOfTableEntries"],this.newDictionary["0x0018"]["0x6058"]=["UL","1-n","TableOfPixelValues"],this.newDictionary["0x0018"]["0x605A"]=["FL","1-n","TableOfParameterValues"],this.newDictionary["0x0018"]["0x7000"]=["CS","1","DetectorConditionsNominalFlag"],this.newDictionary["0x0018"]["0x7001"]=["DS","1","DetectorTemperature"],this.newDictionary["0x0018"]["0x7004"]=["CS","1","DetectorType"],this.newDictionary["0x0018"]["0x7005"]=["CS","1","DetectorConfiguration"],this.newDictionary["0x0018"]["0x7006"]=["LT","1","DetectorDescription"],this.newDictionary["0x0018"]["0x7008"]=["LT","1","DetectorMode"],this.newDictionary["0x0018"]["0x700A"]=["SH","1","DetectorID"],this.newDictionary["0x0018"]["0x700C"]=["DA","1","DateofLastDetectorCalibration"],this.newDictionary["0x0018"]["0x700E"]=["TM","1","TimeofLastDetectorCalibration"],this.newDictionary["0x0018"]["0x7010"]=["IS","1","ExposuresOnDetectorSinceLastCalibration"],this.newDictionary["0x0018"]["0x7011"]=["IS","1","ExposuresOnDetectorSinceManufactured"],this.newDictionary["0x0018"]["0x7012"]=["DS","1","DetectorTimeSinceLastExposure"],this.newDictionary["0x0018"]["0x7014"]=["DS","1","DetectorActiveTime"],this.newDictionary["0x0018"]["0x7016"]=["DS","1","DetectorActivationOffsetFromExposure"],this.newDictionary["0x0018"]["0x701A"]=["DS","2","DetectorBinning"],this.newDictionary["0x0018"]["0x7020"]=["DS","2","DetectorElementPhysicalSize"],this.newDictionary["0x0018"]["0x7022"]=["DS","2","DetectorElementSpacing"],this.newDictionary["0x0018"]["0x7024"]=["CS","1","DetectorActiveShape"],this.newDictionary["0x0018"]["0x7026"]=["DS","1-2","DetectorActiveDimensions"],this.newDictionary["0x0018"]["0x7028"]=["DS","2","DetectorActiveOrigin"],this.newDictionary["0x0018"]["0x7030"]=["DS","2","FieldofViewOrigin"],this.newDictionary["0x0018"]["0x7032"]=["DS","1","FieldofViewRotation"],this.newDictionary["0x0018"]["0x7034"]=["CS","1","FieldofViewHorizontalFlip"],this.newDictionary["0x0018"]["0x7040"]=["LT","1","GridAbsorbingMaterial"],this.newDictionary["0x0018"]["0x7041"]=["LT","1","GridSpacingMaterial"],this.newDictionary["0x0018"]["0x7042"]=["DS","1","GridThickness"],this.newDictionary["0x0018"]["0x7044"]=["DS","1","GridPitch"],this.newDictionary["0x0018"]["0x7046"]=["IS","2","GridAspectRatio"],this.newDictionary["0x0018"]["0x7048"]=["DS","1","GridPeriod"],this.newDictionary["0x0018"]["0x704C"]=["DS","1","GridFocalDistance"],this.newDictionary["0x0018"]["0x7050"]=["LT","1-n","FilterMaterial"],this.newDictionary["0x0018"]["0x7052"]=["DS","1-n","FilterThicknessMinimum"],this.newDictionary["0x0018"]["0x7054"]=["DS","1-n","FilterThicknessMaximum"],this.newDictionary["0x0018"]["0x7060"]=["CS","1","ExposureControlMode"],this.newDictionary["0x0018"]["0x7062"]=["LT","1","ExposureControlModeDescription"],this.newDictionary["0x0018"]["0x7064"]=["CS","1","ExposureStatus"],this.newDictionary["0x0018"]["0x7065"]=["DS","1","PhototimerSetting"],this.newDictionary["0x0020"]=[],this.newDictionary["0x0020"]["0x0000"]=["UL","1","ImageGroupLength"],this.newDictionary["0x0020"]["0x000D"]=["UI","1","StudyInstanceUID"],this.newDictionary["0x0020"]["0x000E"]=["UI","1","SeriesInstanceUID"],this.newDictionary["0x0020"]["0x0010"]=["SH","1","StudyID"],this.newDictionary["0x0020"]["0x0011"]=["IS","1","SeriesNumber"],this.newDictionary["0x0020"]["0x0012"]=["IS","1","AcquisitionNumber"],this.newDictionary["0x0020"]["0x0013"]=["IS","1","ImageNumber"],this.newDictionary["0x0020"]["0x0014"]=["IS","1","IsotopeNumber"],this.newDictionary["0x0020"]["0x0015"]=["IS","1","PhaseNumber"],this.newDictionary["0x0020"]["0x0016"]=["IS","1","IntervalNumber"],this.newDictionary["0x0020"]["0x0017"]=["IS","1","TimeSlotNumber"],this.newDictionary["0x0020"]["0x0018"]=["IS","1","AngleNumber"],this.newDictionary["0x0020"]["0x0019"]=["IS","1","ItemNumber"],this.newDictionary["0x0020"]["0x0020"]=["CS","2","PatientOrientation"],this.newDictionary["0x0020"]["0x0022"]=["IS","1","OverlayNumber"],this.newDictionary["0x0020"]["0x0024"]=["IS","1","CurveNumber"],this.newDictionary["0x0020"]["0x0026"]=["IS","1","LUTNumber"],this.newDictionary["0x0020"]["0x0030"]=["DS","3","ImagePosition"],this.newDictionary["0x0020"]["0x0032"]=["DS","3","ImagePositionPatient"],this.newDictionary["0x0020"]["0x0035"]=["DS","6","ImageOrientation"],this.newDictionary["0x0020"]["0x0037"]=["DS","6","ImageOrientationPatient"],this.newDictionary["0x0020"]["0x0050"]=["DS","1","Location"],this.newDictionary["0x0020"]["0x0052"]=["UI","1","FrameOfReferenceUID"],this.newDictionary["0x0020"]["0x0060"]=["CS","1","Laterality"],this.newDictionary["0x0020"]["0x0062"]=["CS","1","ImageLaterality"],this.newDictionary["0x0020"]["0x0070"]=["LT","1","ImageGeometryType"],this.newDictionary["0x0020"]["0x0080"]=["CS","1-n","MaskingImage"],this.newDictionary["0x0020"]["0x0100"]=["IS","1","TemporalPositionIdentifier"],this.newDictionary["0x0020"]["0x0105"]=["IS","1","NumberOfTemporalPositions"],this.newDictionary["0x0020"]["0x0110"]=["DS","1","TemporalResolution"],this.newDictionary["0x0020"]["0x0200"]=["UI","1","SynchronizationFrameofReferenceUID"],this.newDictionary["0x0020"]["0x1000"]=["IS","1","SeriesInStudy"],this.newDictionary["0x0020"]["0x1001"]=["IS","1","AcquisitionsInSeries"],this.newDictionary["0x0020"]["0x1002"]=["IS","1","ImagesInAcquisition"],this.newDictionary["0x0020"]["0x1003"]=["IS","1","ImagesInSeries"],this.newDictionary["0x0020"]["0x1004"]=["IS","1","AcquisitionsInStudy"],this.newDictionary["0x0020"]["0x1005"]=["IS","1","ImagesInStudy"],this.newDictionary["0x0020"]["0x1020"]=["CS","1-n","Reference"],this.newDictionary["0x0020"]["0x1040"]=["LO","1","PositionReferenceIndicator"],this.newDictionary["0x0020"]["0x1041"]=["DS","1","SliceLocation"],this.newDictionary["0x0020"]["0x1070"]=["IS","1-n","OtherStudyNumbers"],this.newDictionary["0x0020"]["0x1200"]=["IS","1","NumberOfPatientRelatedStudies"],this.newDictionary["0x0020"]["0x1202"]=["IS","1","NumberOfPatientRelatedSeries"],this.newDictionary["0x0020"]["0x1204"]=["IS","1","NumberOfPatientRelatedImages"],this.newDictionary["0x0020"]["0x1206"]=["IS","1","NumberOfStudyRelatedSeries"],this.newDictionary["0x0020"]["0x1208"]=["IS","1","NumberOfStudyRelatedImages"],this.newDictionary["0x0020"]["0x1209"]=["IS","1","NumberOfSeriesRelatedInstances"],this.newDictionary["0x0020"]["0x3100"]=["CS","1-n","SourceImageID"],this.newDictionary["0x0020"]["0x3401"]=["CS","1","ModifyingDeviceID"],this.newDictionary["0x0020"]["0x3402"]=["CS","1","ModifiedImageID"],this.newDictionary["0x0020"]["0x3403"]=["DA","1","ModifiedImageDate"],this.newDictionary["0x0020"]["0x3404"]=["LO","1","ModifyingDeviceManufacturer"],this.newDictionary["0x0020"]["0x3405"]=["TM","1","ModifiedImageTime"],this.newDictionary["0x0020"]["0x3406"]=["LT","1","ModifiedImageDescription"],this.newDictionary["0x0020"]["0x4000"]=["LT","1","ImageComments"],this.newDictionary["0x0020"]["0x5000"]=["AT","1-n","OriginalImageIdentification"],this.newDictionary["0x0020"]["0x5002"]=["CS","1-n","OriginalImageIdentificationNomenclature"],this.newDictionary["0x0028"]=[],this.newDictionary["0x0028"]["0x0000"]=["UL","1","ImagePresentationGroupLength"],this.newDictionary["0x0028"]["0x0002"]=["US","1","SamplesPerPixel"],this.newDictionary["0x0028"]["0x0004"]=["CS","1","PhotometricInterpretation"],this.newDictionary["0x0028"]["0x0005"]=["US","1","ImageDimensions"],this.newDictionary["0x0028"]["0x0006"]=["US","1","PlanarConfiguration"],this.newDictionary["0x0028"]["0x0008"]=["IS","1","NumberOfFrames"],this.newDictionary["0x0028"]["0x0009"]=["AT","1","FrameIncrementPointer"],this.newDictionary["0x0028"]["0x0010"]=["US","1","Rows"],this.newDictionary["0x0028"]["0x0011"]=["US","1","Columns"],this.newDictionary["0x0028"]["0x0012"]=["US","1","Planes"],this.newDictionary["0x0028"]["0x0014"]=["US","1","UltrasoundColorDataPresent"],this.newDictionary["0x0028"]["0x0030"]=["DS","2","PixelSpacing"],this.newDictionary["0x0028"]["0x0031"]=["DS","2","ZoomFactor"],this.newDictionary["0x0028"]["0x0032"]=["DS","2","ZoomCenter"],this.newDictionary["0x0028"]["0x0034"]=["IS","2","PixelAspectRatio"],this.newDictionary["0x0028"]["0x0040"]=["CS","1","ImageFormat"],this.newDictionary["0x0028"]["0x0050"]=["LT","1-n","ManipulatedImage"],this.newDictionary["0x0028"]["0x0051"]=["CS","1","CorrectedImage"],this.newDictionary["0x0028"]["0x005F"]=["CS","1","CompressionRecognitionCode"],this.newDictionary["0x0028"]["0x0060"]=["CS","1","CompressionCode"],this.newDictionary["0x0028"]["0x0061"]=["SH","1","CompressionOriginator"],this.newDictionary["0x0028"]["0x0062"]=["SH","1","CompressionLabel"],this.newDictionary["0x0028"]["0x0063"]=["SH","1","CompressionDescription"],this.newDictionary["0x0028"]["0x0065"]=["CS","1-n","CompressionSequence"],this.newDictionary["0x0028"]["0x0066"]=["AT","1-n","CompressionStepPointers"],this.newDictionary["0x0028"]["0x0068"]=["US","1","RepeatInterval"],this.newDictionary["0x0028"]["0x0069"]=["US","1","BitsGrouped"],this.newDictionary["0x0028"]["0x0070"]=["US","1-n","PerimeterTable"],this.newDictionary["0x0028"]["0x0071"]=["XS","1","PerimeterValue"],this.newDictionary["0x0028"]["0x0080"]=["US","1","PredictorRows"],this.newDictionary["0x0028"]["0x0081"]=["US","1","PredictorColumns"],this.newDictionary["0x0028"]["0x0082"]=["US","1-n","PredictorConstants"],this.newDictionary["0x0028"]["0x0090"]=["CS","1","BlockedPixels"],this.newDictionary["0x0028"]["0x0091"]=["US","1","BlockRows"],this.newDictionary["0x0028"]["0x0092"]=["US","1","BlockColumns"],this.newDictionary["0x0028"]["0x0093"]=["US","1","RowOverlap"],this.newDictionary["0x0028"]["0x0094"]=["US","1","ColumnOverlap"],this.newDictionary["0x0028"]["0x0100"]=["US","1","BitsAllocated"],this.newDictionary["0x0028"]["0x0101"]=["US","1","BitsStored"],this.newDictionary["0x0028"]["0x0102"]=["US","1","HighBit"],this.newDictionary["0x0028"]["0x0103"]=["US","1","PixelRepresentation"],this.newDictionary["0x0028"]["0x0104"]=["XS","1","SmallestValidPixelValue"],this.newDictionary["0x0028"]["0x0105"]=["XS","1","LargestValidPixelValue"],this.newDictionary["0x0028"]["0x0106"]=["XS","1","SmallestImagePixelValue"],this.newDictionary["0x0028"]["0x0107"]=["XS","1","LargestImagePixelValue"],this.newDictionary["0x0028"]["0x0108"]=["XS","1","SmallestPixelValueInSeries"],this.newDictionary["0x0028"]["0x0109"]=["XS","1","LargestPixelValueInSeries"],this.newDictionary["0x0028"]["0x0110"]=["XS","1","SmallestPixelValueInPlane"],this.newDictionary["0x0028"]["0x0111"]=["XS","1","LargestPixelValueInPlane"],this.newDictionary["0x0028"]["0x0120"]=["XS","1","PixelPaddingValue"],this.newDictionary["0x0028"]["0x0200"]=["US","1","ImageLocation"],this.newDictionary["0x0028"]["0x0300"]=["CS","1","QualityControlImage"],this.newDictionary["0x0028"]["0x0301"]=["CS","1","BurnedInAnnotation"],this.newDictionary["0x0028"]["0x0400"]=["CS","1","TransformLabel"],this.newDictionary["0x0028"]["0x0401"]=["CS","1","TransformVersionNumber"],this.newDictionary["0x0028"]["0x0402"]=["US","1","NumberOfTransformSteps"],this.newDictionary["0x0028"]["0x0403"]=["CS","1-n","SequenceOfCompressedData"],this.newDictionary["0x0028"]["0x0404"]=["AT","1-n","DetailsOfCoefficients"],this.newDictionary["0x0028"]["0x0410"]=["US","1","RowsForNthOrderCoefficients"],this.newDictionary["0x0028"]["0x0411"]=["US","1","ColumnsForNthOrderCoefficients"],this.newDictionary["0x0028"]["0x0412"]=["CS","1-n","CoefficientCoding"],this.newDictionary["0x0028"]["0x0413"]=["AT","1-n","CoefficientCodingPointers"],this.newDictionary["0x0028"]["0x0700"]=["CS","1","DCTLabel"],this.newDictionary["0x0028"]["0x0701"]=["CS","1-n","DataBlockDescription"],this.newDictionary["0x0028"]["0x0702"]=["AT","1-n","DataBlock"],this.newDictionary["0x0028"]["0x0710"]=["US","1","NormalizationFactorFormat"],this.newDictionary["0x0028"]["0x0720"]=["US","1","ZonalMapNumberFormat"],this.newDictionary["0x0028"]["0x0721"]=["AT","1-n","ZonalMapLocation"],this.newDictionary["0x0028"]["0x0722"]=["US","1","ZonalMapFormat"],this.newDictionary["0x0028"]["0x0730"]=["US","1","AdaptiveMapFormat"],this.newDictionary["0x0028"]["0x0740"]=["US","1","CodeNumberFormat"],this.newDictionary["0x0028"]["0x0800"]=["CS","1-n","CodeLabel"],this.newDictionary["0x0028"]["0x0802"]=["US","1","NumberOfTables"],this.newDictionary["0x0028"]["0x0803"]=["AT","1-n","CodeTableLocation"],this.newDictionary["0x0028"]["0x0804"]=["US","1","BitsForCodeWord"],this.newDictionary["0x0028"]["0x0808"]=["AT","1-n","ImageDataLocation"],this.newDictionary["0x0028"]["0x1040"]=["CS","1","PixelIntensityRelationship"],this.newDictionary["0x0028"]["0x1041"]=["SS","1","PixelIntensityRelationshipSign"],this.newDictionary["0x0028"]["0x1050"]=["DS","1-n","WindowCenter"],this.newDictionary["0x0028"]["0x1051"]=["DS","1-n","WindowWidth"],this.newDictionary["0x0028"]["0x1052"]=["DS","1","RescaleIntercept"],this.newDictionary["0x0028"]["0x1053"]=["DS","1","RescaleSlope"],this.newDictionary["0x0028"]["0x1054"]=["LO","1","RescaleType"],this.newDictionary["0x0028"]["0x1055"]=["LO","1-n","WindowCenterWidthExplanation"],this.newDictionary["0x0028"]["0x1080"]=["CS","1","GrayScale"],this.newDictionary["0x0028"]["0x1090"]=["CS","1","RecommendedViewingMode"],this.newDictionary["0x0028"]["0x1100"]=["XS","3","GrayLookupTableDescriptor"],this.newDictionary["0x0028"]["0x1101"]=["XS","3","RedPaletteColorLookupTableDescriptor"],this.newDictionary["0x0028"]["0x1102"]=["XS","3","GreenPaletteColorLookupTableDescriptor"],this.newDictionary["0x0028"]["0x1103"]=["XS","3","BluePaletteColorLookupTableDescriptor"],this.newDictionary["0x0028"]["0x1111"]=["US","4","LargeRedPaletteColorLookupTableDescriptor"],this.newDictionary["0x0028"]["0x1112"]=["US","4","LargeGreenPaletteColorLookupTabe"],this.newDictionary["0x0028"]["0x1113"]=["US","4","LargeBluePaletteColorLookupTabl"],this.newDictionary["0x0028"]["0x1199"]=["UI","1","PaletteColorLookupTableUID"],this.newDictionary["0x0028"]["0x1200"]=["XS","1-n","GrayLookupTableData"],this.newDictionary["0x0028"]["0x1201"]=["XS","1-n","RedPaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1202"]=["XS","1-n","GreenPaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1203"]=["XS","1-n","BluePaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1211"]=["OW","1","LargeRedPaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1212"]=["OW","1","LargeGreenPaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1213"]=["OW","1","LargeBluePaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1214"]=["UI","1","LargePaletteColorLookupTableUID"],this.newDictionary["0x0028"]["0x1221"]=["OW","1","SegmentedRedPaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1222"]=["OW","1","SegmentedGreenPaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1223"]=["OW","1","SegmentedBluePaletteColorLookupTableData"],this.newDictionary["0x0028"]["0x1300"]=["CS","1","ImplantPresent"],this.newDictionary["0x0028"]["0x2110"]=["CS","1","LossyImageCompression"],this.newDictionary["0x0028"]["0x2112"]=["DS","1-n","LossyImageCompressionRatio"],this.newDictionary["0x0028"]["0x3000"]=["SQ","1","ModalityLUTSequence"],this.newDictionary["0x0028"]["0x3002"]=["XS","3","LUTDescriptor"],this.newDictionary["0x0028"]["0x3003"]=["LO","1","LUTExplanation"],this.newDictionary["0x0028"]["0x3004"]=["LO","1","ModalityLUTType"],this.newDictionary["0x0028"]["0x3006"]=["XS","1-n","LUTData"],this.newDictionary["0x0028"]["0x3010"]=["SQ","1","VOILUTSequence"],this.newDictionary["0x0028"]["0x3110"]=["SQ","1","SoftcopyVOILUTSequence"],this.newDictionary["0x0028"]["0x4000"]=["LT","1-n","ImagePresentationComments"],this.newDictionary["0x0028"]["0x5000"]=["SQ","1","BiPlaneAcquisitionSequence"],this.newDictionary["0x0028"]["0x6010"]=["US","1","RepresentativeFrameNumber"],this.newDictionary["0x0028"]["0x6020"]=["US","1-n","FrameNumbersOfInterest"],this.newDictionary["0x0028"]["0x6022"]=["LO","1-n","FrameOfInterestDescription"],this.newDictionary["0x0028"]["0x6030"]=["US","1-n","MaskPointer"],this.newDictionary["0x0028"]["0x6040"]=["US","1-n","RWavePointer"],this.newDictionary["0x0028"]["0x6100"]=["SQ","1","MaskSubtractionSequence"],this.newDictionary["0x0028"]["0x6101"]=["CS","1","MaskOperation"],this.newDictionary["0x0028"]["0x6102"]=["US","1-n","ApplicableFrameRange"],this.newDictionary["0x0028"]["0x6110"]=["US","1-n","MaskFrameNumbers"],this.newDictionary["0x0028"]["0x6112"]=["US","1","ContrastFrameAveraging"],this.newDictionary["0x0028"]["0x6114"]=["FL","2","MaskSubPixelShift"],this.newDictionary["0x0028"]["0x6120"]=["SS","1","TIDOffset"],this.newDictionary["0x0028"]["0x6190"]=["ST","1","MaskOperationExplanation"],this.newDictionary["0x0032"]=[],this.newDictionary["0x0032"]["0x0000"]=["UL","1","StudyGroupLength"],this.newDictionary["0x0032"]["0x000A"]=["CS","1","StudyStatusID"],this.newDictionary["0x0032"]["0x000C"]=["CS","1","StudyPriorityID"],this.newDictionary["0x0032"]["0x0012"]=["LO","1","StudyIDIssuer"],this.newDictionary["0x0032"]["0x0032"]=["DA","1","StudyVerifiedDate"],this.newDictionary["0x0032"]["0x0033"]=["TM","1","StudyVerifiedTime"],this.newDictionary["0x0032"]["0x0034"]=["DA","1","StudyReadDate"],this.newDictionary["0x0032"]["0x0035"]=["TM","1","StudyReadTime"],this.newDictionary["0x0032"]["0x1000"]=["DA","1","ScheduledStudyStartDate"],this.newDictionary["0x0032"]["0x1001"]=["TM","1","ScheduledStudyStartTime"],this.newDictionary["0x0032"]["0x1010"]=["DA","1","ScheduledStudyStopDate"],this.newDictionary["0x0032"]["0x1011"]=["TM","1","ScheduledStudyStopTime"],this.newDictionary["0x0032"]["0x1020"]=["LO","1","ScheduledStudyLocation"],this.newDictionary["0x0032"]["0x1021"]=["AE","1-n","ScheduledStudyLocationAETitle"],this.newDictionary["0x0032"]["0x1030"]=["LO","1","ReasonForStudy"],this.newDictionary["0x0032"]["0x1032"]=["PN","1","RequestingPhysician"],this.newDictionary["0x0032"]["0x1033"]=["LO","1","RequestingService"],this.newDictionary["0x0032"]["0x1040"]=["DA","1","StudyArrivalDate"],this.newDictionary["0x0032"]["0x1041"]=["TM","1","StudyArrivalTime"],this.newDictionary["0x0032"]["0x1050"]=["DA","1","StudyCompletionDate"],this.newDictionary["0x0032"]["0x1051"]=["TM","1","StudyCompletionTime"],this.newDictionary["0x0032"]["0x1055"]=["CS","1","StudyComponentStatusID"],this.newDictionary["0x0032"]["0x1060"]=["LO","1","RequestedProcedureDescription"],this.newDictionary["0x0032"]["0x1064"]=["SQ","1","RequestedProcedureCodeSequence"],this.newDictionary["0x0032"]["0x1070"]=["LO","1","RequestedContrastAgent"],this.newDictionary["0x0032"]["0x4000"]=["LT","1","StudyComments"],this.newDictionary["0x0038"]=[],this.newDictionary["0x0038"]["0x0000"]=["UL","1","VisitGroupLength"],this.newDictionary["0x0038"]["0x0004"]=["SQ","1","ReferencedPatientAliasSequence"],this.newDictionary["0x0038"]["0x0008"]=["CS","1","VisitStatusID"],this.newDictionary["0x0038"]["0x0010"]=["LO","1","AdmissionID"],this.newDictionary["0x0038"]["0x0011"]=["LO","1","IssuerOfAdmissionID"],this.newDictionary["0x0038"]["0x0016"]=["LO","1","RouteOfAdmissions"],this.newDictionary["0x0038"]["0x001A"]=["DA","1","ScheduledAdmissionDate"],this.newDictionary["0x0038"]["0x001B"]=["TM","1","ScheduledAdmissionTime"],this.newDictionary["0x0038"]["0x001C"]=["DA","1","ScheduledDischargeDate"],this.newDictionary["0x0038"]["0x001D"]=["TM","1","ScheduledDischargeTime"],this.newDictionary["0x0038"]["0x001E"]=["LO","1","ScheduledPatientInstitutionResidence"],this.newDictionary["0x0038"]["0x0020"]=["DA","1","AdmittingDate"],this.newDictionary["0x0038"]["0x0021"]=["TM","1","AdmittingTime"],this.newDictionary["0x0038"]["0x0030"]=["DA","1","DischargeDate"],this.newDictionary["0x0038"]["0x0032"]=["TM","1","DischargeTime"],this.newDictionary["0x0038"]["0x0040"]=["LO","1","DischargeDiagnosisDescription"],this.newDictionary["0x0038"]["0x0044"]=["SQ","1","DischargeDiagnosisCodeSequence"],this.newDictionary["0x0038"]["0x0050"]=["LO","1","SpecialNeeds"],this.newDictionary["0x0038"]["0x0300"]=["LO","1","CurrentPatientLocation"],this.newDictionary["0x0038"]["0x0400"]=["LO","1","PatientInstitutionResidence"],this.newDictionary["0x0038"]["0x0500"]=["LO","1","PatientState"],this.newDictionary["0x0038"]["0x4000"]=["LT","1","VisitComments"],this.newDictionary["0x003A"]=[],this.newDictionary["0x003A"]["0x0004"]=["CS","1","WaveformOriginality"],this.newDictionary["0x003A"]["0x0005"]=["US","1","NumberofChannels"],this.newDictionary["0x003A"]["0x0010"]=["UL","1","NumberofSamples"],this.newDictionary["0x003A"]["0x001A"]=["DS","1","SamplingFrequency"],this.newDictionary["0x003A"]["0x0020"]=["SH","1","MultiplexGroupLabel"],this.newDictionary["0x003A"]["0x0200"]=["SQ","1","ChannelDefinitionSequence"],this.newDictionary["0x003A"]["0x0202"]=["IS","1","WVChannelNumber"],this.newDictionary["0x003A"]["0x0203"]=["SH","1","ChannelLabel"],this.newDictionary["0x003A"]["0x0205"]=["CS","1-n","ChannelStatus"],this.newDictionary["0x003A"]["0x0208"]=["SQ","1","ChannelSourceSequence"],this.newDictionary["0x003A"]["0x0209"]=["SQ","1","ChannelSourceModifiersSequence"],this.newDictionary["0x003A"]["0x020A"]=["SQ","1","SourceWaveformSequence"],this.newDictionary["0x003A"]["0x020C"]=["LO","1","ChannelDerivationDescription"],this.newDictionary["0x003A"]["0x0210"]=["DS","1","ChannelSensitivity"],this.newDictionary["0x003A"]["0x0211"]=["SQ","1","ChannelSensitivityUnits"],this.newDictionary["0x003A"]["0x0212"]=["DS","1","ChannelSensitivityCorrectionFactor"],this.newDictionary["0x003A"]["0x0213"]=["DS","1","ChannelBaseline"],this.newDictionary["0x003A"]["0x0214"]=["DS","1","ChannelTimeSkew"],this.newDictionary["0x003A"]["0x0215"]=["DS","1","ChannelSampleSkew"],this.newDictionary["0x003A"]["0x0218"]=["DS","1","ChannelOffset"],this.newDictionary["0x003A"]["0x021A"]=["US","1","WaveformBitsStored"],this.newDictionary["0x003A"]["0x0220"]=["DS","1","FilterLowFrequency"],this.newDictionary["0x003A"]["0x0221"]=["DS","1","FilterHighFrequency"],this.newDictionary["0x003A"]["0x0222"]=["DS","1","NotchFilterFrequency"],this.newDictionary["0x003A"]["0x0223"]=["DS","1","NotchFilterBandwidth"],this.newDictionary["0x0040"]=[],this.newDictionary["0x0040"]["0x0000"]=["UL","1","ModalityWorklistGroupLength"],this.newDictionary["0x0040"]["0x0001"]=["AE","1","ScheduledStationAETitle"],this.newDictionary["0x0040"]["0x0002"]=["DA","1","ScheduledProcedureStepStartDate"],this.newDictionary["0x0040"]["0x0003"]=["TM","1","ScheduledProcedureStepStartTime"],this.newDictionary["0x0040"]["0x0004"]=["DA","1","ScheduledProcedureStepEndDate"],this.newDictionary["0x0040"]["0x0005"]=["TM","1","ScheduledProcedureStepEndTime"],this.newDictionary["0x0040"]["0x0006"]=["PN","1","ScheduledPerformingPhysicianName"],this.newDictionary["0x0040"]["0x0007"]=["LO","1","ScheduledProcedureStepDescription"],this.newDictionary["0x0040"]["0x0008"]=["SQ","1","ScheduledProcedureStepCodeSequence"],this.newDictionary["0x0040"]["0x0009"]=["SH","1","ScheduledProcedureStepID"],this.newDictionary["0x0040"]["0x0010"]=["SH","1","ScheduledStationName"],this.newDictionary["0x0040"]["0x0011"]=["SH","1","ScheduledProcedureStepLocation"],this.newDictionary["0x0040"]["0x0012"]=["LO","1","ScheduledPreOrderOfMedication"],this.newDictionary["0x0040"]["0x0020"]=["CS","1","ScheduledProcedureStepStatus"],this.newDictionary["0x0040"]["0x0100"]=["SQ","1-n","ScheduledProcedureStepSequence"],this.newDictionary["0x0040"]["0x0220"]=["SQ","1","ReferencedStandaloneSOPInstanceSequence"],this.newDictionary["0x0040"]["0x0241"]=["AE","1","PerformedStationAETitle"],this.newDictionary["0x0040"]["0x0242"]=["SH","1","PerformedStationName"],this.newDictionary["0x0040"]["0x0243"]=["SH","1","PerformedLocation"],this.newDictionary["0x0040"]["0x0244"]=["DA","1","PerformedProcedureStepStartDate"],this.newDictionary["0x0040"]["0x0245"]=["TM","1","PerformedProcedureStepStartTime"],this.newDictionary["0x0040"]["0x0250"]=["DA","1","PerformedProcedureStepEndDate"],this.newDictionary["0x0040"]["0x0251"]=["TM","1","PerformedProcedureStepEndTime"],this.newDictionary["0x0040"]["0x0252"]=["CS","1","PerformedProcedureStepStatus"],this.newDictionary["0x0040"]["0x0253"]=["CS","1","PerformedProcedureStepID"],this.newDictionary["0x0040"]["0x0254"]=["LO","1","PerformedProcedureStepDescription"],this.newDictionary["0x0040"]["0x0255"]=["LO","1","PerformedProcedureTypeDescription"],this.newDictionary["0x0040"]["0x0260"]=["SQ","1","PerformedActionItemSequence"],this.newDictionary["0x0040"]["0x0270"]=["SQ","1","ScheduledStepAttributesSequence"],this.newDictionary["0x0040"]["0x0275"]=["SQ","1","RequestAttributesSequence"],this.newDictionary["0x0040"]["0x0280"]=["ST","1","CommentsOnThePerformedProcedureSteps"],this.newDictionary["0x0040"]["0x0293"]=["SQ","1","QuantitySequence"],this.newDictionary["0x0040"]["0x0294"]=["DS","1","Quantity"],this.newDictionary["0x0040"]["0x0295"]=["SQ","1","MeasuringUnitsSequence"],this.newDictionary["0x0040"]["0x0296"]=["SQ","1","BillingItemSequence"],this.newDictionary["0x0040"]["0x0300"]=["US","1","TotalTimeOfFluoroscopy"],this.newDictionary["0x0040"]["0x0301"]=["US","1","TotalNumberOfExposures"],this.newDictionary["0x0040"]["0x0302"]=["US","1","EntranceDose"],this.newDictionary["0x0040"]["0x0303"]=["US","1-2","ExposedArea"],this.newDictionary["0x0040"]["0x0306"]=["DS","1","DistanceSourceToEntrance"],this.newDictionary["0x0040"]["0x0307"]=["DS","1","DistanceSourceToSupport"],this.newDictionary["0x0040"]["0x0310"]=["ST","1","CommentsOnRadiationDose"],this.newDictionary["0x0040"]["0x0312"]=["DS","1","XRayOutput"],this.newDictionary["0x0040"]["0x0314"]=["DS","1","HalfValueLayer"],this.newDictionary["0x0040"]["0x0316"]=["DS","1","OrganDose"],this.newDictionary["0x0040"]["0x0318"]=["CS","1","OrganExposed"],this.newDictionary["0x0040"]["0x0320"]=["SQ","1","BillingProcedureStepSequence"],this.newDictionary["0x0040"]["0x0321"]=["SQ","1","FilmConsumptionSequence"],this.newDictionary["0x0040"]["0x0324"]=["SQ","1","BillingSuppliesAndDevicesSequence"],this.newDictionary["0x0040"]["0x0330"]=["SQ","1","ReferencedProcedureStepSequence"],this.newDictionary["0x0040"]["0x0340"]=["SQ","1","PerformedSeriesSequence"],this.newDictionary["0x0040"]["0x0400"]=["LT","1","CommentsOnScheduledProcedureStep"],this.newDictionary["0x0040"]["0x050A"]=["LO","1","SpecimenAccessionNumber"],this.newDictionary["0x0040"]["0x0550"]=["SQ","1","SpecimenSequence"],this.newDictionary["0x0040"]["0x0551"]=["LO","1","SpecimenIdentifier"],this.newDictionary["0x0040"]["0x0555"]=["SQ","1","AcquisitionContextSequence"],this.newDictionary["0x0040"]["0x0556"]=["ST","1","AcquisitionContextDescription"],this.newDictionary["0x0040"]["0x059A"]=["SQ","1","SpecimenTypeCodeSequence"],this.newDictionary["0x0040"]["0x06FA"]=["LO","1","SlideIdentifier"],this.newDictionary["0x0040"]["0x071A"]=["SQ","1","ImageCenterPointCoordinatesSequence"],this.newDictionary["0x0040"]["0x072A"]=["DS","1","XOffsetInSlideCoordinateSystem"],this.newDictionary["0x0040"]["0x073A"]=["DS","1","YOffsetInSlideCoordinateSystem"],this.newDictionary["0x0040"]["0x074A"]=["DS","1","ZOffsetInSlideCoordinateSystem"],this.newDictionary["0x0040"]["0x08D8"]=["SQ","1","PixelSpacingSequence"],this.newDictionary["0x0040"]["0x08DA"]=["SQ","1","CoordinateSystemAxisCodeSequence"],this.newDictionary["0x0040"]["0x08EA"]=["SQ","1","MeasurementUnitsCodeSequence"],this.newDictionary["0x0040"]["0x1001"]=["SH","1","RequestedProcedureID"],this.newDictionary["0x0040"]["0x1002"]=["LO","1","ReasonForRequestedProcedure"],this.newDictionary["0x0040"]["0x1003"]=["SH","1","RequestedProcedurePriority"],this.newDictionary["0x0040"]["0x1004"]=["LO","1","PatientTransportArrangements"],this.newDictionary["0x0040"]["0x1005"]=["LO","1","RequestedProcedureLocation"],this.newDictionary["0x0040"]["0x1006"]=["SH","1","PlacerOrderNumberOfProcedure"],this.newDictionary["0x0040"]["0x1007"]=["SH","1","FillerOrderNumberOfProcedure"],this.newDictionary["0x0040"]["0x1008"]=["LO","1","ConfidentialityCode"],this.newDictionary["0x0040"]["0x1009"]=["SH","1","ReportingPriority"],this.newDictionary["0x0040"]["0x1010"]=["PN","1-n","NamesOfIntendedRecipientsOfResults"],this.newDictionary["0x0040"]["0x1400"]=["LT","1","RequestedProcedureComments"],this.newDictionary["0x0040"]["0x2001"]=["LO","1","ReasonForTheImagingServiceRequest"],this.newDictionary["0x0040"]["0x2002"]=["LO","1","ImagingServiceRequestDescription"],this.newDictionary["0x0040"]["0x2004"]=["DA","1","IssueDateOfImagingServiceRequest"],this.newDictionary["0x0040"]["0x2005"]=["TM","1","IssueTimeOfImagingServiceRequest"],this.newDictionary["0x0040"]["0x2006"]=["SH","1","PlacerOrderNumberOfImagingServiceRequest"],this.newDictionary["0x0040"]["0x2007"]=["SH","0","FillerOrderNumberOfImagingServiceRequest"],this.newDictionary["0x0040"]["0x2008"]=["PN","1","OrderEnteredBy"],this.newDictionary["0x0040"]["0x2009"]=["SH","1","OrderEntererLocation"],this.newDictionary["0x0040"]["0x2010"]=["SH","1","OrderCallbackPhoneNumber"],this.newDictionary["0x0040"]["0x2016"]=["LO","1","PlacerOrderNumberImagingServiceRequest"],this.newDictionary["0x0040"]["0x2017"]=["LO","1","FillerOrderNumberImagingServiceRequest"],this.newDictionary["0x0040"]["0x2400"]=["LT","1","ImagingServiceRequestComments"],this.newDictionary["0x0040"]["0x3001"]=["LT","1","ConfidentialityConstraint"],this.newDictionary["0x0040"]["0xA010"]=["CS","1","RelationshipType"],this.newDictionary["0x0040"]["0xA027"]=["LO","1","VerifyingOrganization"],this.newDictionary["0x0040"]["0xA030"]=["DT","1","VerificationDateTime"],this.newDictionary["0x0040"]["0xA032"]=["DT","1","ObservationDateTime"],this.newDictionary["0x0040"]["0xA040"]=["CS","1","ValueType"],this.newDictionary["0x0040"]["0xA043"]=["SQ","1","ConceptNameCodeSequence"],this.newDictionary["0x0040"]["0xA050"]=["CS","1","ContinuityOfContent"],this.newDictionary["0x0040"]["0xA073"]=["SQ","1","VerifyingObserverSequence"],this.newDictionary["0x0040"]["0xA075"]=["PN","1","VerifyingObserverName"],this.newDictionary["0x0040"]["0xA088"]=["SQ","1","VerifyingObserverIdentificationCodeSeque"],this.newDictionary["0x0040"]["0xA0B0"]=["US","2-2n","ReferencedWaveformChannels"],this.newDictionary["0x0040"]["0xA120"]=["DT","1","DateTime"],this.newDictionary["0x0040"]["0xA121"]=["DA","1","Date"],this.newDictionary["0x0040"]["0xA122"]=["TM","1","Time"],this.newDictionary["0x0040"]["0xA123"]=["PN","1","PersonName"],this.newDictionary["0x0040"]["0xA124"]=["UI","1","UID"],this.newDictionary["0x0040"]["0xA130"]=["CS","1","TemporalRangeType"],this.newDictionary["0x0040"]["0xA132"]=["UL","1-n","ReferencedSamplePositionsU"],this.newDictionary["0x0040"]["0xA136"]=["US","1-n","ReferencedFrameNumbers"],this.newDictionary["0x0040"]["0xA138"]=["DS","1-n","ReferencedTimeOffsets"],this.newDictionary["0x0040"]["0xA13A"]=["DT","1-n","ReferencedDatetime"],this.newDictionary["0x0040"]["0xA160"]=["UT","1","TextValue"],this.newDictionary["0x0040"]["0xA168"]=["SQ","1","ConceptCodeSequence"],this.newDictionary["0x0040"]["0xA180"]=["US","1","AnnotationGroupNumber"],this.newDictionary["0x0040"]["0xA195"]=["SQ","1","ConceptNameCodeSequenceModifier"],this.newDictionary["0x0040"]["0xA300"]=["SQ","1","MeasuredValueSequence"],this.newDictionary["0x0040"]["0xA30A"]=["DS","1-n","NumericValue"],this.newDictionary["0x0040"]["0xA360"]=["SQ","1","PredecessorDocumentsSequence"],this.newDictionary["0x0040"]["0xA370"]=["SQ","1","ReferencedRequestSequence"],this.newDictionary["0x0040"]["0xA372"]=["SQ","1","PerformedProcedureCodeSequence"],this.newDictionary["0x0040"]["0xA375"]=["SQ","1","CurrentRequestedProcedureEvidenceSequenSequence"],this.newDictionary["0x0040"]["0xA385"]=["SQ","1","PertinentOtherEvidenceSequence"],this.newDictionary["0x0040"]["0xA491"]=["CS","1","CompletionFlag"],this.newDictionary["0x0040"]["0xA492"]=["LO","1","CompletionFlagDescription"],this.newDictionary["0x0040"]["0xA493"]=["CS","1","VerificationFlag"],this.newDictionary["0x0040"]["0xA504"]=["SQ","1","ContentTemplateSequence"],this.newDictionary["0x0040"]["0xA525"]=["SQ","1","IdenticalDocumentsSequence"],this.newDictionary["0x0040"]["0xA730"]=["SQ","1","ContentSequence"],this.newDictionary["0x0040"]["0xB020"]=["SQ","1","AnnotationSequence"],this.newDictionary["0x0040"]["0xDB00"]=["CS","1","TemplateIdentifier"],this.newDictionary["0x0040"]["0xDB06"]=["DT","1","TemplateVersion"],this.newDictionary["0x0040"]["0xDB07"]=["DT","1","TemplateLocalVersion"],this.newDictionary["0x0040"]["0xDB0B"]=["CS","1","TemplateExtensionFlag"],this.newDictionary["0x0040"]["0xDB0C"]=["UI","1","TemplateExtensionOrganizationUID"],this.newDictionary["0x0040"]["0xDB0D"]=["UI","1","TemplateExtensionCreatorUID"],this.newDictionary["0x0040"]["0xDB73"]=["UL","1-n","ReferencedContentItemIdentifier"],this.newDictionary["0x0050"]=[],this.newDictionary["0x0050"]["0x0000"]=["UL","1","XRayAngioDeviceGroupLength"],this.newDictionary["0x0050"]["0x0004"]=["CS","1","CalibrationObject"],this.newDictionary["0x0050"]["0x0010"]=["SQ","1","DeviceSequence"],this.newDictionary["0x0050"]["0x0012"]=["CS","1","DeviceType"],this.newDictionary["0x0050"]["0x0014"]=["DS","1","DeviceLength"],this.newDictionary["0x0050"]["0x0016"]=["DS","1","DeviceDiameter"],this.newDictionary["0x0050"]["0x0017"]=["CS","1","DeviceDiameterUnits"],this.newDictionary["0x0050"]["0x0018"]=["DS","1","DeviceVolume"],this.newDictionary["0x0050"]["0x0019"]=["DS","1","InterMarkerDistance"],this.newDictionary["0x0050"]["0x0020"]=["LO","1","DeviceDescription"],this.newDictionary["0x0050"]["0x0030"]=["SQ","1","CodedInterventionalDeviceSequence"],this.newDictionary["0x0054"]=[],this.newDictionary["0x0054"]["0x0000"]=["UL","1","NuclearMedicineGroupLength"],this.newDictionary["0x0054"]["0x0010"]=["US","1-n","EnergyWindowVector"],this.newDictionary["0x0054"]["0x0011"]=["US","1","NumberOfEnergyWindows"],this.newDictionary["0x0054"]["0x0012"]=["SQ","1","EnergyWindowInformationSequence"],this.newDictionary["0x0054"]["0x0013"]=["SQ","1","EnergyWindowRangeSequence"],this.newDictionary["0x0054"]["0x0014"]=["DS","1","EnergyWindowLowerLimit"],this.newDictionary["0x0054"]["0x0015"]=["DS","1","EnergyWindowUpperLimit"],this.newDictionary["0x0054"]["0x0016"]=["SQ","1","RadiopharmaceuticalInformationSequence"],this.newDictionary["0x0054"]["0x0017"]=["IS","1","ResidualSyringeCounts"],this.newDictionary["0x0054"]["0x0018"]=["SH","1","EnergyWindowName"],this.newDictionary["0x0054"]["0x0020"]=["US","1-n","DetectorVector"],this.newDictionary["0x0054"]["0x0021"]=["US","1","NumberOfDetectors"],this.newDictionary["0x0054"]["0x0022"]=["SQ","1","DetectorInformationSequence"],this.newDictionary["0x0054"]["0x0030"]=["US","1-n","PhaseVector"],this.newDictionary["0x0054"]["0x0031"]=["US","1","NumberOfPhases"],this.newDictionary["0x0054"]["0x0032"]=["SQ","1","PhaseInformationSequence"],this.newDictionary["0x0054"]["0x0033"]=["US","1","NumberOfFramesInPhase"],this.newDictionary["0x0054"]["0x0036"]=["IS","1","PhaseDelay"],this.newDictionary["0x0054"]["0x0038"]=["IS","1","PauseBetweenFrames"],this.newDictionary["0x0054"]["0x0050"]=["US","1-n","RotationVector"],this.newDictionary["0x0054"]["0x0051"]=["US","1","NumberOfRotations"],this.newDictionary["0x0054"]["0x0052"]=["SQ","1","RotationInformationSequence"],this.newDictionary["0x0054"]["0x0053"]=["US","1","NumberOfFramesInRotation"],this.newDictionary["0x0054"]["0x0060"]=["US","1-n","RRIntervalVector"],this.newDictionary["0x0054"]["0x0061"]=["US","1","NumberOfRRIntervals"],this.newDictionary["0x0054"]["0x0062"]=["SQ","1","GatedInformationSequence"],this.newDictionary["0x0054"]["0x0063"]=["SQ","1","DataInformationSequence"],this.newDictionary["0x0054"]["0x0070"]=["US","1-n","TimeSlotVector"],this.newDictionary["0x0054"]["0x0071"]=["US","1","NumberOfTimeSlots"],this.newDictionary["0x0054"]["0x0072"]=["SQ","1","TimeSlotInformationSequence"],this.newDictionary["0x0054"]["0x0073"]=["DS","1","TimeSlotTime"],this.newDictionary["0x0054"]["0x0080"]=["US","1-n","SliceVector"],this.newDictionary["0x0054"]["0x0081"]=["US","1","NumberOfSlices"],this.newDictionary["0x0054"]["0x0090"]=["US","1-n","AngularViewVector"],this.newDictionary["0x0054"]["0x0100"]=["US","1-n","TimeSliceVector"],this.newDictionary["0x0054"]["0x0101"]=["US","1","NumberOfTimeSlices"],this.newDictionary["0x0054"]["0x0200"]=["DS","1","StartAngle"],this.newDictionary["0x0054"]["0x0202"]=["CS","1","TypeOfDetectorMotion"],this.newDictionary["0x0054"]["0x0210"]=["IS","1-n","TriggerVector"],this.newDictionary["0x0054"]["0x0211"]=["US","1","NumberOfTriggersInPhase"],this.newDictionary["0x0054"]["0x0220"]=["SQ","1","ViewCodeSequence"],this.newDictionary["0x0054"]["0x0222"]=["SQ","1","ViewAngulationModifierCodeSequence"],this.newDictionary["0x0054"]["0x0300"]=["SQ","1","RadionuclideCodeSequence"],this.newDictionary["0x0054"]["0x0302"]=["SQ","1","AdministrationRouteCodeSequence"],this.newDictionary["0x0054"]["0x0304"]=["SQ","1","RadiopharmaceuticalCodeSequence"],this.newDictionary["0x0054"]["0x0306"]=["SQ","1","CalibrationDataSequence"],this.newDictionary["0x0054"]["0x0308"]=["US","1","EnergyWindowNumber"],this.newDictionary["0x0054"]["0x0400"]=["SH","1","ImageID"],this.newDictionary["0x0054"]["0x0410"]=["SQ","1","PatientOrientationCodeSequence"],this.newDictionary["0x0054"]["0x0412"]=["SQ","1","PatientOrientationModifierCodeSequence"],this.newDictionary["0x0054"]["0x0414"]=["SQ","1","PatientGantryRelationshipCodeSequence"],this.newDictionary["0x0054"]["0x1000"]=["CS","2","SeriesType"],this.newDictionary["0x0054"]["0x1001"]=["CS","1","Units"],this.newDictionary["0x0054"]["0x1002"]=["CS","1","CountsSource"],this.newDictionary["0x0054"]["0x1004"]=["CS","1","ReprojectionMethod"],this.newDictionary["0x0054"]["0x1100"]=["CS","1","RandomsCorrectionMethod"],this.newDictionary["0x0054"]["0x1101"]=["LO","1","AttenuationCorrectionMethod"],this.newDictionary["0x0054"]["0x1102"]=["CS","1","DecayCorrection"],this.newDictionary["0x0054"]["0x1103"]=["LO","1","ReconstructionMethod"],this.newDictionary["0x0054"]["0x1104"]=["LO","1","DetectorLinesOfResponseUsed"],this.newDictionary["0x0054"]["0x1105"]=["LO","1","ScatterCorrectionMethod"],this.newDictionary["0x0054"]["0x1200"]=["DS","1","AxialAcceptance"],this.newDictionary["0x0054"]["0x1201"]=["IS","2","AxialMash"],this.newDictionary["0x0054"]["0x1202"]=["IS","1","TransverseMash"],this.newDictionary["0x0054"]["0x1203"]=["DS","2","DetectorElementSize"],this.newDictionary["0x0054"]["0x1210"]=["DS","1","CoincidenceWindowWidth"],this.newDictionary["0x0054"]["0x1220"]=["CS","1-n","SecondaryCountsType"],this.newDictionary["0x0054"]["0x1300"]=["DS","1","FrameReferenceTime"],this.newDictionary["0x0054"]["0x1310"]=["IS","1","PrimaryPromptsCountsAccumulated"],this.newDictionary["0x0054"]["0x1311"]=["IS","1-n","SecondaryCountsAccumulated"],this.newDictionary["0x0054"]["0x1320"]=["DS","1","SliceSensitivityFactor"],this.newDictionary["0x0054"]["0x1321"]=["DS","1","DecayFactor"],this.newDictionary["0x0054"]["0x1322"]=["DS","1","DoseCalibrationFactor"],this.newDictionary["0x0054"]["0x1323"]=["DS","1","ScatterFractionFactor"],this.newDictionary["0x0054"]["0x1324"]=["DS","1","DeadTimeFactor"],this.newDictionary["0x0054"]["0x1330"]=["US","1","ImageIndex"],this.newDictionary["0x0054"]["0x1400"]=["CS","1-n","CountsIncluded"],this.newDictionary["0x0054"]["0x1401"]=["CS","1","DeadTimeCorrectionFlag"],this.newDictionary["0x0060"]=[],this.newDictionary["0x0060"]["0x0000"]=["UL","1","HistogramGroupLength"],this.newDictionary["0x0060"]["0x3000"]=["SQ","1","HistogramSequence"],this.newDictionary["0x0060"]["0x3002"]=["US","1","HistogramNumberofBins"],this.newDictionary["0x0060"]["0x3004"]=["US/SS","1","HistogramFirstBinValue"],this.newDictionary["0x0060"]["0x3006"]=["US/SS","1","HistogramLastBinValue"],this.newDictionary["0x0060"]["0x3008"]=["US","1","HistogramBinWidth"],this.newDictionary["0x0060"]["0x3010"]=["LO","1","HistogramExplanation"],this.newDictionary["0x0060"]["0x3020"]=["UL","1-n","HistogramData"],this.newDictionary["0x0070"]=[],this.newDictionary["0x0070"]["0x0001"]=["SQ","1","GraphicAnnotationSequence"],this.newDictionary["0x0070"]["0x0002"]=["CS","1","GraphicLayer"],this.newDictionary["0x0070"]["0x0003"]=["CS","1","BoundingBoxAnnotationUnits"],this.newDictionary["0x0070"]["0x0004"]=["CS","1","AnchorPointAnnotationUnits"],this.newDictionary["0x0070"]["0x0005"]=["CS","1","GraphicAnnotationUnits"],this.newDictionary["0x0070"]["0x0006"]=["ST","1","UnformattedTextValue"],this.newDictionary["0x0070"]["0x0008"]=["SQ","1","TextObjectSequence"],this.newDictionary["0x0070"]["0x0009"]=["SQ","1","GraphicObjectSequence"],this.newDictionary["0x0070"]["0x0010"]=["FL","2","BoundingBoxTopLeftHandCorner"],this.newDictionary["0x0070"]["0x0011"]=["FL","2","BoundingBoxBottomRightHandCorner"],this.newDictionary["0x0070"]["0x0012"]=["CS","1","BoundingBoxTextHorizontalJustification"],this.newDictionary["0x0070"]["0x0014"]=["FL","2","AnchorPoint"],this.newDictionary["0x0070"]["0x0015"]=["CS","1","AnchorPointVisibility"],this.newDictionary["0x0070"]["0x0020"]=["US","1","GraphicDimensions"],this.newDictionary["0x0070"]["0x0021"]=["US","1","NumberOfGraphicPoints"],this.newDictionary["0x0070"]["0x0022"]=["FL","2-n","GraphicData"],this.newDictionary["0x0070"]["0x0023"]=["CS","1","GraphicType"],this.newDictionary["0x0070"]["0x0024"]=["CS","1","GraphicFilled"],this.newDictionary["0x0070"]["0x0040"]=["IS","1","ImageRotationFrozenDraftRetired"],this.newDictionary["0x0070"]["0x0041"]=["CS","1","ImageHorizontalFlip"],this.newDictionary["0x0070"]["0x0042"]=["US","1","ImageRotation"],this.newDictionary["0x0070"]["0x0050"]=["US","2","DisplayedAreaTLHCFrozenDraftRetired"],this.newDictionary["0x0070"]["0x0051"]=["US","2","DisplayedAreaBRHCFrozenDraftRetired"],this.newDictionary["0x0070"]["0x0052"]=["SL","2","DisplayedAreaTopLeftHandCorner"],this.newDictionary["0x0070"]["0x0053"]=["SL","2","DisplayedAreaBottomRightHandCorner"],this.newDictionary["0x0070"]["0x005A"]=["SQ","1","DisplayedAreaSelectionSequence"],this.newDictionary["0x0070"]["0x0060"]=["SQ","1","GraphicLayerSequence"],this.newDictionary["0x0070"]["0x0062"]=["IS","1","GraphicLayerOrder"],this.newDictionary["0x0070"]["0x0066"]=["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],this.newDictionary["0x0070"]["0x0067"]=["US","3","GraphicLayerRecommendedDisplayRGBValue"],this.newDictionary["0x0070"]["0x0068"]=["LO","1","GraphicLayerDescription"],this.newDictionary["0x0070"]["0x0080"]=["CS","1","PresentationLabel"],this.newDictionary["0x0070"]["0x0081"]=["LO","1","PresentationDescription"],this.newDictionary["0x0070"]["0x0082"]=["DA","1","PresentationCreationDate"],this.newDictionary["0x0070"]["0x0083"]=["TM","1","PresentationCreationTime"],this.newDictionary["0x0070"]["0x0084"]=["PN","1","PresentationCreatorsName"],this.newDictionary["0x0070"]["0x0100"]=["CS","1","PresentationSizeMode"],this.newDictionary["0x0070"]["0x0101"]=["DS","2","PresentationPixelSpacing"],this.newDictionary["0x0070"]["0x0102"]=["IS","2","PresentationPixelAspectRatio"],this.newDictionary["0x0070"]["0x0103"]=["FL","1","PresentationPixelMagnificationRatio"],this.newDictionary["0x0088"]=[],this.newDictionary["0x0088"]["0x0000"]=["UL","1","StorageGroupLength"],this.newDictionary["0x0088"]["0x0130"]=["SH","1","StorageMediaFilesetID"],this.newDictionary["0x0088"]["0x0140"]=["UI","1","StorageMediaFilesetUID"],this.newDictionary["0x0088"]["0x0200"]=["SQ","1","IconImage"],this.newDictionary["0x0088"]["0x0904"]=["LO","1","TopicTitle"],this.newDictionary["0x0088"]["0x0906"]=["ST","1","TopicSubject"],this.newDictionary["0x0088"]["0x0910"]=["LO","1","TopicAuthor"],this.newDictionary["0x0088"]["0x0912"]=["LO","3","TopicKeyWords"],this.newDictionary["0x1000"]=[],this.newDictionary["0x1000"]["0x0000"]=["UL","1","CodeTableGroupLength"],this.newDictionary["0x1000"]["0x0010"]=["US","3","EscapeTriplet"],this.newDictionary["0x1000"]["0x0011"]=["US","3","RunLengthTriplet"],this.newDictionary["0x1000"]["0x0012"]=["US","1","HuffmanTableSize"],this.newDictionary["0x1000"]["0x0013"]=["US","3","HuffmanTableTriplet"],this.newDictionary["0x1000"]["0x0014"]=["US","1","ShiftTableSize"],this.newDictionary["0x1000"]["0x0015"]=["US","3","ShiftTableTriplet"],this.newDictionary["0x1010"]=[],this.newDictionary["0x1010"]["0x0000"]=["UL","1","ZonalMapGroupLength"],this.newDictionary["0x1010"]["0x0004"]=["US","1-n","ZonalMap"],this.newDictionary["0x2000"]=[],this.newDictionary["0x2000"]["0x0000"]=["UL","1","FilmSessionGroupLength"],this.newDictionary["0x2000"]["0x0010"]=["IS","1","NumberOfCopies"],this.newDictionary["0x2000"]["0x001E"]=["SQ","1","PrinterConfigurationSequence"],this.newDictionary["0x2000"]["0x0020"]=["CS","1","PrintPriority"],this.newDictionary["0x2000"]["0x0030"]=["CS","1","MediumType"],this.newDictionary["0x2000"]["0x0040"]=["CS","1","FilmDestination"],this.newDictionary["0x2000"]["0x0050"]=["LO","1","FilmSessionLabel"],this.newDictionary["0x2000"]["0x0060"]=["IS","1","MemoryAllocation"],this.newDictionary["0x2000"]["0x0061"]=["IS","1","MaximumMemoryAllocation"],this.newDictionary["0x2000"]["0x0062"]=["CS","1","ColorImagePrintingFlag"],this.newDictionary["0x2000"]["0x0063"]=["CS","1","CollationFlag"],this.newDictionary["0x2000"]["0x0065"]=["CS","1","AnnotationFlag"],this.newDictionary["0x2000"]["0x0067"]=["CS","1","ImageOverlayFlag"],this.newDictionary["0x2000"]["0x0069"]=["CS","1","PresentationLUTFlag"],this.newDictionary["0x2000"]["0x006A"]=["CS","1","ImageBoxPresentationLUTFlag"],this.newDictionary["0x2000"]["0x00A0"]=["US","1","MemoryBitDepth"],this.newDictionary["0x2000"]["0x00A1"]=["US","1","PrintingBitDepth"],this.newDictionary["0x2000"]["0x00A2"]=["SQ","1","MediaInstalledSequence"],this.newDictionary["0x2000"]["0x00A4"]=["SQ","1","OtherMediaAvailableSequence"],this.newDictionary["0x2000"]["0x00A8"]=["SQ","1","SupportedImageDisplayFormatsSequence"],this.newDictionary["0x2000"]["0x0500"]=["SQ","1","ReferencedFilmBoxSequence"],this.newDictionary["0x2000"]["0x0510"]=["SQ","1","ReferencedStoredPrintSequence"],this.newDictionary["0x2010"]=[],this.newDictionary["0x2010"]["0x0000"]=["UL","1","FilmBoxGroupLength"],this.newDictionary["0x2010"]["0x0010"]=["ST","1","ImageDisplayFormat"],this.newDictionary["0x2010"]["0x0030"]=["CS","1","AnnotationDisplayFormatID"],this.newDictionary["0x2010"]["0x0040"]=["CS","1","FilmOrientation"],this.newDictionary["0x2010"]["0x0050"]=["CS","1","FilmSizeID"],this.newDictionary["0x2010"]["0x0052"]=["CS","1","PrinterResolutionID"],this.newDictionary["0x2010"]["0x0054"]=["CS","1","DefaultPrinterResolutionID"],this.newDictionary["0x2010"]["0x0060"]=["CS","1","MagnificationType"],this.newDictionary["0x2010"]["0x0080"]=["CS","1","SmoothingType"],this.newDictionary["0x2010"]["0x00A6"]=["CS","1","DefaultMagnificationType"],this.newDictionary["0x2010"]["0x00A7"]=["CS","1-n","OtherMagnificationTypesAvailable"],this.newDictionary["0x2010"]["0x00A8"]=["CS","1","DefaultSmoothingType"],this.newDictionary["0x2010"]["0x00A9"]=["CS","1-n","OtherSmoothingTypesAvailable"],this.newDictionary["0x2010"]["0x0100"]=["CS","1","BorderDensity"],this.newDictionary["0x2010"]["0x0110"]=["CS","1","EmptyImageDensity"],this.newDictionary["0x2010"]["0x0120"]=["US","1","MinDensity"],this.newDictionary["0x2010"]["0x0130"]=["US","1","MaxDensity"],this.newDictionary["0x2010"]["0x0140"]=["CS","1","Trim"],this.newDictionary["0x2010"]["0x0150"]=["ST","1","ConfigurationInformation"],this.newDictionary["0x2010"]["0x0152"]=["LT","1","ConfigurationInformationDescription"],this.newDictionary["0x2010"]["0x0154"]=["IS","1","MaximumCollatedFilms"],this.newDictionary["0x2010"]["0x015E"]=["US","1","Illumination"],this.newDictionary["0x2010"]["0x0160"]=["US","1","ReflectedAmbientLight"],this.newDictionary["0x2010"]["0x0376"]=["DS","2","PrinterPixelSpacing"],this.newDictionary["0x2010"]["0x0500"]=["SQ","1","ReferencedFilmSessionSequence"],this.newDictionary["0x2010"]["0x0510"]=["SQ","1","ReferencedImageBoxSequence"],this.newDictionary["0x2010"]["0x0520"]=["SQ","1","ReferencedBasicAnnotationBoxSequence"],this.newDictionary["0x2020"]=[],this.newDictionary["0x2020"]["0x0000"]=["UL","1","ImageBoxGroupLength"],this.newDictionary["0x2020"]["0x0010"]=["US","1","ImageBoxPosition"],this.newDictionary["0x2020"]["0x0020"]=["CS","1","Polarity"],this.newDictionary["0x2020"]["0x0030"]=["DS","1","RequestedImageSize"],this.newDictionary["0x2020"]["0x0040"]=["CS","1","RequestedDecimateCropBehavior"],this.newDictionary["0x2020"]["0x0050"]=["CS","1","RequestedResolutionID"],this.newDictionary["0x2020"]["0x00A0"]=["CS","1","RequestedImageSizeFlag"],this.newDictionary["0x2020"]["0x00A2"]=["CS","1","DecimateCropResult"],this.newDictionary["0x2020"]["0x0110"]=["SQ","1","PreformattedGrayscaleImageSequence"],this.newDictionary["0x2020"]["0x0111"]=["SQ","1","PreformattedColorImageSequence"],this.newDictionary["0x2020"]["0x0130"]=["SQ","1","ReferencedImageOverlayBoxSequence"],this.newDictionary["0x2020"]["0x0140"]=["SQ","1","ReferencedVOILUTBoxSequence"],this.newDictionary["0x2030"]=[],this.newDictionary["0x2030"]["0x0000"]=["UL","1","AnnotationGroupLength"],this.newDictionary["0x2030"]["0x0010"]=["US","1","AnnotationPosition"],this.newDictionary["0x2030"]["0x0020"]=["LO","1","TextString"],this.newDictionary["0x2040"]=[],this.newDictionary["0x2040"]["0x0000"]=["UL","1","OverlayBoxGroupLength"],this.newDictionary["0x2040"]["0x0010"]=["SQ","1","ReferencedOverlayPlaneSequence"],this.newDictionary["0x2040"]["0x0011"]=["US","9","ReferencedOverlayPlaneGroups"],this.newDictionary["0x2040"]["0x0020"]=["SQ","1","OverlayPixelDataSequence"],this.newDictionary["0x2040"]["0x0060"]=["CS","1","OverlayMagnificationType"],this.newDictionary["0x2040"]["0x0070"]=["CS","1","OverlaySmoothingType"],this.newDictionary["0x2040"]["0x0072"]=["CS","1","OverlayOrImageMagnification"],this.newDictionary["0x2040"]["0x0074"]=["US","1","MagnifyToNumberOfColumns"],this.newDictionary["0x2040"]["0x0080"]=["CS","1","OverlayForegroundDensity"],this.newDictionary["0x2040"]["0x0082"]=["CS","1","OverlayBackgroundDensity"],this.newDictionary["0x2040"]["0x0090"]=["CS","1","OverlayMode"],this.newDictionary["0x2040"]["0x0100"]=["CS","1","ThresholdDensity"],this.newDictionary["0x2040"]["0x0500"]=["SQ","1","ReferencedOverlayImageBoxSequence"],this.newDictionary["0x2050"]=[],this.newDictionary["0x2050"]["0x0000"]=["UL","1","PresentationLUTGroupLength"],this.newDictionary["0x2050"]["0x0010"]=["SQ","1","PresentationLUTSequence"],this.newDictionary["0x2050"]["0x0020"]=["CS","1","PresentationLUTShape"],this.newDictionary["0x2050"]["0x0500"]=["SQ","1","ReferencedPresentationLUTSequence"],this.newDictionary["0x2100"]=[],this.newDictionary["0x2100"]["0x0000"]=["UL","1","PrintJobGroupLength"],this.newDictionary["0x2100"]["0x0010"]=["SH","1","PrintJobID"],this.newDictionary["0x2100"]["0x0020"]=["CS","1","ExecutionStatus"],this.newDictionary["0x2100"]["0x0030"]=["CS","1","ExecutionStatusInfo"],this.newDictionary["0x2100"]["0x0040"]=["DA","1","CreationDate"],this.newDictionary["0x2100"]["0x0050"]=["TM","1","CreationTime"],this.newDictionary["0x2100"]["0x0070"]=["AE","1","Originator"],this.newDictionary["0x2100"]["0x0140"]=["AE","1","DestinationAE"],this.newDictionary["0x2100"]["0x0160"]=["SH","1","OwnerID"],this.newDictionary["0x2100"]["0x0170"]=["IS","1","NumberOfFilms"],this.newDictionary["0x2100"]["0x0500"]=["SQ","1","ReferencedPrintJobSequence"],this.newDictionary["0x2110"]=[],this.newDictionary["0x2110"]["0x0000"]=["UL","1","PrinterGroupLength"],this.newDictionary["0x2110"]["0x0010"]=["CS","1","PrinterStatus"],this.newDictionary["0x2110"]["0x0020"]=["CS","1","PrinterStatusInfo"],this.newDictionary["0x2110"]["0x0030"]=["LO","1","PrinterName"],this.newDictionary["0x2110"]["0x0099"]=["SH","1","PrintQueueID"],this.newDictionary["0x2120"]=[],this.newDictionary["0x2120"]["0x0000"]=["UL","1","QueueGroupLength"],this.newDictionary["0x2120"]["0x0010"]=["CS","1","QueueStatus"],this.newDictionary["0x2120"]["0x0050"]=["SQ","1","PrintJobDescriptionSequence"],this.newDictionary["0x2120"]["0x0070"]=["SQ","1","QueueReferencedPrintJobSequence"],this.newDictionary["0x2130"]=[],this.newDictionary["0x2130"]["0x0000"]=["UL","1","PrintContentGroupLength"],this.newDictionary["0x2130"]["0x0010"]=["SQ","1","PrintManagementCapabilitiesSequence"],this.newDictionary["0x2130"]["0x0015"]=["SQ","1","PrinterCharacteristicsSequence"],this.newDictionary["0x2130"]["0x0030"]=["SQ","1","FilmBoxContentSequence"],this.newDictionary["0x2130"]["0x0040"]=["SQ","1","ImageBoxContentSequence"],this.newDictionary["0x2130"]["0x0050"]=["SQ","1","AnnotationContentSequence"],this.newDictionary["0x2130"]["0x0060"]=["SQ","1","ImageOverlayBoxContentSequence"],this.newDictionary["0x2130"]["0x0080"]=["SQ","1","PresentationLUTContentSequence"],this.newDictionary["0x2130"]["0x00A0"]=["SQ","1","ProposedStudySequence"],this.newDictionary["0x2130"]["0x00C0"]=["SQ","1","OriginalImageSequence"],this.newDictionary["0x3002"]=[],this.newDictionary["0x3002"]["0x0000"]=["UL","1","RTImageGroupLength"],this.newDictionary["0x3002"]["0x0002"]=["SH","1","RTImageLabel"],this.newDictionary["0x3002"]["0x0003"]=["LO","1","RTImageName"],this.newDictionary["0x3002"]["0x0004"]=["ST","1","RTImageDescription"],this.newDictionary["0x3002"]["0x000A"]=["CS","1","ReportedValuesOrigin"],this.newDictionary["0x3002"]["0x000C"]=["CS","1","RTImagePlane"],this.newDictionary["0x3002"]["0x000D"]=["DS","3","XRayImageReceptorTranslation"],this.newDictionary["0x3002"]["0x000E"]=["DS","1","XRayImageReceptorAngle"],this.newDictionary["0x3002"]["0x0010"]=["DS","6","RTImageOrientation"],this.newDictionary["0x3002"]["0x0011"]=["DS","2","ImagePlanePixelSpacing"],this.newDictionary["0x3002"]["0x0012"]=["DS","2","RTImagePosition"],this.newDictionary["0x3002"]["0x0020"]=["SH","1","RadiationMachineName"],this.newDictionary["0x3002"]["0x0022"]=["DS","1","RadiationMachineSAD"],this.newDictionary["0x3002"]["0x0024"]=["DS","1","RadiationMachineSSD"],this.newDictionary["0x3002"]["0x0026"]=["DS","1","RTImageSID"],this.newDictionary["0x3002"]["0x0028"]=["DS","1","SourceToReferenceObjectDistance"],this.newDictionary["0x3002"]["0x0029"]=["IS","1","FractionNumber"],this.newDictionary["0x3002"]["0x0030"]=["SQ","1","ExposureSequence"],this.newDictionary["0x3002"]["0x0032"]=["DS","1","MetersetExposure"],this.newDictionary["0x3002"]["0x0034"]=["DS","4","DiaphragmPosition"],this.newDictionary["0x3004"]=[],this.newDictionary["0x3004"]["0x0000"]=["UL","1","RTDoseGroupLength"],this.newDictionary["0x3004"]["0x0001"]=["CS","1","DVHType"],this.newDictionary["0x3004"]["0x0002"]=["CS","1","DoseUnits"],this.newDictionary["0x3004"]["0x0004"]=["CS","1","DoseType"],this.newDictionary["0x3004"]["0x0006"]=["LO","1","DoseComment"],this.newDictionary["0x3004"]["0x0008"]=["DS","3","NormalizationPoint"],this.newDictionary["0x3004"]["0x000A"]=["CS","1","DoseSummationType"],this.newDictionary["0x3004"]["0x000C"]=["DS","2-n","GridFrameOffsetVector"],this.newDictionary["0x3004"]["0x000E"]=["DS","1","DoseGridScaling"],this.newDictionary["0x3004"]["0x0010"]=["SQ","1","RTDoseROISequence"],this.newDictionary["0x3004"]["0x0012"]=["DS","1","DoseValue"],this.newDictionary["0x3004"]["0x0040"]=["DS","3","DVHNormalizationPoint"],this.newDictionary["0x3004"]["0x0042"]=["DS","1","DVHNormalizationDoseValue"],this.newDictionary["0x3004"]["0x0050"]=["SQ","1","DVHSequence"],this.newDictionary["0x3004"]["0x0052"]=["DS","1","DVHDoseScaling"],this.newDictionary["0x3004"]["0x0054"]=["CS","1","DVHVolumeUnits"],this.newDictionary["0x3004"]["0x0056"]=["IS","1","DVHNumberOfBins"],this.newDictionary["0x3004"]["0x0058"]=["DS","2-2n","DVHData"],this.newDictionary["0x3004"]["0x0060"]=["SQ","1","DVHReferencedROISequence"],this.newDictionary["0x3004"]["0x0062"]=["CS","1","DVHROIContributionType"],this.newDictionary["0x3004"]["0x0070"]=["DS","1","DVHMinimumDose"],this.newDictionary["0x3004"]["0x0072"]=["DS","1","DVHMaximumDose"],this.newDictionary["0x3004"]["0x0074"]=["DS","1","DVHMeanDose"],this.newDictionary["0x3006"]=[],this.newDictionary["0x3006"]["0x0000"]=["UL","1","RTStructureSetGroupLength"],this.newDictionary["0x3006"]["0x0002"]=["SH","1","StructureSetLabel"],this.newDictionary["0x3006"]["0x0004"]=["LO","1","StructureSetName"],this.newDictionary["0x3006"]["0x0006"]=["ST","1","StructureSetDescription"],this.newDictionary["0x3006"]["0x0008"]=["DA","1","StructureSetDate"],this.newDictionary["0x3006"]["0x0009"]=["TM","1","StructureSetTime"],this.newDictionary["0x3006"]["0x0010"]=["SQ","1","ReferencedFrameOfReferenceSequence"],this.newDictionary["0x3006"]["0x0012"]=["SQ","1","RTReferencedStudySequence"],this.newDictionary["0x3006"]["0x0014"]=["SQ","1","RTReferencedSeriesSequence"],this.newDictionary["0x3006"]["0x0016"]=["SQ","1","ContourImageSequence"],this.newDictionary["0x3006"]["0x0020"]=["SQ","1","StructureSetROISequence"],this.newDictionary["0x3006"]["0x0022"]=["IS","1","ROINumber"],this.newDictionary["0x3006"]["0x0024"]=["UI","1","ReferencedFrameOfReferenceUID"],this.newDictionary["0x3006"]["0x0026"]=["LO","1","ROIName"],this.newDictionary["0x3006"]["0x0028"]=["ST","1","ROIDescription"],this.newDictionary["0x3006"]["0x002A"]=["IS","3","ROIDisplayColor"],this.newDictionary["0x3006"]["0x002C"]=["DS","1","ROIVolume"],this.newDictionary["0x3006"]["0x0030"]=["SQ","1","RTRelatedROISequence"],this.newDictionary["0x3006"]["0x0033"]=["CS","1","RTROIRelationship"],this.newDictionary["0x3006"]["0x0036"]=["CS","1","ROIGenerationAlgorithm"],this.newDictionary["0x3006"]["0x0038"]=["LO","1","ROIGenerationDescription"],this.newDictionary["0x3006"]["0x0039"]=["SQ","1","ROIContourSequence"],this.newDictionary["0x3006"]["0x0040"]=["SQ","1","ContourSequence"],this.newDictionary["0x3006"]["0x0042"]=["CS","1","ContourGeometricType"],this.newDictionary["0x3006"]["0x0044"]=["DS","1","ContourSlabThickness"],this.newDictionary["0x3006"]["0x0045"]=["DS","3","ContourOffsetVector"],this.newDictionary["0x3006"]["0x0046"]=["IS","1","NumberOfContourPoints"],this.newDictionary["0x3006"]["0x0048"]=["IS","1","ContourNumber"],this.newDictionary["0x3006"]["0x0049"]=["IS","1-n","AttachedContours"],this.newDictionary["0x3006"]["0x0050"]=["DS","3-3n","ContourData"],this.newDictionary["0x3006"]["0x0080"]=["SQ","1","RTROIObservationsSequence"],this.newDictionary["0x3006"]["0x0082"]=["IS","1","ObservationNumber"],this.newDictionary["0x3006"]["0x0084"]=["IS","1","ReferencedROINumber"],this.newDictionary["0x3006"]["0x0085"]=["SH","1","ROIObservationLabel"],this.newDictionary["0x3006"]["0x0086"]=["SQ","1","RTROIIdentificationCodeSequence"],this.newDictionary["0x3006"]["0x0088"]=["ST","1","ROIObservationDescription"],this.newDictionary["0x3006"]["0x00A0"]=["SQ","1","RelatedRTROIObservationsSequence"],this.newDictionary["0x3006"]["0x00A4"]=["CS","1","RTROIInterpretedType"],this.newDictionary["0x3006"]["0x00A6"]=["PN","1","ROIInterpreter"],this.newDictionary["0x3006"]["0x00B0"]=["SQ","1","ROIPhysicalPropertiesSequence"],this.newDictionary["0x3006"]["0x00B2"]=["CS","1","ROIPhysicalProperty"],this.newDictionary["0x3006"]["0x00B4"]=["DS","1","ROIPhysicalPropertyValue"],this.newDictionary["0x3006"]["0x00C0"]=["SQ","1","FrameOfReferenceRelationshipSequence"],this.newDictionary["0x3006"]["0x00C2"]=["UI","1","RelatedFrameOfReferenceUID"],this.newDictionary["0x3006"]["0x00C4"]=["CS","1","FrameOfReferenceTransformationType"],this.newDictionary["0x3006"]["0x00C6"]=["DS","16","FrameOfReferenceTransformationMatrix"],this.newDictionary["0x3006"]["0x00C8"]=["LO","1","FrameOfReferenceTransformationComment"],this.newDictionary["0x3008"]=[],this.newDictionary["0x3008"]["0x0010"]=["SQ","1","MeasuredDoseReferenceSequence"],this.newDictionary["0x3008"]["0x0012"]=["ST","1","MeasuredDoseDescription"],this.newDictionary["0x3008"]["0x0014"]=["CS","1","MeasuredDoseType"],this.newDictionary["0x3008"]["0x0016"]=["DS","1","MeasuredDoseValue"],this.newDictionary["0x3008"]["0x0020"]=["SQ","1","TreatmentSessionBeamSequence"],this.newDictionary["0x3008"]["0x0022"]=["IS","1","CurrentFractionNumber"],this.newDictionary["0x3008"]["0x0024"]=["DA","1","TreatmentControlPointDate"],this.newDictionary["0x3008"]["0x0025"]=["TM","1","TreatmentControlPointTime"],this.newDictionary["0x3008"]["0x002A"]=["CS","1","TreatmentTerminationStatus"],this.newDictionary["0x3008"]["0x002B"]=["SH","1","TreatmentTerminationCode"],this.newDictionary["0x3008"]["0x002C"]=["CS","1","TreatmentVerificationStatus"],this.newDictionary["0x3008"]["0x0030"]=["SQ","1","ReferencedTreatmentRecordSequence"],this.newDictionary["0x3008"]["0x0032"]=["DS","1","SpecifiedPrimaryMeterset"],this.newDictionary["0x3008"]["0x0033"]=["DS","1","SpecifiedSecondaryMeterset"],this.newDictionary["0x3008"]["0x0036"]=["DS","1","DeliveredPrimaryMeterset"],this.newDictionary["0x3008"]["0x0037"]=["DS","1","DeliveredSecondaryMeterset"],this.newDictionary["0x3008"]["0x003A"]=["DS","1","SpecifiedTreatmentTime"],this.newDictionary["0x3008"]["0x003B"]=["DS","1","DeliveredTreatmentTime"],this.newDictionary["0x3008"]["0x0040"]=["SQ","1","ControlPointDeliverySequence"],this.newDictionary["0x3008"]["0x0042"]=["DS","1","SpecifiedMeterset"],this.newDictionary["0x3008"]["0x0044"]=["DS","1","DeliveredMeterset"],this.newDictionary["0x3008"]["0x0048"]=["DS","1","DoseRateDelivered"],this.newDictionary["0x3008"]["0x0050"]=["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],this.newDictionary["0x3008"]["0x0052"]=["DS","1","CumulativeDosetoDoseReference"],this.newDictionary["0x3008"]["0x0054"]=["DA","1","FirstTreatmentDate"],this.newDictionary["0x3008"]["0x0056"]=["DA","1","MostRecentTreatmentDate"],this.newDictionary["0x3008"]["0x005A"]=["IS","1","NumberofFractionsDelivered"],this.newDictionary["0x3008"]["0x0060"]=["SQ","1","OverrideSequence"],this.newDictionary["0x3008"]["0x0062"]=["AT","1","OverrideParameterPointer"],this.newDictionary["0x3008"]["0x0064"]=["IS","1","MeasuredDoseReferenceNumber"],this.newDictionary["0x3008"]["0x0066"]=["ST","1","OverrideReason"],this.newDictionary["0x3008"]["0x0070"]=["SQ","1","CalculatedDoseReferenceSequence"],this.newDictionary["0x3008"]["0x0072"]=["IS","1","CalculatedDoseReferenceNumber"],this.newDictionary["0x3008"]["0x0074"]=["ST","1","CalculatedDoseReferenceDescription"],this.newDictionary["0x3008"]["0x0076"]=["DS","1","CalculatedDoseReferenceDoseValue"],this.newDictionary["0x3008"]["0x0078"]=["DS","1","StartMeterset"],this.newDictionary["0x3008"]["0x007A"]=["DS","1","EndMeterset"],this.newDictionary["0x3008"]["0x0080"]=["SQ","1","ReferencedMeasuredDoseReferenceSequence"],this.newDictionary["0x3008"]["0x0082"]=["IS","1","ReferencedMeasuredDoseReferenceNumber"],this.newDictionary["0x3008"]["0x0090"]=["SQ","1","ReferencedCalculatedDoseReferenceSequence"],this.newDictionary["0x3008"]["0x0092"]=["IS","1","ReferencedCalculatedDoseReferenceNumber"],this.newDictionary["0x3008"]["0x00A0"]=["SQ","1","BeamLimitingDeviceLeafPairsSequence"],this.newDictionary["0x3008"]["0x00B0"]=["SQ","1","RecordedWedgeSequence"],this.newDictionary["0x3008"]["0x00C0"]=["SQ","1","RecordedCompensatorSequence"],this.newDictionary["0x3008"]["0x00D0"]=["SQ","1","RecordedBlockSequence"],this.newDictionary["0x3008"]["0x00E0"]=["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],this.newDictionary["0x3008"]["0x0100"]=["SQ","1","RecordedSourceSequence"],this.newDictionary["0x3008"]["0x0105"]=["LO","1","SourceSerialNumber"],this.newDictionary["0x3008"]["0x0110"]=["SQ","1","TreatmentSessionApplicationSetupSequence"],this.newDictionary["0x3008"]["0x0116"]=["CS","1","ApplicationSetupCheck"],this.newDictionary["0x3008"]["0x0120"]=["SQ","1","RecordedBrachyAccessoryDeviceSequence"],this.newDictionary["0x3008"]["0x0122"]=["IS","1","ReferencedBrachyAccessoryDeviceNumber"],this.newDictionary["0x3008"]["0x0130"]=["SQ","1","RecordedChannelSequence"],this.newDictionary["0x3008"]["0x0132"]=["DS","1","SpecifiedChannelTotalTime"],this.newDictionary["0x3008"]["0x0134"]=["DS","1","DeliveredChannelTotalTime"],this.newDictionary["0x3008"]["0x0136"]=["IS","1","SpecifiedNumberofPulses"],this.newDictionary["0x3008"]["0x0138"]=["IS","1","DeliveredNumberofPulses"],this.newDictionary["0x3008"]["0x013A"]=["DS","1","SpecifiedPulseRepetitionInterval"],this.newDictionary["0x3008"]["0x013C"]=["DS","1","DeliveredPulseRepetitionInterval"],this.newDictionary["0x3008"]["0x0140"]=["SQ","1","RecordedSourceApplicatorSequence"],this.newDictionary["0x3008"]["0x0142"]=["IS","1","ReferencedSourceApplicatorNumber"],this.newDictionary["0x3008"]["0x0150"]=["SQ","1","RecordedChannelShieldSequence"],this.newDictionary["0x3008"]["0x0152"]=["IS","1","ReferencedChannelShieldNumber"],this.newDictionary["0x3008"]["0x0160"]=["SQ","1","BrachyControlPointDeliveredSequence"],this.newDictionary["0x3008"]["0x0162"]=["DA","1","SafePositionExitDate"],this.newDictionary["0x3008"]["0x0164"]=["TM","1","SafePositionExitTime"],this.newDictionary["0x3008"]["0x0166"]=["DA","1","SafePositionReturnDate"],this.newDictionary["0x3008"]["0x0168"]=["TM","1","SafePositionReturnTime"],this.newDictionary["0x3008"]["0x0200"]=["CS","1","CurrentTreatmentStatus"],this.newDictionary["0x3008"]["0x0202"]=["ST","1","TreatmentStatusComment"],this.newDictionary["0x3008"]["0x0220"]=["SQ","1","FractionGroupSummarySequence"],this.newDictionary["0x3008"]["0x0223"]=["IS","1","ReferencedFractionNumber"],this.newDictionary["0x3008"]["0x0224"]=["CS","1","FractionGroupType"],this.newDictionary["0x3008"]["0x0230"]=["CS","1","BeamStopperPosition"],this.newDictionary["0x3008"]["0x0240"]=["SQ","1","FractionStatusSummarySequence"],this.newDictionary["0x3008"]["0x0250"]=["DA","1","TreatmentDate"],this.newDictionary["0x3008"]["0x0251"]=["TM","1","TreatmentTime"],this.newDictionary["0x300A"]=[],this.newDictionary["0x300A"]["0x0000"]=["UL","1","RTPlanGroupLength"],this.newDictionary["0x300A"]["0x0002"]=["SH","1","RTPlanLabel"],this.newDictionary["0x300A"]["0x0003"]=["LO","1","RTPlanName"],this.newDictionary["0x300A"]["0x0004"]=["ST","1","RTPlanDescription"],this.newDictionary["0x300A"]["0x0006"]=["DA","1","RTPlanDate"],this.newDictionary["0x300A"]["0x0007"]=["TM","1","RTPlanTime"],this.newDictionary["0x300A"]["0x0009"]=["LO","1-n","TreatmentProtocols"],this.newDictionary["0x300A"]["0x000A"]=["CS","1","TreatmentIntent"],this.newDictionary["0x300A"]["0x000B"]=["LO","1-n","TreatmentSites"],this.newDictionary["0x300A"]["0x000C"]=["CS","1","RTPlanGeometry"],this.newDictionary["0x300A"]["0x000E"]=["ST","1","PrescriptionDescription"],this.newDictionary["0x300A"]["0x0010"]=["SQ","1","DoseReferenceSequence"],this.newDictionary["0x300A"]["0x0012"]=["IS","1","DoseReferenceNumber"],this.newDictionary["0x300A"]["0x0014"]=["CS","1","DoseReferenceStructureType"],this.newDictionary["0x300A"]["0x0015"]=["CS","1","NominalBeamEnergyUnit"],this.newDictionary["0x300A"]["0x0016"]=["LO","1","DoseReferenceDescription"],this.newDictionary["0x300A"]["0x0018"]=["DS","3","DoseReferencePointCoordinates"],this.newDictionary["0x300A"]["0x001A"]=["DS","1","NominalPriorDose"],this.newDictionary["0x300A"]["0x0020"]=["CS","1","DoseReferenceType"],this.newDictionary["0x300A"]["0x0021"]=["DS","1","ConstraintWeight"],this.newDictionary["0x300A"]["0x0022"]=["DS","1","DeliveryWarningDose"],this.newDictionary["0x300A"]["0x0023"]=["DS","1","DeliveryMaximumDose"],this.newDictionary["0x300A"]["0x0025"]=["DS","1","TargetMinimumDose"],this.newDictionary["0x300A"]["0x0026"]=["DS","1","TargetPrescriptionDose"],this.newDictionary["0x300A"]["0x0027"]=["DS","1","TargetMaximumDose"],this.newDictionary["0x300A"]["0x0028"]=["DS","1","TargetUnderdoseVolumeFraction"],this.newDictionary["0x300A"]["0x002A"]=["DS","1","OrganAtRiskFullVolumeDose"],this.newDictionary["0x300A"]["0x002B"]=["DS","1","OrganAtRiskLimitDose"],this.newDictionary["0x300A"]["0x002C"]=["DS","1","OrganAtRiskMaximumDose"],this.newDictionary["0x300A"]["0x002D"]=["DS","1","OrganAtRiskOverdoseVolumeFraction"],this.newDictionary["0x300A"]["0x0040"]=["SQ","1","ToleranceTableSequence"],this.newDictionary["0x300A"]["0x0042"]=["IS","1","ToleranceTableNumber"],this.newDictionary["0x300A"]["0x0043"]=["SH","1","ToleranceTableLabel"],this.newDictionary["0x300A"]["0x0044"]=["DS","1","GantryAngleTolerance"],this.newDictionary["0x300A"]["0x0046"]=["DS","1","BeamLimitingDeviceAngleTolerance"],this.newDictionary["0x300A"]["0x0048"]=["SQ","1","BeamLimitingDeviceToleranceSequence"],this.newDictionary["0x300A"]["0x004A"]=["DS","1","BeamLimitingDevicePositionTolerance"],this.newDictionary["0x300A"]["0x004C"]=["DS","1","PatientSupportAngleTolerance"],this.newDictionary["0x300A"]["0x004E"]=["DS","1","TableTopEccentricAngleTolerance"],this.newDictionary["0x300A"]["0x0051"]=["DS","1","TableTopVerticalPositionTolerance"],this.newDictionary["0x300A"]["0x0052"]=["DS","1","TableTopLongitudinalPositionTolerance"],this.newDictionary["0x300A"]["0x0053"]=["DS","1","TableTopLateralPositionTolerance"],this.newDictionary["0x300A"]["0x0055"]=["CS","1","RTPlanRelationship"],this.newDictionary["0x300A"]["0x0070"]=["SQ","1","FractionGroupSequence"],this.newDictionary["0x300A"]["0x0071"]=["IS","1","FractionGroupNumber"],this.newDictionary["0x300A"]["0x0078"]=["IS","1","NumberOfFractionsPlanned"],this.newDictionary["0x300A"]["0x0079"]=["IS","1","NumberOfFractionsPatternDigistsPerDay"],this.newDictionary["0x300A"]["0x007A"]=["IS","1","RepeatFractionCycleLength"],this.newDictionary["0x300A"]["0x007B"]=["LT","1","FractionPattern"],this.newDictionary["0x300A"]["0x0080"]=["IS","1","NumberOfBeams"],this.newDictionary["0x300A"]["0x0082"]=["DS","3","BeamDoseSpecificationPoint"],this.newDictionary["0x300A"]["0x0084"]=["DS","1","BeamDose"],this.newDictionary["0x300A"]["0x0086"]=["DS","1","BeamMeterset"],this.newDictionary["0x300A"]["0x00A0"]=["IS","1","NumberOfBrachyApplicationSetups"],this.newDictionary["0x300A"]["0x00A2"]=["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],this.newDictionary["0x300A"]["0x00A4"]=["DS","1","BrachyApplicationSetupDose"],this.newDictionary["0x300A"]["0x00B0"]=["SQ","1","BeamSequence"],this.newDictionary["0x300A"]["0x00B2"]=["SH","1","TreatmentMachineName"],this.newDictionary["0x300A"]["0x00B3"]=["CS","1","PrimaryDosimeterUnit"],this.newDictionary["0x300A"]["0x00B4"]=["DS","1","SourceAxisDistance"],this.newDictionary["0x300A"]["0x00B6"]=["SQ","1","BeamLimitingDeviceSequence"],this.newDictionary["0x300A"]["0x00B8"]=["CS","1","RTBeamLimitingDeviceType"],this.newDictionary["0x300A"]["0x00BA"]=["DS","1","SourceToBeamLimitingDeviceDistance"],this.newDictionary["0x300A"]["0x00BC"]=["IS","1","NumberOfLeafJawPairs"],this.newDictionary["0x300A"]["0x00BE"]=["DS","3-n","LeafPositionBoundaries"],this.newDictionary["0x300A"]["0x00C0"]=["IS","1","BeamNumber"],this.newDictionary["0x300A"]["0x00C2"]=["LO","1","BeamName"],this.newDictionary["0x300A"]["0x00C3"]=["ST","1","BeamDescription"],this.newDictionary["0x300A"]["0x00C4"]=["CS","1","BeamType"],this.newDictionary["0x300A"]["0x00C6"]=["CS","1","RadiationType"],this.newDictionary["0x300A"]["0x00C8"]=["IS","1","ReferenceImageNumber"],this.newDictionary["0x300A"]["0x00CA"]=["SQ","1","PlannedVerificationImageSequence"],this.newDictionary["0x300A"]["0x00CC"]=["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],this.newDictionary["0x300A"]["0x00CE"]=["CS","1","TreatmentDeliveryType"],this.newDictionary["0x300A"]["0x00D0"]=["IS","1","NumberOfWedges"],this.newDictionary["0x300A"]["0x00D1"]=["SQ","1","WedgeSequence"],this.newDictionary["0x300A"]["0x00D2"]=["IS","1","WedgeNumber"],this.newDictionary["0x300A"]["0x00D3"]=["CS","1","WedgeType"],this.newDictionary["0x300A"]["0x00D4"]=["SH","1","WedgeID"],this.newDictionary["0x300A"]["0x00D5"]=["IS","1","WedgeAngle"],this.newDictionary["0x300A"]["0x00D6"]=["DS","1","WedgeFactor"],this.newDictionary["0x300A"]["0x00D8"]=["DS","1","WedgeOrientation"],this.newDictionary["0x300A"]["0x00DA"]=["DS","1","SourceToWedgeTrayDistance"],this.newDictionary["0x300A"]["0x00E0"]=["IS","1","NumberOfCompensators"],this.newDictionary["0x300A"]["0x00E1"]=["SH","1","MaterialID"],this.newDictionary["0x300A"]["0x00E2"]=["DS","1","TotalCompensatorTrayFactor"],this.newDictionary["0x300A"]["0x00E3"]=["SQ","1","CompensatorSequence"],this.newDictionary["0x300A"]["0x00E4"]=["IS","1","CompensatorNumber"],this.newDictionary["0x300A"]["0x00E5"]=["SH","1","CompensatorID"],this.newDictionary["0x300A"]["0x00E6"]=["DS","1","SourceToCompensatorTrayDistance"],this.newDictionary["0x300A"]["0x00E7"]=["IS","1","CompensatorRows"],this.newDictionary["0x300A"]["0x00E8"]=["IS","1","CompensatorColumns"],this.newDictionary["0x300A"]["0x00E9"]=["DS","2","CompensatorPixelSpacing"],this.newDictionary["0x300A"]["0x00EA"]=["DS","2","CompensatorPosition"],this.newDictionary["0x300A"]["0x00EB"]=["DS","1-n","CompensatorTransmissionData"],this.newDictionary["0x300A"]["0x00EC"]=["DS","1-n","CompensatorThicknessData"],this.newDictionary["0x300A"]["0x00ED"]=["IS","1","NumberOfBoli"],this.newDictionary["0x300A"]["0x00EE"]=["CS","1","CompensatorType"],this.newDictionary["0x300A"]["0x00F0"]=["IS","1","NumberOfBlocks"],this.newDictionary["0x300A"]["0x00F2"]=["DS","1","TotalBlockTrayFactor"],this.newDictionary["0x300A"]["0x00F4"]=["SQ","1","BlockSequence"],this.newDictionary["0x300A"]["0x00F5"]=["SH","1","BlockTrayID"],this.newDictionary["0x300A"]["0x00F6"]=["DS","1","SourceToBlockTrayDistance"],this.newDictionary["0x300A"]["0x00F8"]=["CS","1","BlockType"],this.newDictionary["0x300A"]["0x00FA"]=["CS","1","BlockDivergence"],this.newDictionary["0x300A"]["0x00FC"]=["IS","1","BlockNumber"],this.newDictionary["0x300A"]["0x00FE"]=["LO","1","BlockName"],this.newDictionary["0x300A"]["0x0100"]=["DS","1","BlockThickness"],this.newDictionary["0x300A"]["0x0102"]=["DS","1","BlockTransmission"],this.newDictionary["0x300A"]["0x0104"]=["IS","1","BlockNumberOfPoints"],this.newDictionary["0x300A"]["0x0106"]=["DS","2-2n","BlockData"],this.newDictionary["0x300A"]["0x0107"]=["SQ","1","ApplicatorSequence"],this.newDictionary["0x300A"]["0x0108"]=["SH","1","ApplicatorID"],this.newDictionary["0x300A"]["0x0109"]=["CS","1","ApplicatorType"],this.newDictionary["0x300A"]["0x010A"]=["LO","1","ApplicatorDescription"],this.newDictionary["0x300A"]["0x010C"]=["DS","1","CumulativeDoseReferenceCoefficient"],this.newDictionary["0x300A"]["0x010E"]=["DS","1","FinalCumulativeMetersetWeight"],this.newDictionary["0x300A"]["0x0110"]=["IS","1","NumberOfControlPoints"],this.newDictionary["0x300A"]["0x0111"]=["SQ","1","ControlPointSequence"],this.newDictionary["0x300A"]["0x0112"]=["IS","1","ControlPointIndex"],this.newDictionary["0x300A"]["0x0114"]=["DS","1","NominalBeamEnergy"],this.newDictionary["0x300A"]["0x0115"]=["DS","1","DoseRateSet"],this.newDictionary["0x300A"]["0x0116"]=["SQ","1","WedgePositionSequence"],this.newDictionary["0x300A"]["0x0118"]=["CS","1","WedgePosition"],this.newDictionary["0x300A"]["0x011A"]=["SQ","1","BeamLimitingDevicePositionSequence"],this.newDictionary["0x300A"]["0x011C"]=["DS","2-2n","LeafJawPositions"],this.newDictionary["0x300A"]["0x011E"]=["DS","1","GantryAngle"],this.newDictionary["0x300A"]["0x011F"]=["CS","1","GantryRotationDirection"],this.newDictionary["0x300A"]["0x0120"]=["DS","1","BeamLimitingDeviceAngle"],this.newDictionary["0x300A"]["0x0121"]=["CS","1","BeamLimitingDeviceRotationDirection"],this.newDictionary["0x300A"]["0x0122"]=["DS","1","PatientSupportAngle"],this.newDictionary["0x300A"]["0x0123"]=["CS","1","PatientSupportRotationDirection"],this.newDictionary["0x300A"]["0x0124"]=["DS","1","TableTopEccentricAxisDistance"],this.newDictionary["0x300A"]["0x0125"]=["DS","1","TableTopEccentricAngle"],this.newDictionary["0x300A"]["0x0126"]=["CS","1","TableTopEccentricRotationDirection"],this.newDictionary["0x300A"]["0x0128"]=["DS","1","TableTopVerticalPosition"],this.newDictionary["0x300A"]["0x0129"]=["DS","1","TableTopLongitudinalPosition"],this.newDictionary["0x300A"]["0x012A"]=["DS","1","TableTopLateralPosition"],this.newDictionary["0x300A"]["0x012C"]=["DS","3","IsocenterPosition"],this.newDictionary["0x300A"]["0x012E"]=["DS","3","SurfaceEntryPoint"],this.newDictionary["0x300A"]["0x0130"]=["DS","1","SourceToSurfaceDistance"],this.newDictionary["0x300A"]["0x0134"]=["DS","1","CumulativeMetersetWeight"],this.newDictionary["0x300A"]["0x0140"]=["FL","1","TableTopPitchAngle"],this.newDictionary["0x300A"]["0x0142"]=["CS","1","TableTopPitchRotationDirection"],this.newDictionary["0x300A"]["0x0144"]=["FL","1","TableTopRollAngle"],this.newDictionary["0x300A"]["0x0146"]=["CS","1","TableTopRollRotationDirection"],this.newDictionary["0x300A"]["0x0148"]=["FL","1","HeadFixationAngle"],this.newDictionary["0x300A"]["0x014A"]=["FL","1","GantryPitchAngle"],this.newDictionary["0x300A"]["0x014C"]=["CS","1","GantryPitchRotationDirection"],this.newDictionary["0x300A"]["0x014E"]=["FL","1","GantryPitchAngleTolerance"],this.newDictionary["0x300A"]["0x0180"]=["SQ","1","PatientSetupSequence"],this.newDictionary["0x300A"]["0x0182"]=["IS","1","PatientSetupNumber"],this.newDictionary["0x300A"]["0x0184"]=["LO","1","PatientAdditionalPosition"],this.newDictionary["0x300A"]["0x0190"]=["SQ","1","FixationDeviceSequence"],this.newDictionary["0x300A"]["0x0192"]=["CS","1","FixationDeviceType"],this.newDictionary["0x300A"]["0x0194"]=["SH","1","FixationDeviceLabel"],this.newDictionary["0x300A"]["0x0196"]=["ST","1","FixationDeviceDescription"],this.newDictionary["0x300A"]["0x0198"]=["SH","1","FixationDevicePosition"],this.newDictionary["0x300A"]["0x01A0"]=["SQ","1","ShieldingDeviceSequence"],this.newDictionary["0x300A"]["0x01A2"]=["CS","1","ShieldingDeviceType"],this.newDictionary["0x300A"]["0x01A4"]=["SH","1","ShieldingDeviceLabel"],this.newDictionary["0x300A"]["0x01A6"]=["ST","1","ShieldingDeviceDescription"],this.newDictionary["0x300A"]["0x01A8"]=["SH","1","ShieldingDevicePosition"],this.newDictionary["0x300A"]["0x01B0"]=["CS","1","SetupTechnique"],this.newDictionary["0x300A"]["0x01B2"]=["ST","1","SetupTechniqueDescription"],this.newDictionary["0x300A"]["0x01B4"]=["SQ","1","SetupDeviceSequence"],this.newDictionary["0x300A"]["0x01B6"]=["CS","1","SetupDeviceType"],this.newDictionary["0x300A"]["0x01B8"]=["SH","1","SetupDeviceLabel"],this.newDictionary["0x300A"]["0x01BA"]=["ST","1","SetupDeviceDescription"],this.newDictionary["0x300A"]["0x01BC"]=["DS","1","SetupDeviceParameter"],this.newDictionary["0x300A"]["0x01D0"]=["ST","1","SetupReferenceDescription"],this.newDictionary["0x300A"]["0x01D2"]=["DS","1","TableTopVerticalSetupDisplacement"],this.newDictionary["0x300A"]["0x01D4"]=["DS","1","TableTopLongitudinalSetupDisplacement"],this.newDictionary["0x300A"]["0x01D6"]=["DS","1","TableTopLateralSetupDisplacement"],this.newDictionary["0x300A"]["0x0200"]=["CS","1","BrachyTreatmentTechnique"],this.newDictionary["0x300A"]["0x0202"]=["CS","1","BrachyTreatmentType"],this.newDictionary["0x300A"]["0x0206"]=["SQ","1","TreatmentMachineSequence"],this.newDictionary["0x300A"]["0x0210"]=["SQ","1","SourceSequence"],this.newDictionary["0x300A"]["0x0212"]=["IS","1","SourceNumber"],this.newDictionary["0x300A"]["0x0214"]=["CS","1","SourceType"],this.newDictionary["0x300A"]["0x0216"]=["LO","1","SourceManufacturer"],this.newDictionary["0x300A"]["0x0218"]=["DS","1","ActiveSourceDiameter"],this.newDictionary["0x300A"]["0x021A"]=["DS","1","ActiveSourceLength"],this.newDictionary["0x300A"]["0x0222"]=["DS","1","SourceEncapsulationNominalThickness"],this.newDictionary["0x300A"]["0x0224"]=["DS","1","SourceEncapsulationNominalTransmission"],this.newDictionary["0x300A"]["0x0226"]=["LO","1","SourceIsotopeName"],this.newDictionary["0x300A"]["0x0228"]=["DS","1","SourceIsotopeHalfLife"],this.newDictionary["0x300A"]["0x022A"]=["DS","1","ReferenceAirKermaRate"],this.newDictionary["0x300A"]["0x022C"]=["DA","1","AirKermaRateReferenceDate"],this.newDictionary["0x300A"]["0x022E"]=["TM","1","AirKermaRateReferenceTime"],this.newDictionary["0x300A"]["0x0230"]=["SQ","1","ApplicationSetupSequence"],this.newDictionary["0x300A"]["0x0232"]=["CS","1","ApplicationSetupType"],this.newDictionary["0x300A"]["0x0234"]=["IS","1","ApplicationSetupNumber"],this.newDictionary["0x300A"]["0x0236"]=["LO","1","ApplicationSetupName"],this.newDictionary["0x300A"]["0x0238"]=["LO","1","ApplicationSetupManufacturer"],this.newDictionary["0x300A"]["0x0240"]=["IS","1","TemplateNumber"],this.newDictionary["0x300A"]["0x0242"]=["SH","1","TemplateType"],this.newDictionary["0x300A"]["0x0244"]=["LO","1","TemplateName"],this.newDictionary["0x300A"]["0x0250"]=["DS","1","TotalReferenceAirKerma"],this.newDictionary["0x300A"]["0x0260"]=["SQ","1","BrachyAccessoryDeviceSequence"],this.newDictionary["0x300A"]["0x0262"]=["IS","1","BrachyAccessoryDeviceNumber"],this.newDictionary["0x300A"]["0x0263"]=["SH","1","BrachyAccessoryDeviceID"],this.newDictionary["0x300A"]["0x0264"]=["CS","1","BrachyAccessoryDeviceType"],this.newDictionary["0x300A"]["0x0266"]=["LO","1","BrachyAccessoryDeviceName"],this.newDictionary["0x300A"]["0x026A"]=["DS","1","BrachyAccessoryDeviceNominalThickness"],this.newDictionary["0x300A"]["0x026C"]=["DS","1","BrachyAccessoryDeviceNominalTransmission"],this.newDictionary["0x300A"]["0x0280"]=["SQ","1","ChannelSequence"],this.newDictionary["0x300A"]["0x0282"]=["IS","1","ChannelNumber"],this.newDictionary["0x300A"]["0x0284"]=["DS","1","ChannelLength"],this.newDictionary["0x300A"]["0x0286"]=["DS","1","ChannelTotalTime"],this.newDictionary["0x300A"]["0x0288"]=["CS","1","SourceMovementType"],this.newDictionary["0x300A"]["0x028A"]=["IS","1","NumberOfPulses"],this.newDictionary["0x300A"]["0x028C"]=["DS","1","PulseRepetitionInterval"],this.newDictionary["0x300A"]["0x0290"]=["IS","1","SourceApplicatorNumber"],this.newDictionary["0x300A"]["0x0291"]=["SH","1","SourceApplicatorID"],this.newDictionary["0x300A"]["0x0292"]=["CS","1","SourceApplicatorType"],this.newDictionary["0x300A"]["0x0294"]=["LO","1","SourceApplicatorName"],this.newDictionary["0x300A"]["0x0296"]=["DS","1","SourceApplicatorLength"],this.newDictionary["0x300A"]["0x0298"]=["LO","1","SourceApplicatorManufacturer"],this.newDictionary["0x300A"]["0x029C"]=["DS","1","SourceApplicatorWallNominalThickness"],this.newDictionary["0x300A"]["0x029E"]=["DS","1","SourceApplicatorWallNominalTransmission"],this.newDictionary["0x300A"]["0x02A0"]=["DS","1","SourceApplicatorStepSize"],this.newDictionary["0x300A"]["0x02A2"]=["IS","1","TransferTubeNumber"],this.newDictionary["0x300A"]["0x02A4"]=["DS","1","TransferTubeLength"],this.newDictionary["0x300A"]["0x02B0"]=["SQ","1","ChannelShieldSequence"],this.newDictionary["0x300A"]["0x02B2"]=["IS","1","ChannelShieldNumber"],this.newDictionary["0x300A"]["0x02B3"]=["SH","1","ChannelShieldID"],this.newDictionary["0x300A"]["0x02B4"]=["LO","1","ChannelShieldName"],this.newDictionary["0x300A"]["0x02B8"]=["DS","1","ChannelShieldNominalThickness"],this.newDictionary["0x300A"]["0x02BA"]=["DS","1","ChannelShieldNominalTransmission"],this.newDictionary["0x300A"]["0x02C8"]=["DS","1","FinalCumulativeTimeWeight"],this.newDictionary["0x300A"]["0x02D0"]=["SQ","1","BrachyControlPointSequence"],this.newDictionary["0x300A"]["0x02D2"]=["DS","1","ControlPointRelativePosition"],this.newDictionary["0x300A"]["0x02D4"]=["DS","3","ControlPointDPosition"],this.newDictionary["0x300A"]["0x02D6"]=["DS","1","CumulativeTimeWeight"],this.newDictionary["0x300C"]=[],this.newDictionary["0x300C"]["0x0000"]=["UL","1","RTRelationshipGroupLength"],this.newDictionary["0x300C"]["0x0002"]=["SQ","1","ReferencedRTPlanSequence"],this.newDictionary["0x300C"]["0x0004"]=["SQ","1","ReferencedBeamSequence"],this.newDictionary["0x300C"]["0x0006"]=["IS","1","ReferencedBeamNumber"],this.newDictionary["0x300C"]["0x0007"]=["IS","1","ReferencedReferenceImageNumber"],this.newDictionary["0x300C"]["0x0008"]=["DS","1","StartCumulativeMetersetWeight"],this.newDictionary["0x300C"]["0x0009"]=["DS","1","EndCumulativeMetersetWeight"],this.newDictionary["0x300C"]["0x000A"]=["SQ","1","ReferencedBrachyApplicationSetupSequence"],this.newDictionary["0x300C"]["0x000C"]=["IS","1","ReferencedBrachyApplicationSetupNumber"],this.newDictionary["0x300C"]["0x000E"]=["IS","1","ReferencedSourceNumber"],this.newDictionary["0x300C"]["0x0020"]=["SQ","1","ReferencedFractionGroupSequence"],this.newDictionary["0x300C"]["0x0022"]=["IS","1","ReferencedFractionGroupNumber"],this.newDictionary["0x300C"]["0x0040"]=["SQ","1","ReferencedVerificationImageSequence"],this.newDictionary["0x300C"]["0x0042"]=["SQ","1","ReferencedReferenceImageSequence"],this.newDictionary["0x300C"]["0x0050"]=["SQ","1","ReferencedDoseReferenceSequence"],this.newDictionary["0x300C"]["0x0051"]=["IS","1","ReferencedDoseReferenceNumber"],this.newDictionary["0x300C"]["0x0055"]=["SQ","1","BrachyReferencedDoseReferenceSequence"],this.newDictionary["0x300C"]["0x0060"]=["SQ","1","ReferencedStructureSetSequence"],this.newDictionary["0x300C"]["0x006A"]=["IS","1","ReferencedPatientSetupNumber"],this.newDictionary["0x300C"]["0x0080"]=["SQ","1","ReferencedDoseSequence"],this.newDictionary["0x300C"]["0x00A0"]=["IS","1","ReferencedToleranceTableNumber"],this.newDictionary["0x300C"]["0x00B0"]=["SQ","1","ReferencedBolusSequence"],this.newDictionary["0x300C"]["0x00C0"]=["IS","1","ReferencedWedgeNumber"],this.newDictionary["0x300C"]["0x00D0"]=["IS","1","ReferencedCompensatorNumber"],this.newDictionary["0x300C"]["0x00E0"]=["IS","1","ReferencedBlockNumber"],this.newDictionary["0x300C"]["0x00F0"]=["IS","1","ReferencedControlPointIndex"],this.newDictionary["0x300E"]=[],this.newDictionary["0x300E"]["0x0000"]=["UL","1","RTApprovalGroupLength"],this.newDictionary["0x300E"]["0x0002"]=["CS","1","ApprovalStatus"],this.newDictionary["0x300E"]["0x0004"]=["DA","1","ReviewDate"],this.newDictionary["0x300E"]["0x0005"]=["TM","1","ReviewTime"],this.newDictionary["0x300E"]["0x0008"]=["PN","1","ReviewerName"],this.newDictionary["0x4000"]=[],this.newDictionary["0x4000"]["0x0000"]=["UL","1","TextGroupLength"],this.newDictionary["0x4000"]["0x0010"]=["LT","1-n","TextArbitrary"],this.newDictionary["0x4000"]["0x4000"]=["LT","1-n","TextComments"],this.newDictionary["0x4008"]=[],this.newDictionary["0x4008"]["0x0000"]=["UL","1","ResultsGroupLength"],this.newDictionary["0x4008"]["0x0040"]=["SH","1","ResultsID"],this.newDictionary["0x4008"]["0x0042"]=["LO","1","ResultsIDIssuer"],this.newDictionary["0x4008"]["0x0050"]=["SQ","1","ReferencedInterpretationSequence"],this.newDictionary["0x4008"]["0x0100"]=["DA","1","InterpretationRecordedDate"],this.newDictionary["0x4008"]["0x0101"]=["TM","1","InterpretationRecordedTime"],this.newDictionary["0x4008"]["0x0102"]=["PN","1","InterpretationRecorder"],this.newDictionary["0x4008"]["0x0103"]=["LO","1","ReferenceToRecordedSound"],this.newDictionary["0x4008"]["0x0108"]=["DA","1","InterpretationTranscriptionDate"],this.newDictionary["0x4008"]["0x0109"]=["TM","1","InterpretationTranscriptionTime"],this.newDictionary["0x4008"]["0x010A"]=["PN","1","InterpretationTranscriber"],this.newDictionary["0x4008"]["0x010B"]=["ST","1","InterpretationText"],this.newDictionary["0x4008"]["0x010C"]=["PN","1","InterpretationAuthor"],this.newDictionary["0x4008"]["0x0111"]=["SQ","1","InterpretationApproverSequence"],this.newDictionary["0x4008"]["0x0112"]=["DA","1","InterpretationApprovalDate"],this.newDictionary["0x4008"]["0x0113"]=["TM","1","InterpretationApprovalTime"],this.newDictionary["0x4008"]["0x0114"]=["PN","1","PhysicianApprovingInterpretation"],this.newDictionary["0x4008"]["0x0115"]=["LT","1","InterpretationDiagnosisDescription"],this.newDictionary["0x4008"]["0x0117"]=["SQ","1","DiagnosisCodeSequence"],this.newDictionary["0x4008"]["0x0118"]=["SQ","1","ResultsDistributionListSequence"],this.newDictionary["0x4008"]["0x0119"]=["PN","1","DistributionName"],this.newDictionary["0x4008"]["0x011A"]=["LO","1","DistributionAddress"],this.newDictionary["0x4008"]["0x0200"]=["SH","1","InterpretationID"],this.newDictionary["0x4008"]["0x0202"]=["LO","1","InterpretationIDIssuer"],this.newDictionary["0x4008"]["0x0210"]=["CS","1","InterpretationTypeID"],this.newDictionary["0x4008"]["0x0212"]=["CS","1","InterpretationStatusID"],this.newDictionary["0x4008"]["0x0300"]=["ST","1","Impressions"],this.newDictionary["0x4008"]["0x4000"]=["ST","1","ResultsComments"],this.newDictionary["0x5000"]=[],this.newDictionary["0x5000"]["0x0000"]=["UL","1","CurveGroupLength"],this.newDictionary["0x5000"]["0x0005"]=["US","1","CurveDimensions"],this.newDictionary["0x5000"]["0x0010"]=["US","1","NumberOfPoints"],this.newDictionary["0x5000"]["0x0020"]=["CS","1","TypeOfData"],this.newDictionary["0x5000"]["0x0022"]=["LO","1","CurveDescription"],this.newDictionary["0x5000"]["0x0030"]=["SH","1-n","AxisUnits"],this.newDictionary["0x5000"]["0x0040"]=["SH","1-n","AxisLabels"],this.newDictionary["0x5000"]["0x0103"]=["US","1","DataValueRepresentation"],this.newDictionary["0x5000"]["0x0104"]=["US","1-n","MinimumCoordinateValue"],this.newDictionary["0x5000"]["0x0105"]=["US","1-n","MaximumCoordinateValue"],this.newDictionary["0x5000"]["0x0106"]=["SH","1-n","CurveRange"],this.newDictionary["0x5000"]["0x0110"]=["US","1","CurveDataDescriptor"],this.newDictionary["0x5000"]["0x0112"]=["US","1","CoordinateStartValue"],this.newDictionary["0x5000"]["0x0114"]=["US","1","CoordinateStepValue"],this.newDictionary["0x5000"]["0x2000"]=["US","1","AudioType"],this.newDictionary["0x5000"]["0x2002"]=["US","1","AudioSampleFormat"],this.newDictionary["0x5000"]["0x2004"]=["US","1","NumberOfChannels"],this.newDictionary["0x5000"]["0x2006"]=["UL","1","NumberOfSamples"],this.newDictionary["0x5000"]["0x2008"]=["UL","1","SampleRate"],this.newDictionary["0x5000"]["0x200A"]=["UL","1","TotalTime"],this.newDictionary["0x5000"]["0x200C"]=["OX","1","AudioSampleData"],this.newDictionary["0x5000"]["0x200E"]=["LT","1","AudioComments"],this.newDictionary["0x5000"]["0x3000"]=["OX","1","CurveData"],this.newDictionary["0x5400"]=[],this.newDictionary["0x5400"]["0x0100"]=["SQ","1","WaveformSequence"],this.newDictionary["0x5400"]["0x0110"]=["OW/OB","1","ChannelMinimumValue"],this.newDictionary["0x5400"]["0x0112"]=["OW/OB","1","ChannelMaximumValue"],this.newDictionary["0x5400"]["0x1004"]=["US","1","WaveformBitsAllocated"],this.newDictionary["0x5400"]["0x1006"]=["CS","1","WaveformSampleInterpretation"],this.newDictionary["0x5400"]["0x100A"]=["OW/OB","1","WaveformPaddingValue"],this.newDictionary["0x5400"]["0x1010"]=["OW/OB","1","WaveformData"],this.newDictionary["0x6000"]=[],this.newDictionary["0x6000"]["0x0000"]=["UL","1","OverlayGroupLength"],this.newDictionary["0x6000"]["0x0010"]=["US","1","OverlayRows"],this.newDictionary["0x6000"]["0x0011"]=["US","1","OverlayColumns"],this.newDictionary["0x6000"]["0x0012"]=["US","1","OverlayPlanes"],this.newDictionary["0x6000"]["0x0015"]=["IS","1","OverlayNumberOfFrames"],this.newDictionary["0x6000"]["0x0040"]=["CS","1","OverlayType"],this.newDictionary["0x6000"]["0x0050"]=["SS","2","OverlayOrigin"],this.newDictionary["0x6000"]["0x0051"]=["US","1","OverlayImageFrameOrigin"],this.newDictionary["0x6000"]["0x0052"]=["US","1","OverlayPlaneOrigin"],this.newDictionary["0x6000"]["0x0060"]=["CS","1","OverlayCompressionCode"],this.newDictionary["0x6000"]["0x0061"]=["SH","1","OverlayCompressionOriginator"],this.newDictionary["0x6000"]["0x0062"]=["SH","1","OverlayCompressionLabel"],this.newDictionary["0x6000"]["0x0063"]=["SH","1","OverlayCompressionDescription"],this.newDictionary["0x6000"]["0x0066"]=["AT","1-n","OverlayCompressionStepPointers"],this.newDictionary["0x6000"]["0x0068"]=["US","1","OverlayRepeatInterval"],this.newDictionary["0x6000"]["0x0069"]=["US","1","OverlayBitsGrouped"],this.newDictionary["0x6000"]["0x0100"]=["US","1","OverlayBitsAllocated"],this.newDictionary["0x6000"]["0x0102"]=["US","1","OverlayBitPosition"],this.newDictionary["0x6000"]["0x0110"]=["CS","1","OverlayFormat"],this.newDictionary["0x6000"]["0x0200"]=["US","1","OverlayLocation"],this.newDictionary["0x6000"]["0x0800"]=["CS","1-n","OverlayCodeLabel"],this.newDictionary["0x6000"]["0x0802"]=["US","1","OverlayNumberOfTables"],this.newDictionary["0x6000"]["0x0803"]=["AT","1-n","OverlayCodeTableLocation"],this.newDictionary["0x6000"]["0x0804"]=["US","1","OverlayBitsForCodeWord"],this.newDictionary["0x6000"]["0x1100"]=["US","1","OverlayDescriptorGray"],this.newDictionary["0x6000"]["0x1101"]=["US","1","OverlayDescriptorRed"],this.newDictionary["0x6000"]["0x1102"]=["US","1","OverlayDescriptorGreen"],this.newDictionary["0x6000"]["0x1103"]=["US","1","OverlayDescriptorBlue"],this.newDictionary["0x6000"]["0x1200"]=["US","1-n","OverlayGray"],this.newDictionary["0x6000"]["0x1201"]=["US","1-n","OverlayRed"],this.newDictionary["0x6000"]["0x1202"]=["US","1-n","OverlayGreen"],this.newDictionary["0x6000"]["0x1203"]=["US","1-n","OverlayBlue"],this.newDictionary["0x6000"]["0x1301"]=["IS","1","ROIArea"],this.newDictionary["0x6000"]["0x1302"]=["DS","1","ROIMean"],this.newDictionary["0x6000"]["0x1303"]=["DS","1","ROIStandardDeviation"],this.newDictionary["0x6000"]["0x3000"]=["OW","1","OverlayData"],this.newDictionary["0x6000"]["0x4000"]=["LT","1-n","OverlayComments"],this.newDictionary["0x7F00"]=[],this.newDictionary["0x7F00"]["0x0000"]=["UL","1","VariablePixelDataGroupLength"],this.newDictionary["0x7F00"]["0x0010"]=["OX","1","VariablePixelData"],this.newDictionary["0x7F00"]["0x0011"]=["AT","1","VariableNextDataGroup"],this.newDictionary["0x7F00"]["0x0020"]=["OW","1-n","VariableCoefficientsSDVN"],this.newDictionary["0x7F00"]["0x0030"]=["OW","1-n","VariableCoefficientsSDHN"],this.newDictionary["0x7F00"]["0x0040"]=["OW","1-n","VariableCoefficientsSDDN"],this.newDictionary["0x7FE0"]=[],this.newDictionary["0x7FE0"]["0x0000"]=["UL","1","PixelDataGroupLength"],this.newDictionary["0x7FE0"]["0x0010"]=["OX","1","PixelData"],this.newDictionary["0x7FE0"]["0x0020"]=["OW","1-n","CoefficientsSDVN"],this.newDictionary["0x7FE0"]["0x0030"]=["OW","1-n","CoefficientsSDHN"],this.newDictionary["0x7FE0"]["0x0040"]=["OW","1-n","CoefficientsSDDN"],this.newDictionary["0xFFFC"]=[],this.newDictionary["0xFFFC"]["0xFFFC"]=["OB","1","DataSetTrailingPadding"],this.newDictionary["0xFFFE"]=[],this.newDictionary["0xFFFE"]["0xE000"]=["NONE","1","Item"],this.newDictionary["0xFFFE"]["0xE00D"]=["NONE","1","ItemDelimitationItem"],this.newDictionary["0xFFFE"]["0xE0DD"]=["NONE","1","SequenceDelimitationItem"]
};var dwv=dwv||{};dwv.gui=dwv.gui||{},dwv.gui.onChangeWindowLevelPreset=function(){app.getToolBox().getSelectedTool().setPreset(this.value)},dwv.gui.onChangeColourMap=function(){app.getToolBox().getSelectedTool().setColourMap(this.value)},dwv.gui.onChangeLoader=function(){"file"===this.value?(dwv.gui.clearUrlLoadHtml(),dwv.gui.appendFileLoadHtml()):"url"===this.value&&(dwv.gui.clearFileLoadHtml(),dwv.gui.appendUrlLoadHtml())},dwv.gui.onChangeFiles=function(a){app.onChangeFiles(a)},dwv.gui.onChangeURL=function(a){app.onChangeURL(a)},dwv.gui.onChangeTool=function(){app.getToolBox().setSelectedTool(this.value)},dwv.gui.onChangeFilter=function(){app.getToolBox().getSelectedTool().setSelectedFilter(this.value)},dwv.gui.onChangeShape=function(){app.getToolBox().getSelectedTool().setShapeName(this.value)},dwv.gui.onChangeLineColour=function(){app.getToolBox().getSelectedTool().setLineColour(this.value)},dwv.gui.getSliderHtml=function(){var a=app.getImage().getDataRange().min,b=app.getImage().getDataRange().max;if(app.isMobile()){var c=document.createElement("input");c.setAttribute("id","threshold-min"),c.setAttribute("max",b),c.setAttribute("min",a),c.setAttribute("value",a),c.setAttribute("type","range");var d=document.createElement("input");d.setAttribute("id","threshold-max"),d.setAttribute("max",b),d.setAttribute("min",a),d.setAttribute("value",b),d.setAttribute("type","range");var e=document.createElement("div");e.setAttribute("id","threshold-div"),e.setAttribute("data-role","rangeslider"),e.appendChild(c),e.appendChild(d),e.setAttribute("data-mini","true"),document.getElementById("thresholdLi").appendChild(e),$("#threshold-div").bind("change",function(){app.getToolBox().getSelectedTool().getSelectedFilter().run({min:$("#threshold-min").val(),max:$("#threshold-max").val()})})}else $("#thresholdLi").slider({range:!0,min:a,max:b,values:[a,b],slide:function(a,b){app.getToolBox().getSelectedTool().getSelectedFilter().run({min:b.values[0],max:b.values[1]})}})},dwv.gui.updateProgress=function(a){if(a.lengthComputable){var b=Math.round(a.loaded/a.total*100);app.isMobile()?100>b?$.mobile.loading("show",{text:b+"%",textVisible:!0,theme:"b"}):100===b&&$.mobile.loading("hide"):100>=b&&$("#progressbar").progressbar({value:b})}},dwv.gui.appendLoadboxHtml=function(){var a=dwv.html.createHtmlSelect("loaderSelect",dwv.io.loaders);a.onchange=dwv.gui.onChangeLoader;for(var b=document.getElementById("loaderlist");b.hasChildNodes();)b.removeChild(b.firstChild);b.appendChild(a),$("#loaderlist").trigger("create"),dwv.gui.appendFileLoadHtml()},dwv.gui.appendFileLoadHtml=function(){var a=document.createElement("input");a.onchange=dwv.gui.onChangeFiles,a.type="file",a.multiple=!0,a.id="imagefiles",a.setAttribute("data-clear-btn","true"),a.setAttribute("data-mini","true");var b=document.createElement("div");b.id="imagefilesdiv",b.appendChild(a);var c=document.getElementById("loaderlist");c.appendChild(b),$("#loaderlist").trigger("create")},dwv.gui.clearFileLoadHtml=function(){dwv.html.removeNode("imagefilesdiv")},dwv.gui.appendUrlLoadHtml=function(){var a=document.createElement("input");a.onchange=dwv.gui.onChangeURL,a.type="url",a.id="imageurl",a.setAttribute("data-clear-btn","true"),a.setAttribute("data-mini","true");var b=document.createElement("div");b.id="imageurldiv",b.appendChild(a);var c=document.getElementById("loaderlist");c.appendChild(b),$("#loaderlist").trigger("create")},dwv.gui.clearUrlLoadHtml=function(){dwv.html.removeNode("imageurldiv")},dwv.gui.appendToolboxHtml=function(){var a=dwv.html.createHtmlSelect("toolSelect",dwv.tool.tools);a.onchange=dwv.gui.onChangeTool;var b=document.createElement("label");b.setAttribute("for","toolSelect"),b.appendChild(document.createTextNode("Tool: "));var c=document.createElement("li");c.id="toolLi",c.appendChild(a),c.setAttribute("class","ui-block-a");for(var d=document.getElementById("toolList");d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(c),$("#toolList").trigger("create")},dwv.gui.appendWindowLevelHtml=function(){var a=dwv.html.createHtmlSelect("presetSelect",dwv.tool.presets);a.onchange=dwv.gui.onChangeWindowLevelPreset;var b=document.createElement("label");b.setAttribute("for","presetSelect"),b.appendChild(document.createTextNode("WL Preset: "));var c=dwv.html.createHtmlSelect("colourMapSelect",dwv.tool.colourMaps);"MONOCHROME1"===app.getImage().getPhotometricInterpretation()&&(c.options[1].defaultSelected=!0),c.onchange=dwv.gui.onChangeColourMap;var d=document.createElement("label");d.setAttribute("for","colourMapSelect"),d.appendChild(document.createTextNode("Colour Map: "));var e=document.createElement("li");e.id="wlLi",e.appendChild(a),e.setAttribute("class","ui-block-b");var f=document.createElement("li");f.id="cmLi",f.appendChild(c),f.setAttribute("class","ui-block-c");var g=document.getElementById("toolList");null!==app.getImage().getPhotometricInterpretation().match(/MONOCHROME/)&&(g.appendChild(e),g.appendChild(f)),$("#toolList").trigger("create")},dwv.gui.clearWindowLevelHtml=function(){dwv.html.removeNode("wlLi"),dwv.html.removeNode("cmLi")},dwv.gui.appendDrawHtml=function(){var a=dwv.html.createHtmlSelect("shapeSelect",dwv.tool.shapes);a.onchange=dwv.gui.onChangeShape;var b=document.createElement("label");b.setAttribute("for","shapeSelect"),b.appendChild(document.createTextNode("Shape: "));var c=dwv.html.createHtmlSelect("colourSelect",dwv.tool.colors);c.onchange=dwv.gui.onChangeLineColour;var d=document.createElement("label");d.setAttribute("for","colourSelect"),d.appendChild(document.createTextNode("Colour: "));var e=document.createElement("li");e.id="shapeLi",e.appendChild(a),e.setAttribute("class","ui-block-c");var f=document.createElement("li");f.id="colourLi",f.appendChild(c),f.setAttribute("class","ui-block-b");var g=document.getElementById("toolList");g.appendChild(e),g.appendChild(f),$("#toolList").trigger("create")},dwv.gui.clearDrawHtml=function(){dwv.html.removeNode("colourLi"),dwv.html.removeNode("shapeLi")},dwv.gui.appendLivewireHtml=function(){var a=dwv.html.createHtmlSelect("colourSelect",dwv.tool.colors);a.onchange=dwv.gui.onChangeLineColour;var b=document.createElement("label");b.setAttribute("for","colourSelect"),b.appendChild(document.createTextNode("Colour: "));var c=document.createElement("li");c.id="colourLi",c.setAttribute("class","ui-block-b"),c.appendChild(a),document.getElementById("toolList").appendChild(c),$("#toolList").trigger("create")},dwv.gui.clearLivewireHtml=function(){dwv.html.removeNode("colourLi")},dwv.gui.appendFilterHtml=function(){var a=dwv.html.createHtmlSelect("filterSelect",dwv.tool.filters);a.onchange=dwv.gui.onChangeFilter;var b=document.createElement("label");b.setAttribute("for","filterSelect"),b.appendChild(document.createTextNode("Filter: "));var c=document.createElement("li");c.id="filterLi",c.setAttribute("class","ui-block-b"),c.appendChild(a),document.getElementById("toolList").appendChild(c),$("#toolList").trigger("create")},dwv.gui.clearFilterHtml=function(){dwv.html.removeNode("filterLi")},dwv.gui.filter=dwv.gui.filter||{},dwv.gui.filter.appendThresholdHtml=function(){var a=document.createElement("li");a.setAttribute("class","ui-block-c"),a.id="thresholdLi",document.getElementById("toolList").appendChild(a),dwv.gui.getSliderHtml(),$("#toolList").trigger("create")},dwv.gui.filter.clearThresholdHtml=function(){dwv.html.removeNode("thresholdLi")},dwv.gui.filter.appendSharpenHtml=function(){var a=document.createElement("button");a.id="runFilterButton",a.onclick=app.getToolBox().getSelectedTool().getSelectedFilter().run,a.appendChild(document.createTextNode("Apply"));var b=document.createElement("li");b.id="sharpenLi",b.setAttribute("class","ui-block-c"),b.appendChild(a),document.getElementById("toolList").appendChild(b),$("#toolList").trigger("create")},dwv.gui.filter.clearSharpenHtml=function(){dwv.html.removeNode("sharpenLi")},dwv.gui.filter.appendSobelHtml=function(){var a=document.createElement("button");a.id="runFilterButton",a.onclick=app.getToolBox().getSelectedTool().getSelectedFilter().run,a.appendChild(document.createTextNode("Apply"));var b=document.createElement("li");b.id="sobelLi",b.setAttribute("class","ui-block-c"),b.appendChild(a),document.getElementById("toolList").appendChild(b),$("#toolList").trigger("create")},dwv.gui.filter.clearSobelHtml=function(){dwv.html.removeNode("sobelLi")},dwv.gui.appendZoomHtml=function(){var a=document.createElement("button");a.id="zoomResetButton",a.name="zoomResetButton",a.onclick=dwv.tool.zoomReset;var b=document.createTextNode("Reset");a.appendChild(b);var c=document.createElement("li");c.id="zoomLi",c.setAttribute("class","ui-block-c"),c.appendChild(a),document.getElementById("toolList").appendChild(c),$("#toolList").trigger("create")},dwv.gui.clearZoomHtml=function(){dwv.html.removeNode("zoomLi")},dwv.gui.appendUndoHtml=function(){var a=document.createElement("p");a.appendChild(document.createTextNode("History:")),a.appendChild(document.createElement("br"));var b=document.createElement("select");b.id="history_list",b.name="history_list",b.multiple="multiple",a.appendChild(b);for(var c=document.getElementById("history");c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(a)},dwv.gui.addCommandToUndoHtml=function(a){var b=document.getElementById("history_list"),c=b.length-(b.selectedIndex+1);if(c>0)for(var d=0;c>d;++d)b.remove(b.length-1);var e=document.createElement("option");e.text=a,e.value=a,b.add(e),b.selectedIndex++},dwv.gui.enableInUndoHtml=function(a){var b,c=document.getElementById("history_list");a?(c.selectedIndex++,b=c.options[c.selectedIndex],b.disabled=!1):(b=c.options[c.selectedIndex],b.disabled=!0,c.selectedIndex--)},dwv.gui.appendHelpHtml=function(a){var b="mouse";a&&(b="touch");var c=document.createElement("div");for(var d in dwv.tool.tools){var e=dwv.tool.tools[d],f=document.createElement("h3");f.appendChild(document.createTextNode(e.getHelp().title));var g=document.createElement("div"),h=document.createElement("p");if(h.appendChild(document.createTextNode(e.getHelp().brief)),g.appendChild(h),e.getHelp()[b])for(var i=Object.keys(e.getHelp()[b]),j=0;j<i.length;++j){var k=e.getHelp()[b][i[j]],l=document.createElement("img");l.src="resources/"+i[j]+".png",l.style.float="left",l.style.margin="0px 15px 15px 0px";var m=document.createElement("br");m.style.clear="both";var n=document.createElement("p");n.appendChild(l),n.appendChild(document.createTextNode(k)),n.appendChild(m),g.appendChild(n)}if(a){var o=document.createElement("div");o.setAttribute("data-role","collapsible"),o.appendChild(f),o.appendChild(g),c.appendChild(o)}else c.id="accordion",c.appendChild(f),c.appendChild(g)}var p=document.getElementById("help"),q=document.createElement("p");q.appendChild(document.createTextNode("DWV can load DICOM data either from a local file or from an URL. All DICOM tags are available in a searchable table, press the 'tags' or grid button. You can choose to display the image information overlay by pressing the 'info' or i button. ")),p.appendChild(q);var r=document.createElement("p");r.appendChild(document.createTextNode("Each tool defines the possible user interactions. The default tool is the window/level one. Here are the available tools:")),p.appendChild(r),p.appendChild(c)};var dwv=dwv||{};dwv.html=dwv.html||{},dwv.html.appendCell=function(a,b){var c=a.insertCell(-1);c.appendChild(document.createTextNode(b))},dwv.html.appendHCell=function(a,b){var c=document.createElement("th");"Value"!==b&&"Name"!==b&&c.setAttribute("data-priority","1"),c.appendChild(document.createTextNode(b)),a.appendChild(c)},dwv.html.appendRowForArray=function(a,b,c,d,e){for(var f=null,g=0;g<b.length;++g)"number"==typeof b[g]||"string"==typeof b[g]||null===b[g]||void 0===b[g]||c>=d?(f||(f=a.insertRow(-1)),dwv.html.appendCell(f,b[g])):dwv.html.appendRow(a,b[g],c+g,d,e)},dwv.html.appendRowForObject=function(a,b,c,d,e){for(var f=Object.keys(b),g=null,h=0;h<f.length;++h)"number"==typeof b[f[h]]||"string"==typeof b[f[h]]||null===b[f[h]]||void 0===b[f[h]]||c>=d?(g||(g=a.insertRow(-1)),0===h&&e&&dwv.html.appendCell(g,e),dwv.html.appendCell(g,b[f[h]])):dwv.html.appendRow(a,b[f[h]],c+h,d,f[h]);if(2===c){var i=a.createTHead(),j=i.insertRow(-1);e&&dwv.html.appendHCell(j,"Name");for(var k=0;k<f.length;++k)dwv.html.appendHCell(j,dwv.utils.capitaliseFirstLetter(f[k]))}},dwv.html.appendRow=function(a,b,c,d,e){if(b instanceof Array)dwv.html.appendRowForArray(a,b,c+1,d,e);else{if("object"!=typeof b)throw new Error("Unsupported input data type.");dwv.html.appendRowForObject(a,b,c+1,d,e)}},dwv.html.toTable=function(a){var b=document.createElement("table");return dwv.html.appendRow(b,a,0,2),b},dwv.html.getHtmlSearchForm=function(a){var b=document.createElement("form");b.setAttribute("class","filter");var c=document.createElement("input");return c.onkeyup=function(){dwv.html.filterTable(c,a)},b.appendChild(c),b},dwv.html.filterTable=function(a,b){dwv.html.dehighlight(b);for(var c=a.value.toLowerCase().split(" "),d=0,e=0,f=1;f<b.rows.length;++f){e="";for(var g=0;g<c.length;++g)d=b.rows[f].innerHTML.replace(/<[^>]+>/g,"").toLowerCase(),d.indexOf(c[g])<0?e="none":c[g].length&&dwv.html.highlight(c[g],b.rows[f]),b.rows[f].style.display=e}},dwv.html.dehighlight=function(a){for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];if(c.attributes&&c.attributes["class"]&&"highlighted"===c.attributes["class"].value)return c.parentNode.parentNode.replaceChild(document.createTextNode(c.parentNode.innerHTML.replace(/<[^>]+>/g,"")),c.parentNode),void 0;3!==c.nodeType&&dwv.html.dehighlight(c)}},dwv.html.highlight=function(a,b){for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];if(3===d.nodeType){var e=d.data,f=e.toLowerCase();if(f.indexOf(a)>=0){var g=document.createElement("span");d.parentNode.replaceChild(g,d);for(var h;-1!==(h=f.indexOf(a));)g.appendChild(document.createTextNode(e.substr(0,h))),g.appendChild(dwv.html.createHighlightNode(document.createTextNode(e.substr(h,a.length)))),e=e.substr(h+a.length),f=f.substr(h+a.length);g.appendChild(document.createTextNode(e))}}else dwv.html.highlight(a,d)}},dwv.html.createHighlightNode=function(a){var b=document.createElement("span");return b.setAttribute("class","highlighted"),b.attributes["class"].value="highlighted",b.appendChild(a),b},dwv.html.cleanNode=function(a){for(;a.hasChildNodes();)a.removeChild(a.firstChild)},dwv.html.removeNode=function(a){var b=document.getElementById(a);if(b){dwv.html.cleanNode(b);var c=b.parentNode;c.removeChild(b)}},dwv.html.createHtmlSelect=function(a,b){var c=document.createElement("select");c.id=a,c.name=a;var d;if(b instanceof Array)for(var e in b)d=document.createElement("option"),d.value=b[e].toLowerCase(),d.appendChild(document.createTextNode(dwv.utils.capitaliseFirstLetter(b[e]))),c.appendChild(d);else{if("object"!=typeof b)throw new Error("Unsupported input list type.");for(var f in b)d=document.createElement("option"),d.value=f.toLowerCase(),d.appendChild(document.createTextNode(dwv.utils.capitaliseFirstLetter(f))),c.appendChild(d)}return c},dwv.html.getUriParam=function(a){var b=a||window.location.href,c=[],d=dwv.utils.splitQueryString(b);if(null===d)return null;if(!d.input)throw new Error("No input parameter in query URI.");var e=decodeURIComponent(d.input),f=dwv.utils.splitQueryString(e),g="key";if(d.dwvReplaceMode&&(g=d.dwvReplaceMode),f){for(var h=Object.keys(f),i=null,j=0;j<h.length;++j)f[h[j]]instanceof Array&&(i=h[j]);if(i){for(var k=f.base+"?",l=!1,m=0;m<h.length;++m)"base"!==h[m]&&h[m]!==i&&(l&&(k+="&"),k+=h[m]+"="+f[h[m]],l=!0);var n;if(f[i]instanceof Array)for(var o=0;o<f[i].length;++o)n=k,l&&(n+="&"),"key"===g&&(n+=i+"="),n+=f[i][o],c.push(n);else n=k,l&&(n+="&"),n+=i+"="+f[i],c.push(n)}else c.push(e)}else c.push(e);return c},dwv.html.toggleDisplay=function(a){if(document.getElementById(a)){var b=document.getElementById(a);b.style.display="none"===b.style.display?"":"none"}},dwv.html.browser=dwv.html.browser||{},dwv.html.browser.hasFileApi=function(){var a=-1!=navigator.appVersion.indexOf("Safari")&&(-1!=navigator.appVersion.indexOf("5.0.")||-1!=navigator.appVersion.indexOf("5.1."));return a?(console.warn("Assuming FileAPI support for Safari5..."),!0):"FileReader"in window},dwv.html.browser.hasXmlHttpRequest=function(){return"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest},dwv.html.browser.hasTypedArray=function(){return"Uint8Array"in window&&"Uint16Array"in window},dwv.html.browser.hasClampedArray=function(){return"Uint8ClampedArray"in window},dwv.html.browser.check=function(){var a="The application cannot be run.",b="";if(!dwv.html.browser.hasFileApi())throw b="The File APIs are not supported in this browser. ",alert(b+a),new Error(b);if(!dwv.html.browser.hasXmlHttpRequest())throw b="The XMLHttpRequest is not supported in this browser. ",alert(b+a),new Error(b);if(!dwv.html.browser.hasTypedArray())throw b="The Typed arrays are not supported in this browser. ",alert(b+a),new Error(b);dwv.html.browser.hasClampedArray()||console.warn("The Uint8ClampedArray is not supported in this browser. This may impair performance. ")};var dwv=dwv||{};dwv.html=dwv.html||{},dwv.html.Layer=function(a){var b=null,c=null;this.getName=function(){return a},this.getCanvas=function(){return b},this.getContext=function(){return c},this.getOffset=function(){return $("#"+a).offset()};var d=null,e=0,f=0,g=1,h=1;this.setZoom=function(a,b,c,d){var i=g+a,j=h+b;.1>=i||i>=10||.1>=j||j>=10||(e=c-(c-e)*(i/g),f=d-(d-f)*(j/h),g=i,h=j)},this.zoom=function(a,b,c,d){this.setZoom(a,b,c,d),this.draw()},this.setTranslate=function(a,c){if(g>=1){if(e+a<-1*b.width*g+b.width||e+a>0)return}else if(e+a>-1*b.width*g+b.width||0>e+a)return;if(h>=1){if(f+c<-1*b.height*h+b.height||f+c>0)return}else if(f+c>-1*b.height*h+b.height||0>f+c)return;e+=a,f+=c},this.translate=function(a,b){this.setTranslate(a,b),this.draw()},this.setImageData=function(a){d=a},this.resetLayout=function(){e=0,f=0,g=1,h=1},this.draw=function(){c.clearRect(0,0,b.width,b.height);var a=document.createElement("canvas");a.width=b.width,a.height=b.height,a.getContext("2d").putImageData(d,0,0),c.drawImage(a,e,f,b.width*g,b.height*h)},this.initialise=function(e,f){return(b=document.getElementById(a))?b.getContext?(c=b.getContext("2d"))?(b.width=e,b.height=f,c.clearRect(0,0,b.width,b.height),d=c.getImageData(0,0,b.width,b.height),void 0):(alert("Error: failed to get the 2D context for '"+a+"'."),void 0):(alert("Error: no canvas.getContext method for '"+a+"'."),void 0):(alert("Error: cannot find the canvas element for '"+a+"'."),void 0)},this.fillContext=function(){c.fillRect(0,0,b.width,b.height)},this.clear=function(){c.clearRect(0,0,b.width,b.height),d=c.getImageData(0,0,b.width,b.height),this.resetLayout()},this.merge=function(a){for(var c=a.getContext().getImageData(0,0,b.width,b.height),i=0,j=0,k=0,l=0,m=0,n=0;n<b.height;++n){j=parseInt(f+n*h,10)*b.width,l=n*b.width;for(var o=0;o<b.width;++o)i=4*(parseInt(e+o*g,10)+j),k=4*(o+l),m=c.data[i+3],0!==m&&(d.data[k]=c.data[i],d.data[k+1]=c.data[i+1],d.data[k+2]=c.data[i+2],d.data[k+3]=m)}a.clear(),this.draw()},this.setLineColor=function(a){c.fillStyle=a,c.strokeStyle=a},this.setStyleDisplay=function(a){b.style.display=a===!0?"":"none"},this.isVisible=function(){return"none"===b.style.display?!1:!0},this.align=function(a){b.style.top=a.getCanvas().offsetTop,b.style.left=a.getCanvas().offsetLeft}};var dwv=dwv||{};dwv.html=dwv.html||{},dwv.html.Style=function(){var a=12,b="normal "+this.fontSize+"px sans-serif",c=this.fontSize+this.fontSize/5,d="#fff",e=0;dwv.html.Style.prototype.getFontSize=function(){return a},dwv.html.Style.prototype.getFontStr=function(){return b},dwv.html.Style.prototype.getLineHeight=function(){return c},dwv.html.Style.prototype.getTextColor=function(){return d},dwv.html.Style.prototype.getLineColor=function(){return e},dwv.html.Style.prototype.setLineColor=function(a){e=a}};var dwv=dwv||{};dwv.image=dwv.image||{},dwv.image.filter=dwv.image.filter||{},dwv.image.filter.Threshold=function(){var a=0,b=0;this.getMin=function(){return a},this.setMin=function(b){a=b},this.getMax=function(){return b},this.setMax=function(a){b=a},this.getName=function(){return"Threshold"}},dwv.image.filter.Threshold.prototype.update=function(){var a=app.getImage().getDataRange().min,b=this,c=function(c){return c<b.getMin()||c>b.getMax()?a:c};return app.getImage().transform(c)},dwv.image.filter.Sharpen=function(){this.getName=function(){return"Sharpen"}},dwv.image.filter.Sharpen.prototype.update=function(){return app.getImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])},dwv.image.filter.Sobel=function(){this.getName=function(){return"Sobel"}},dwv.image.filter.Sobel.prototype.update=function(){var a=app.getImage().convolute2D([1,0,-1,2,0,-2,1,0,-1]),b=app.getImage().convolute2D([1,2,1,0,0,0,-1,-2,-1]);return a.compose(b,function(a,b){return Math.sqrt(a*a+b*b)})};var dwv=dwv||{};dwv.image=dwv.image||{},dwv.image.Size=function(a,b,c){this.getNumberOfColumns=function(){return a},this.getNumberOfRows=function(){return b},this.getNumberOfSlices=function(){return c||1}},dwv.image.Size.prototype.getSliceSize=function(){return this.getNumberOfColumns()*this.getNumberOfRows()},dwv.image.Size.prototype.getTotalSize=function(){return this.getSliceSize()*this.getNumberOfSlices()},dwv.image.Size.prototype.equals=function(a){return null!==a&&this.getNumberOfColumns()===a.getNumberOfColumns()&&this.getNumberOfRows()===a.getNumberOfRows()&&this.getNumberOfSlices()===a.getNumberOfSlices()},dwv.image.Size.prototype.isInBounds=function(a,b,c){return 0>a||a>this.getNumberOfColumns()-1||0>b||b>this.getNumberOfRows()-1||0>c||c>this.getNumberOfSlices()-1?!1:!0},dwv.image.Spacing=function(a,b,c){this.getColumnSpacing=function(){return a},this.getRowSpacing=function(){return b},this.getSliceSpacing=function(){return c||1}},dwv.image.Spacing.prototype.equals=function(a){return null!==a&&this.getColumnSpacing()===a.getColumnSpacing()&&this.getRowSpacing()===a.getRowSpacing()&&this.getSliceSpacing()===a.getSliceSpacing()},dwv.image.Image=function(a,b,c,d){var e=1,f=0,g="MONOCHROME2",h=0,i=c.length/a.getTotalSize(),j={},k=new Int16Array(c);"undefined"==typeof d&&(d=[[0,0,0]]);var l=null,m=null;this.getSize=function(){return a},this.getSpacing=function(){return b},this.getBuffer=function(){return c},this.getSlicePositions=function(){return d},this.getRescaleSlope=function(){return e},this.setRescaleSlope=function(a){e=a},this.getRescaleIntercept=function(){return f},this.setRescaleIntercept=function(a){f=a},this.getPhotometricInterpretation=function(){return g},this.setPhotometricInterpretation=function(a){g=a},this.getPlanarConfiguration=function(){return h},this.setPlanarConfiguration=function(a){h=a},this.getNumberOfComponents=function(){return i},this.getMeta=function(){return j},this.setMeta=function(a){j=a},this.getValueAtOffset=function(a){return c[a]},this.clone=function(){var a=new dwv.image.Image(this.getSize(),this.getSpacing(),k,d);return a.setRescaleSlope(this.getRescaleSlope()),a.setRescaleIntercept(this.getRescaleIntercept()),a.setPhotometricInterpretation(this.getPhotometricInterpretation()),a.setPlanarConfiguration(this.getPlanarConfiguration()),a.setMeta(this.getMeta()),a},this.appendSlice=function(b){if(null===b)throw new Error("Cannot append null slice");if(1!==b.getSize().getNumberOfSlices())throw new Error("Cannot append more than one slice");if(a.getNumberOfColumns()!==b.getSize().getNumberOfColumns())throw new Error("Cannot append a slice with different number of columns");if(a.getNumberOfRows()!==b.getSize().getNumberOfRows())throw new Error("Cannot append a slice with different number of rows");if(g!==b.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(var e in j)if(j[e]!==b.getMeta()[e])throw new Error("Cannot append a slice with different "+e);for(var f=0,h=b.getSlicePositions()[0],i=Math.abs(d[0][2]-h[2]),l=0,m=0;m<d.length;++m)l=Math.abs(d[m][2]-h[2]),i>l&&(i=l,f=m);l=d[f][2]-h[2];var n=l>0?f:f+1,o=new dwv.image.Size(a.getNumberOfColumns(),a.getNumberOfRows(),a.getNumberOfSlices()+1),p=1;"RGB"===g&&(p=3);var q=p*a.getSliceSize(),r=new Int16Array(q*o.getNumberOfSlices());if(0===n)r.set(b.getBuffer()),r.set(c,q);else if(n===a.getNumberOfSlices())r.set(c),r.set(b.getBuffer(),a.getNumberOfSlices()*q);else{var s=n*q;r.set(c.subarray(0,s-1)),r.set(b.getBuffer(),s),r.set(c.subarray(s),s+q)}d.splice(n,0,h),a=o,c=r,k=new Int16Array(r)},this.getDataRange=function(){return l||(l=this.calculateDataRange()),l},this.getHistogram=function(){return m||(m=this.calculateHistogram()),m}},dwv.image.Image.prototype.getValue=function(a,b,c){return this.getValueAtOffset(a+b*this.getSize().getNumberOfColumns()+c*this.getSize().getSliceSize())},dwv.image.Image.prototype.getRescaledValueAtOffset=function(a){return this.getValueAtOffset(a)*this.getRescaleSlope()+this.getRescaleIntercept()},dwv.image.Image.prototype.getRescaledValue=function(a,b,c){return this.getValue(a,b,c)*this.getRescaleSlope()+this.getRescaleIntercept()},dwv.image.Image.prototype.calculateDataRange=function(){for(var a=this.getValueAtOffset(0),b=a,c=0,d=0;d<this.getSize().getTotalSize();++d)c=this.getValueAtOffset(d),c>b&&(b=c),a>c&&(a=c);return{min:a,max:b}},dwv.image.Image.prototype.getRescaledDataRange=function(){var a=this.getDataRange();return{min:a.min*this.getRescaleSlope()+this.getRescaleIntercept(),max:a.max*this.getRescaleSlope()+this.getRescaleIntercept()}},dwv.image.Image.prototype.calculateHistogram=function(){for(var a=[],b=[],c=0,d=this.getSize().getTotalSize(),e=0;d>e;++e)c=this.getRescaledValueAtOffset(e),a[c]=a[c]||0,a[c]+=1;for(var f=this.getRescaledDataRange().min,g=this.getRescaledDataRange().max,h=f;g>h;++h)c=a[h]||0,b.push([h,c]);return b},dwv.image.Image.prototype.convolute2D=function(a){if(9!==a.length)throw new Error("The convolution matrix does not have a length of 9; it has "+a.length);var b=this.clone(),c=b.getBuffer(),d=this.getSize().getNumberOfColumns(),e=this.getSize().getNumberOfRows(),f=this.getSize().getNumberOfSlices(),g=this.getNumberOfComponents(),h=1,i=1;3===g&&(0===this.getPlanarConfiguration()?h=3:i=this.getSize().getTotalSize());var j=[];j[0]=(-d-1)*h,j[1]=-d*h,j[2]=(-d+1)*h,j[3]=-h,j[4]=0,j[5]=1*h,j[6]=(d-1)*h,j[7]=d*h,j[8]=(d+1)*h;var k=[];k[0]=j[4],k[1]=j[4],k[2]=j[5],k[3]=j[4],k[4]=j[4],k[5]=j[5],k[6]=j[7],k[7]=j[7],k[8]=j[8];var l=[];l[0]=j[1],l[1]=j[1],l[2]=j[2],l[3]=j[4],l[4]=j[4],l[5]=j[5],l[6]=j[7],l[7]=j[7],l[8]=j[8];var m=[];m[0]=j[1],m[1]=j[1],m[2]=j[2],m[3]=j[4],m[4]=j[4],m[5]=j[5],m[6]=j[4],m[7]=j[4],m[8]=j[5];var n=[];n[0]=j[3],n[1]=j[4],n[2]=j[5],n[3]=j[3],n[4]=j[4],n[5]=j[5],n[6]=j[6],n[7]=j[7],n[8]=j[8];var o=[];o[0]=j[0],o[1]=j[1],o[2]=j[2],o[3]=j[3],o[4]=j[4],o[5]=j[5],o[6]=j[3],o[7]=j[4],o[8]=j[5];var p=[];p[0]=j[3],p[1]=j[4],p[2]=j[4],p[3]=j[3],p[4]=j[4],p[5]=j[4],p[6]=j[6],p[7]=j[7],p[8]=j[7];var q=[];q[0]=j[0],q[1]=j[1],q[2]=j[1],q[3]=j[3],q[4]=j[4],q[5]=j[4],q[6]=j[6],q[7]=j[7],q[8]=j[7];var r=[];r[0]=j[0],r[1]=j[1],r[2]=j[1],r[3]=j[3],r[4]=j[4],r[5]=j[4],r[6]=j[3],r[7]=j[4],r[8]=j[4];for(var s=0,t=0,u=[],v=0;g>v;v++){s=v*i;for(var w=0;f>w;w++)for(var x=0;e>x;x++)for(var y=0;d>y;y++){u=j,0===y&&0===x?u=k:0===y&&x===e?u=m:y===d&&0===x?u=p:y===d&&x===e?u=r:0===y&&x!==e&&0!==x?u=l:y===d&&x!==e&&0!==x?u=q:0!==y&&y!==d&&0===x?u=n:0!==y&&y!==d&&x===e&&(u=o),t=0;for(var z=0;9>z;++z)t+=this.getValueAtOffset(s+u[z])*a[z];c[s]=t,s+=h}}return b},dwv.image.Image.prototype.transform=function(a){for(var b=this.clone(),c=b.getBuffer(),d=0;d<c.length;++d)c[d]=a(b.getValueAtOffset(d));return b},dwv.image.Image.prototype.compose=function(a,b){for(var c=this.clone(),d=c.getBuffer(),e=0;e<d.length;++e)d[e]=Math.floor(b(this.getValueAtOffset(e),a.getValueAtOffset(e)));return c};var dwv=dwv||{};dwv.image=dwv.image||{},dwv.image.lut=dwv.image.lut||{},dwv.image.lut.Rescale=function(a,b){var c=null;"undefined"==typeof a&&(a=1),"undefined"==typeof b&&(b=0),this.getSlope=function(){return a},this.getIntercept=function(){return b},this.initialise=function(d){var e=Math.pow(2,d);c=new Float32Array(e);for(var f=0;e>f;++f)c[f]=f*a+b},this.getLength=function(){return c.length},this.getValue=function(a){return c[a]}},dwv.image.lut.Window=function(a,b){var c=null;c=dwv.html.browser.hasClampedArray()?new Uint8ClampedArray(a.getLength()):new Uint8Array(a.getLength());var d=null,e=null;this.getCenter=function(){return d},this.getWidth=function(){return e},this.isSigned=function(){return b},this.setCenterAndWidth=function(f,g){d=f,e=g;var h=c.length,i=b?f-.5+h/2:f-.5,j=g-1,k=0;if(dwv.html.browser.hasClampedArray())for(var l=0;h>l;++l)k=255*((a.getValue(l)-i)/j+.5),c[l]=parseInt(k,10);else for(var m=f-.5-(g-1)/2,n=f-.5+(g-1)/2,o=255,p=0,q=0,r=0;h>r;++r)q=a.getValue(r),m>=q?c[r]=p:q>n?c[r]=o:(k=255*((q-i)/j+.5),c[r]=parseInt(k,10))},this.getLength=function(){return c.length},this.getValue=function(a){var d=b?c.length/2:0;return c[a+d]}},dwv.image.lut.range_max=256,dwv.image.lut.buildLut=function(a){for(var b=[],c=0;c<dwv.image.lut.range_max;++c)b.push(a(c));return b},dwv.image.lut.max=function(){return dwv.image.lut.range_max-1},dwv.image.lut.maxFirstThird=function(a){return a<dwv.image.lut.range_max/3?dwv.image.lut.range_max-1:0},dwv.image.lut.maxSecondThird=function(a){var b=dwv.image.lut.range_max/3;return a>=b&&2*b>a?dwv.image.lut.range_max-1:0},dwv.image.lut.maxThirdThird=function(a){return a>=2*dwv.image.lut.range_max/3?dwv.image.lut.range_max-1:0},dwv.image.lut.toMaxFirstThird=function(a){var b=3*a;return b>dwv.image.lut.range_max-1?dwv.image.lut.range_max-1:b},dwv.image.lut.toMaxSecondThird=function(a){var b=dwv.image.lut.range_max/3,c=0;return a>=b&&(c=3*(a-b),c>dwv.image.lut.range_max-1)?dwv.image.lut.range_max-1:c},dwv.image.lut.toMaxThirdThird=function(a){var b=dwv.image.lut.range_max/3,c=0;return a>=2*b&&(c=3*(a-2*b),c>dwv.image.lut.range_max-1)?dwv.image.lut.range_max-1:c},dwv.image.lut.zero=function(){return 0},dwv.image.lut.id=function(a){return a},dwv.image.lut.invId=function(a){return dwv.image.lut.range_max-1-a},dwv.image.lut.plain={red:dwv.image.lut.buildLut(dwv.image.lut.id),green:dwv.image.lut.buildLut(dwv.image.lut.id),blue:dwv.image.lut.buildLut(dwv.image.lut.id)},dwv.image.lut.invPlain={red:dwv.image.lut.buildLut(dwv.image.lut.invId),green:dwv.image.lut.buildLut(dwv.image.lut.invId),blue:dwv.image.lut.buildLut(dwv.image.lut.invId)},dwv.image.lut.rainbow={blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},dwv.image.lut.hot={red:dwv.image.lut.buildLut(dwv.image.lut.toMaxFirstThird),green:dwv.image.lut.buildLut(dwv.image.lut.toMaxSecondThird),blue:dwv.image.lut.buildLut(dwv.image.lut.toMaxThirdThird)},dwv.image.lut.test={red:dwv.image.lut.buildLut(dwv.image.lut.id),green:dwv.image.lut.buildLut(dwv.image.lut.zero),blue:dwv.image.lut.buildLut(dwv.image.lut.zero)};
var dwv=dwv||{};dwv.image=dwv.image||{},dwv.image.getDataFromImage=function(a){var b=document.getElementById("imageLayer");b.width=a.width,b.height=a.height;var c=b.getContext("2d");c.drawImage(a,0,0,a.width,a.height);for(var d=c.getImageData(0,0,a.width,a.height),e=[],f=0,g=0;g<d.data.length;g+=4)e[f]=d.data[g],e[f+1]=d.data[g+1],e[f+2]=d.data[g+2],f+=3;var h=new dwv.image.Size(a.width,a.height),i=new dwv.image.Spacing(1,1),j=a.index?a.index:0,k=new dwv.image.Image(h,i,e,[[0,0,j]]);k.setPhotometricInterpretation("RGB");var l={};l.BitsStored=8,k.setMeta(l);var m=new dwv.image.View(k);m.setWindowLevelMinMax();var n={};return a.file&&(n.fileName={value:a.file.name},n.fileType={value:a.file.type},n.fileLastModifiedDate={value:a.file.lastModifiedDate}),n.imageWidth={value:a.width},n.imageHeight={value:a.height},{view:m,info:n}},dwv.image.getDataFromDicomBuffer=function(a){var b=new dwv.dicom.DicomParser;b.parse(a);var c=b.createImage();return{view:c,info:b.dicomElements}};var dwv=dwv||{};dwv.image=dwv.image||{},dwv.image.View=function(a,b){var c=new dwv.image.lut.Rescale(a.getRescaleSlope(),a.getRescaleIntercept());c.initialise(a.getMeta().BitsStored);var d=new dwv.image.lut.Window(c,b),e=null,f=dwv.image.lut.plain,g={i:0,j:0,k:0};this.getImage=function(){return a},this.setImage=function(b){a=b},this.getRescaleLut=function(){return c},this.setRescaleLut=function(a){c=a},this.getWindowLut=function(){return d},this.setWindowLut=function(a){d=a},this.getWindowPresets=function(){return e},this.setWindowPresets=function(a){e=a,this.setWindowLevel(a[0].center,a[0].width)},this.getColorMap=function(){return f},this.setColorMap=function(a){f=a,"MONOCHROME1"===this.getImage().getPhotometricInterpretation()&&(f=dwv.image.lut.invPlain),this.fireEvent({type:"colorchange",wc:this.getWindowLut().getCenter(),ww:this.getWindowLut().getWidth()})},this.isSigned=function(){return b},this.getCurrentPosition=function(){return g},this.setCurrentPosition=function(b){if(!a.getSize().isInBounds(b.i,b.j,b.k))return!1;var c=g;return g=b,null!==app.getImage().getPhotometricInterpretation().match(/MONOCHROME/)?this.fireEvent({type:"positionchange",i:b.i,j:b.j,k:b.k,value:a.getRescaledValue(b.i,b.j,b.k)}):this.fireEvent({type:"positionchange",i:b.i,j:b.j,k:b.k}),c.k!==g.k&&this.fireEvent({type:"slicechange"}),!0};var h={};this.getListeners=function(){return h},this.setListeners=function(a){h=a}},dwv.image.View.prototype.setWindowLevel=function(a,b){this.getWindowLut().setCenterAndWidth(a,b),this.fireEvent({type:"wlchange",wc:a,ww:b})},dwv.image.View.prototype.setWindowLevelMinMax=function(){var a=this.getImage().getRescaledDataRange(),b=a.min,c=a.max,d=c-b,e=b+d/2;this.setWindowLevel(e,d)},dwv.image.View.prototype.incrementSliceNb=function(){return this.setCurrentPosition({i:this.getCurrentPosition().i,j:this.getCurrentPosition().j,k:this.getCurrentPosition().k+1})},dwv.image.View.prototype.decrementSliceNb=function(){return this.setCurrentPosition({i:this.getCurrentPosition().i,j:this.getCurrentPosition().j,k:this.getCurrentPosition().k-1})},dwv.image.View.prototype.clone=function(){var a=new dwv.image.View(this.getImage());return a.setRescaleLut(this.getRescaleLut()),a.setWindowLut(this.getWindowLut()),a.setListeners(this.getListeners()),a},dwv.image.View.prototype.generateImageData=function(a){var b=this.getCurrentPosition().k,c=this.getImage(),d=0,e=c.getPhotometricInterpretation(),f=c.getPlanarConfiguration(),g=this.getWindowLut(),h=this.getColorMap(),i=0,j=0,k=0;switch(e){case"MONOCHROME1":case"MONOCHROME2":j=c.getSize().getSliceSize(),k=(b||0)*j;for(var l=k+j,m=k;l>m;++m)d=parseInt(g.getValue(c.getValueAtOffset(m)),10),a.data[i]=h.red[d],a.data[i+1]=h.green[d],a.data[i+2]=h.blue[d],a.data[i+3]=255,i+=4;break;case"RGB":if(0!==f&&1!==f)throw new Error("Unsupported planar configuration: "+f);j=c.getSize().getSliceSize(),k=3*(b||0)*j;var n=k,o=k+1,p=k+2,q=3;1===f&&(n=k,o=k+j,p=k+2*j,q=1);for(var r=0,s=0,t=0,u=0;u<c.getSize().getSliceSize();++u)r=parseInt(g.getValue(c.getValueAtOffset(n)),10),s=parseInt(g.getValue(c.getValueAtOffset(o)),10),t=parseInt(g.getValue(c.getValueAtOffset(p)),10),a.data[i]=r,a.data[i+1]=s,a.data[i+2]=t,a.data[i+3]=255,i+=4,n+=q,o+=q,p+=q;break;default:throw new Error("Unsupported photometric interpretation: "+e)}},dwv.image.View.prototype.addEventListener=function(a,b){var c=this.getListeners();c[a]||(c[a]=[]),c[a].push(b)},dwv.image.View.prototype.removeEventListener=function(a,b){var c=this.getListeners();if(c[a])for(var d=0;d<c[a].length;++d)c[a][d]===b&&c[a].splice(d,1)},dwv.image.View.prototype.fireEvent=function(a){var b=this.getListeners();if(b[a.type])for(var c=0;c<b[a.type].length;++c)b[a.type][c](a)};var dwv=dwv||{};dwv.io=dwv.io||{},dwv.io.File=function(){this.onload=null,this.onerror=null},dwv.io.File.prototype.load=function(a){for(var b=this.onload,c=this.onerror,d=function(a){c({name:"RequestError",message:"An error occurred while reading the image file: "+a.getMessage()})},e=function(a){c({name:"RequestError",message:"An error occurred while reading the DICOM file: "+a.getMessage()})},f=function(a){try{var d=dwv.image.getDataFromDicomBuffer(a.target.result);b(d)}catch(e){c(e)}var f=new ProgressEvent("progress",{lengthComputable:!0,loaded:1,total:1});dwv.gui.updateProgress(f)},g=function(){try{var a=dwv.image.getDataFromImage(this);b(a)}catch(d){c(d)}},h=function(a){var b=new Image;b.src=a.target.result,b.file=this.file,b.index=this.index,b.onload=g},i=0;i<a.length;++i){var j=a[i],k=new FileReader;j.type.match("image.*")?(k.file=j,k.index=i,k.onload=h,k.onprogress=dwv.gui.updateProgress,k.onerror=d,k.readAsDataURL(j)):(k.onload=f,k.onprogress=dwv.gui.updateProgress,k.onerror=e,k.readAsArrayBuffer(j))}};var dwv=dwv||{};dwv.io=dwv.io||{},dwv.io.Url=function(){this.onload=null,this.onerror=null},dwv.io.Url.prototype.load=function(a){for(var b=this.onload,c=this.onerror,d=function(){c({name:"RequestError",message:"An error occurred while retrieving the file: (http) "+this.status})},e=function(a){try{var d=dwv.image.getDataFromDicomBuffer(a);b(d)}catch(e){c(e)}},f=function(){try{var a=dwv.image.getDataFromImage(this);b(a)}catch(d){c(d)}},g=function(){var a=new DataView(this.response),b=4292411360===a.getUint32(0),c=2303741511===a.getUint32(0),d=1195984440===a.getUint32(0);if(b||c||d){for(var g=new Uint8Array(this.response),h="",i=0;i<g.byteLength;++i)h+=String.fromCharCode(g[i]);var j="unknown";b?j="jpeg":c?j="png":d&&(j="gif");var k=new Image;k.src="data:image/"+j+";base64,"+window.btoa(h),k.onload=f}else e(this.response)},h=0;h<a.length;++h){var i=a[h],j=new XMLHttpRequest;j.open("GET",i,!0),j.responseType="arraybuffer",j.onload=g,j.onerror=d,j.onprogress=dwv.gui.updateProgress,j.send(null)}};var dwv=dwv||{};dwv.math=dwv.math||{},dwv.math.BucketQueue=function(a,b){this.bucketCount=1<<a,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost="undefined"!=typeof b?b:function(a){return a},this.buckets=this.buildArray(this.bucketCount)},dwv.math.BucketQueue.prototype.push=function(a){var b=this.getBucket(a);a.next=this.buckets[b],this.buckets[b]=a,this.size++},dwv.math.BucketQueue.prototype.pop=function(){if(0===this.size)throw new Error("Cannot pop, bucketQueue is empty.");for(;null===this.buckets[this.loc];)this.loc=(this.loc+1)%this.bucketCount;var a=this.buckets[this.loc];return this.buckets[this.loc]=a.next,a.next=null,this.size--,a},dwv.math.BucketQueue.prototype.remove=function(a){if(!a)return!1;for(var b=this.getBucket(a),c=this.buckets[b];null!==c&&!a.equals(c.next);)c=c.next;return null===c?!1:(c.next=c.next.next,this.size--,!0)},dwv.math.BucketQueue.prototype.isEmpty=function(){return 0===this.size},dwv.math.BucketQueue.prototype.getBucket=function(a){return this.cost(a)&this.mask},dwv.math.BucketQueue.prototype.buildArray=function(a){var b=[];b.length=a;for(var c=0;c<b.length;c++)b[c]=null;return b};var dwv=dwv||{};dwv.math=dwv.math||{};var __twothirdpi=2/(3*Math.PI);dwv.math.computeGreyscale=function(a,b,c){for(var d=[],e=0;c>e;e++){d[e]=[];for(var f=0;b>f;f++){var g=4*(e*b+f);d[e][f]=(a[g]+a[g+1]+a[g+2])/765}}return d.dx=function(a,b){return a+1===this[b].length&&a--,this[b][a+1]-this[b][a]},d.dy=function(a,b){return b+1===this.length&&b--,this[b][a]-this[b+1][a]},d.gradMagnitude=function(a,b){var c=this.dx(a,b),d=this.dy(a,b);return Math.sqrt(c*c+d*d)},d.laplace=function(a,b){var c=-16*this[b][a];return c+=this[b-2][a],c+=this[b-1][a-1]+2*this[b-1][a]+this[b-1][a+1],c+=this[b][a-2]+2*this[b][a-1]+2*this[b][a+1]+this[b][a+2],c+=this[b+1][a-1]+2*this[b+1][a]+this[b+1][a+1],c+=this[b+2][a]},d},dwv.math.computeGradient=function(a){var b=[];max=0;var c=0,d=0;for(d=0;d<a.length-1;d++){for(b[d]=[],c=0;c<a[d].length-1;c++)b[d][c]=a.gradMagnitude(c,d),max=Math.max(b[d][c],max);b[d][a[d].length-1]=b[d][a.length-2]}b[a.length-1]=[];for(var e=0;e<b[0].length;e++)b[a.length-1][e]=b[a.length-2][e];for(d=0;d<b.length;d++)for(c=0;c<b[d].length;c++)b[d][c]=1-b[d][c]/max;return b},dwv.math.computeLaplace=function(a){var b=[];b[0]=[],b[1]=[];for(var c=1;c<a.length;c++)b[0][c]=1,b[1][c]=1;for(var d=2;d<a.length-2;d++){b[d]=[],b[d][0]=1,b[d][1]=1;for(var e=2;e<a[d].length-2;e++)b[d][e]=a.laplace(e,d)>.33?0:1;b[d][a[d].length-2]=1,b[d][a[d].length-1]=1}b[a.length-2]=[],b[a.length-1]=[];for(var f=1;f<a.length;f++)b[a.length-2][f]=1,b[a.length-1][f]=1;return b},dwv.math.computeGradX=function(a){for(var b=[],c=0;c<a.length;c++){b[c]=[];for(var d=0;d<a[c].length-1;d++)b[c][d]=a.dx(d,c);b[c][a[c].length-1]=b[c][a[c].length-2]}return b},dwv.math.computeGradY=function(a){for(var b=[],c=0;c<a.length-1;c++){b[c]=[];for(var d=0;d<a[c].length;d++)b[c][d]=a.dy(d,c)}b[a.length-1]=[];for(var e=0;e<a[0].length;e++)b[a.length-1][e]=b[a.length-2][e];return b},dwv.math.gradUnitVector=function(a,b,c,d,e){var f=a[d][c],g=b[d][c],h=Math.sqrt(f*f+g*g);h=Math.max(h,1e-100),e.x=f/h,e.y=g/h},dwv.math.gradDirection=function(a,b,c,d,e,f){var g=new dwv.math.FastPoint2D(-1,-1),h=new dwv.math.FastPoint2D(-1,-1);dwv.math.gradUnitVector(a,b,c,d,g),dwv.math.gradUnitVector(a,b,e,f,h);var i=g.y*(e-c)-g.x*(f-d),j=h.y*(e-c)-h.x*(f-d);return 0>i&&(i=-i,j=-j),c!==e&&d!==f&&(i*=Math.SQRT1_2,j*=Math.SQRT1_2),__twothirdpi*(Math.acos(i)+Math.acos(j))},dwv.math.computeSides=function(a,b,c,d){var e={};e.inside=[],e.outside=[];for(var f=new dwv.math.FastPoint2D(-1,-1),g=0;g<b.length;g++){e.inside[g]=[],e.outside[g]=[];for(var h=0;h<b[g].length;h++){dwv.math.gradUnitVector(b,c,h,g,f);var i=Math.round(h+a*f.y),j=Math.round(g-a*f.x),k=Math.round(h-a*f.y),l=Math.round(g+a*f.x);i=Math.max(Math.min(i,b[g].length-1),0),k=Math.max(Math.min(k,b[g].length-1),0),j=Math.max(Math.min(j,b.length-1),0),l=Math.max(Math.min(l,b.length-1),0),e.inside[g][h]=d[j][i],e.outside[g][h]=d[l][k]}}return e},dwv.math.gaussianBlur=function(a,b){b[0]=.4*a[0]+.5*a[1]+.1*a[1],b[1]=.25*a[0]+.4*a[1]+.25*a[2]+.1*a[3];for(var c=2;c<a.length-2;c++)b[c]=.05*a[c-2]+.25*a[c-1]+.4*a[c]+.25*a[c+1]+.05*a[c+2];len=a.length,b[len-2]=.25*a[len-1]+.4*a[len-2]+.25*a[len-3]+.1*a[len-4],b[len-1]=.4*a[len-1]+.5*a[len-2]+.1*a[len-3]},dwv.math.Scissors=function(){this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.earchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null},dwv.math.Scissors.prototype.getTrainingIdx=function(a,b){return Math.round((a-1)*b)},dwv.math.Scissors.prototype.getTrainedEdge=function(a){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,a)]},dwv.math.Scissors.prototype.getTrainedGrad=function(a){return this.gradTraining[this.getTrainingIdx(this.gradGran,a)]},dwv.math.Scissors.prototype.getTrainedInside=function(a){return this.insideTraining[this.getTrainingIdx(this.insideGran,a)]},dwv.math.Scissors.prototype.getTrainedOutside=function(a){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,a)]},dwv.math.Scissors.prototype.setWorking=function(a){this.working=a},dwv.math.Scissors.prototype.setDimensions=function(a,b){this.width=a,this.height=b},dwv.math.Scissors.prototype.setData=function(a){if(-1===this.width||-1===this.height)throw new Error("Dimensions have not been set.");this.greyscale=dwv.math.computeGreyscale(a,this.width,this.height),this.laplace=dwv.math.computeLaplace(this.greyscale),this.gradient=dwv.math.computeGradient(this.greyscale),this.gradX=dwv.math.computeGradX(this.greyscale),this.gradY=dwv.math.computeGradY(this.greyscale);var b=dwv.math.computeSides(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=b.inside,this.outside=b.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]},dwv.math.Scissors.prototype.findTrainingPoints=function(a){var b=[];if(null!==this.parents)for(var c=0;c<this.trainingLength&&a;c++)b.push(a),a=this.parents[a.y][a.x];return b},dwv.math.Scissors.prototype.resetTraining=function(){this.trained=!1},dwv.math.Scissors.prototype.doTraining=function(a){if(this.trainingPoints=this.findTrainingPoints(a),!(this.trainingPoints.length<8)){var b=[];this.calculateTraining(b,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(b,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(b,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(b,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}},dwv.math.Scissors.prototype.calculateTraining=function(a,b,c,d){var e=0;for(a.length=b,e=0;b>e;e++)a[e]=0;var f=1;for(e=0;e<this.trainingPoints.length;e++){var g=this.trainingPoints[e],h=this.getTrainingIdx(b,c[g.y][g.x]);a[h]+=1,f=Math.max(f,a[h])}for(e=0;b>e;e++)a[e]=1-a[e]/f;dwv.math.gaussianBlur(a,d)},dwv.math.Scissors.prototype.addInStaticGrad=function(a,b){for(var c=0;c<this.gradGran;c++)this.gradTraining[c]=Math.min(this.gradTraining[c],1-c*(b-a)/(b*this.gradGran))},dwv.math.Scissors.prototype.gradDirection=function(a,b,c,d){return dwv.math.gradDirection(this.gradX,this.gradY,a,b,c,d)},dwv.math.Scissors.prototype.dist=function(a,b,c,d){var e=this.gradient[d][c];(a===c||b===d)&&(e*=Math.SQRT1_2);var f=this.laplace[d][c],g=this.gradDirection(a,b,c,d);if(this.trained){var h=this.getTrainedGrad(e),i=this.getTrainedEdge(this.greyscale[b][a]),j=this.getTrainedInside(this.inside[b][a]),k=this.getTrainedOutside(this.outside[b][a]);return.3*h+.3*f+.1*(g+i+j+k)}return.43*e+.43*f+.11*g},dwv.math.Scissors.prototype.adj=function(a){for(var b=[],c=Math.max(a.x-1,0),d=Math.max(a.y-1,0),e=Math.min(a.x+1,this.greyscale[0].length-1),f=Math.min(a.y+1,this.greyscale.length-1),g=0,h=d;f>=h;h++)for(var i=c;e>=i;i++)(i!==a.x||h!==a.y)&&(b[g++]=new dwv.math.FastPoint2D(i,h));return b},dwv.math.Scissors.prototype.setPoint=function(a){this.setWorking(!0),this.curPoint=a;var b=0,c=0;for(this.visited=[],c=0;c<this.height;c++)for(this.visited[c]=[],b=0;b<this.width;b++)this.visited[c][b]=!1;for(this.parents=[],c=0;c<this.height;c++)this.parents[c]=[];for(this.cost=[],c=0;c<this.height;c++)for(this.cost[c]=[],b=0;b<this.width;b++)this.cost[c][b]=Number.MAX_VALUE;this.pq=new dwv.math.BucketQueue(this.searchGranBits,function(a){return Math.round(this.searchGran*this.costArr[a.y][a.x])}),this.pq.searchGran=this.searchGran,this.pq.costArr=this.cost,this.pq.push(a),this.cost[a.y][a.x]=0},dwv.math.Scissors.prototype.doWork=function(){if(this.working){this.timeout=null;for(var a=0,b=[];!this.pq.isEmpty()&&a<this.pointsPerPost;){var c=this.pq.pop();b.push(c),b.push(this.parents[c.y][c.x]),this.visited[c.y][c.x]=!0;for(var d=this.adj(c),e=0;e<d.length;e++){var f=d[e],g=this.cost[c.y][c.x]+this.dist(c.x,c.y,f.x,f.y);g<this.cost[f.y][f.x]&&(this.cost[f.y][f.x]!==Number.MAX_VALUE&&this.pq.remove(f),this.cost[f.y][f.x]=g,this.parents[f.y][f.x]=c,this.pq.push(f))}a++}return b}};var dwv=dwv||{};dwv.math=dwv.math||{},dwv.math.Point2D=function(a,b){this.getX=function(){return a},this.getY=function(){return b}},dwv.math.Point2D.prototype.equals=function(a){return a?this.getX()===a.getX()&&this.getY()===a.getY():!1},dwv.math.Point2D.prototype.toString=function(){return"("+this.getX()+", "+this.getY()+")"},dwv.math.FastPoint2D=function(a,b){this.x=a,this.y=b},dwv.math.FastPoint2D.prototype.equals=function(a){return a?this.x===a.x&&this.y===a.y:!1},dwv.math.FastPoint2D.prototype.toString=function(){return"("+this.x+", "+this.y+")"},dwv.math.Circle=function(a,b){var c=Math.PI*b*b;this.getCenter=function(){return a},this.getRadius=function(){return b},this.getSurface=function(){return c},this.getWorldSurface=function(a,b){return c*a*b}},dwv.math.Line=function(a,b){var c=Math.sqrt(Math.abs(b.getX()-a.getX())*Math.abs(b.getX()-a.getX())+Math.abs(b.getY()-a.getY())*Math.abs(b.getY()-a.getY()));this.getBegin=function(){return a},this.getEnd=function(){return b},this.getLength=function(){return c},this.getWorldLength=function(c,d){var e=Math.abs(b.getX()-a.getX())*c,f=Math.abs(b.getY()-a.getY())*d;return Math.sqrt(e*e+f*f)},this.getMidpoint=function(){return new dwv.math.Point2D(parseInt((a.getX()+b.getX())/2,10),parseInt((a.getY()+b.getY())/2,10))}},dwv.math.Rectangle=function(a,b){var c=Math.abs(b.getX()-a.getX())*Math.abs(b.getY()-a.getY());this.getBegin=function(){return a},this.getEnd=function(){return b},this.getRealWidth=function(){return b.getX()-a.getX()},this.getRealHeight=function(){return b.getY()-a.getY()},this.getWidth=function(){return Math.abs(this.getRealWidth())},this.getHeight=function(){return Math.abs(this.getRealHeight())},this.getSurface=function(){return c},this.getWorldSurface=function(a,b){return c*a*b}},dwv.math.ROI=function(){var a=[];this.getPoint=function(b){return a[b]},this.getLength=function(){return a.length},this.addPoint=function(b){a.push(b)},this.addPoints=function(b){a=a.concat(b)}},dwv.math.Path=function(a,b){this.pointArray=a?a.slice():[],this.controlPointIndexArray=b?b.slice():[]},dwv.math.Path.prototype.getPoint=function(a){return this.pointArray[a]},dwv.math.Path.prototype.isControlPoint=function(a){var b=this.pointArray.indexOf(a);if(-1!==b)return-1!==this.controlPointIndexArray.indexOf(b);throw Error("Error: isControlPoint called with not in list point.")},dwv.math.Path.prototype.getLength=function(){return this.pointArray.length},dwv.math.Path.prototype.addPoint=function(a){this.pointArray.push(a)},dwv.math.Path.prototype.addControlPoint=function(a){var b=this.pointArray.indexOf(a);if(-1===b)throw Error("Error: addControlPoint called with no point in list point.");this.controlPointIndexArray.push(b)},dwv.math.Path.prototype.addPoints=function(a){this.pointArray=this.pointArray.concat(a)},dwv.math.Path.prototype.appenPath=function(a){var b=this.pointArray.length;this.pointArray=this.pointArray.concat(a.pointArray);for(var c=[],d=0;d<a.controlPointIndexArray.length;++d)c[d]=a.controlPointIndexArray[d]+b;this.controlPointIndexArray=this.controlPointIndexArray.concat(c)};var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.DrawCircleCommand=function(a,b,c){var d=Math.abs(a[0].getX()-a[a.length-1].getX()),e=Math.abs(a[0].getY()-a[a.length-1].getY()),f=Math.round(Math.sqrt(d*d+e*e));if(0!==f){var g=new dwv.math.Circle(a[0],f),h=c.getLineColor(),i=b.getTempLayer().getContext(),j="DrawCircleCommand";this.getName=function(){return j},this.setName=function(a){j=a},this.execute=function(){i.fillStyle=h,i.strokeStyle=h,i.beginPath(),i.arc(g.getCenter().getX(),g.getCenter().getY(),g.getRadius(),0,2*Math.PI),i.stroke();var a=g.getWorldSurface(b.getImage().getSpacing().getColumnSpacing(),b.getImage().getSpacing().getRowSpacing());i.font=c.getFontStr(),i.fillText(Math.round(a)+"mm2",g.getCenter().getX()+c.getFontSize(),g.getCenter().getY()+c.getFontSize())}}},dwv.tool.shapes=dwv.tool.shapes||{},dwv.tool.shapes.circle=dwv.tool.DrawCircleCommand;var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.colors=["Yellow","Red","White","Green","Blue","Lime","Fuchsia","Black"],dwv.tool.shapes=dwv.tool.shapes||{},dwv.tool.Draw=function(a){var b=this,c=!1,d=null;this.style=new dwv.html.Style,this.shapeName=0;var e=[];this.mousedown=function(a){c=!0,e=[],e.push(new dwv.math.Point2D(a._x,a._y))},this.mousemove=function(f){c&&f._x!==e[0].getX()&&f._y!==e[0].getY()&&(e.push(new dwv.math.Point2D(f._x,f._y)),d=new dwv.tool.shapes[b.shapeName](e,a,b.style),a.getTempLayer().clear(),d.execute())},this.mouseup=function(){c&&(a.getUndoStack().add(d),a.getDrawLayer().merge(a.getTempLayer()),c=!1)},this.mouseout=function(a){b.mouseup(a)},this.touchstart=function(a){b.mousedown(a)},this.touchmove=function(a){b.mousemove(a)},this.touchend=function(a){b.mouseup(a)},this.keydown=function(b){a.handleKeyDown(b)},this.enable=function(a){a?(this.init(),dwv.gui.appendDrawHtml()):dwv.gui.clearDrawHtml()}},dwv.tool.Draw.getHelp=function(){return{title:"Draw",brief:"Allows to draw shapes on the image. Choose the shape and its color from the drop down menus. ",mouse:{mouse_drag:"A single mouse drag draws the desired shape."},touch:{touch_drag:"A single touch drag draws the desired shape."}}},dwv.tool.Draw.prototype.setLineColour=function(a){this.style.setLineColor(a)},dwv.tool.Draw.prototype.setShapeName=function(a){if(!this.hasShape(a))throw new Error("Unknown shape: '"+a+"'");this.shapeName=a},dwv.tool.Draw.prototype.hasShape=function(a){return dwv.tool.shapes[a]},dwv.tool.Draw.prototype.init=function(){var a=0;for(var b in dwv.tool.shapes){a=b;break}this.setShapeName(a),this.setLineColour(dwv.tool.colors[0])};var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.filters=dwv.tool.filters||{},dwv.tool.Filter=function(){this.selectedFilter=0,this.defaultFilterName=0},dwv.tool.Filter.getHelp=function(){return{title:"Filter",brief:"A few simple image filters are available: a Threshold filter to limit the image intensities between a chosen minimum and maximum, a Sharpen filter to convolute the image with a sharpen matrix, a Sobel filter to get the gradient of the image in both directions."}},dwv.tool.Filter.prototype.enable=function(a){a?(dwv.gui.appendFilterHtml(),this.init()):(this.selectedFilter&&this.selectedFilter.enable(!1),dwv.gui.clearFilterHtml())},dwv.tool.Filter.prototype.getSelectedFilter=function(){return this.selectedFilter},dwv.tool.Filter.prototype.setSelectedFilter=function(a){if(!this.hasFilter(a))throw new Error("Unknown filter: '"+a+"'");this.selectedFilter&&this.selectedFilter.enable(!1),this.selectedFilter=new dwv.tool.filters[a](app),this.selectedFilter.enable(!0)},dwv.tool.Filter.prototype.hasFilter=function(a){return dwv.tool.filters[a]},dwv.tool.Filter.prototype.init=function(){for(var a in dwv.tool.filters){this.defaultFilterName=a;break}this.setSelectedFilter(this.defaultFilterName)},dwv.tool.Filter.prototype.keydown=function(a){app.handleKeyDown(a)},dwv.tool.filter=dwv.tool.filter||{},dwv.tool.filter.Threshold=function(){},dwv.tool.filter.Threshold.prototype.enable=function(a){a?dwv.gui.filter.appendThresholdHtml():dwv.gui.filter.clearThresholdHtml()},dwv.tool.filter.Threshold.prototype.run=function(a){var b=new dwv.image.filter.Threshold;b.setMin(a.min),b.setMax(a.max);var c=new dwv.tool.RunFilterCommand(b,app);c.execute(),app.getUndoStack().add(c)},dwv.tool.filters.threshold=dwv.tool.filter.Threshold,dwv.tool.filter.Sharpen=function(){},dwv.tool.filter.Sharpen.prototype.enable=function(a){a?dwv.gui.filter.appendSharpenHtml():dwv.gui.filter.clearSharpenHtml()},dwv.tool.filter.Sharpen.prototype.run=function(){var a=new dwv.image.filter.Sharpen,b=new dwv.tool.RunFilterCommand(a,app);b.execute(),app.getUndoStack().add(b)},dwv.tool.filters.sharpen=dwv.tool.filter.Sharpen,dwv.tool.filter.Sobel=function(){},dwv.tool.filter.Sobel.prototype.enable=function(a){a?dwv.gui.filter.appendSobelHtml():dwv.gui.filter.clearSobelHtml()},dwv.tool.filter.Sobel.prototype.run=function(){var a=new dwv.image.filter.Sobel,b=new dwv.tool.RunFilterCommand(a,app);b.execute(),app.getUndoStack().add(b)},dwv.tool.filters.sobel=dwv.tool.filter.Sobel,dwv.tool.RunFilterCommand=function(a,b){var c="RunFilter: "+a.getName();this.getName=function(){return c},this.setName=function(a){c=a},this.execute=function(){b.setImage(a.update()),b.generateAndDrawImage()}};var dwv=dwv||{};dwv.info=dwv.info||{},dwv.info.createWindowingDiv=function(){var a=document.getElementById("infotr");dwv.html.removeNode("ulinfotr");var b=document.createElement("ul");b.id="ulinfotr";var c=document.createElement("li");c.id="liwcinfotr",b.appendChild(c);var d=document.createElement("li");d.id="liwwinfotr",b.appendChild(d),a.appendChild(b)},dwv.info.updateWindowingDiv=function(a){var b=document.getElementById("liwcinfotr");dwv.html.cleanNode(b),b.appendChild(document.createTextNode("WindowCenter = "+a.wc));var c=document.getElementById("liwwinfotr");dwv.html.cleanNode(c),c.appendChild(document.createTextNode("WindowWidth = "+a.ww))},dwv.info.createPositionDiv=function(){var a=document.getElementById("infotl");dwv.html.removeNode("ulinfotl");var b=document.createElement("ul");b.id="ulinfotl";var c=document.createElement("li");c.id="liposinfotl",b.appendChild(c);var d=document.createElement("li");d.id="livalueinfotl",b.appendChild(d),a.appendChild(b)},dwv.info.updatePositionDiv=function(a){var b=document.getElementById("liposinfotl");if(dwv.html.cleanNode(b),b.appendChild(document.createTextNode("Pos = "+a.i+", "+a.j+", "+a.k)),a.value){var c=document.getElementById("livalueinfotl");dwv.html.cleanNode(c),c.appendChild(document.createTextNode("Value = "+a.value))}},dwv.info.createMiniColorMap=function(){var a=document.getElementById("infobr");dwv.html.removeNode("canvasinfobr");var b=document.createElement("canvas");b.id="canvasinfobr",b.width=98,b.height=10,a.appendChild(b)},dwv.info.updateMiniColorMap=function(a){var b=a.wc,c=a.ww,d=document.getElementById("canvasinfobr");context=d.getContext("2d");for(var e=app.getView().getColorMap(),f=context.getImageData(0,0,d.width,d.height),g=0,h=app.getImage().getRescaledDataRange().min,i=app.getImage().getRescaledDataRange().max-h,j=i/d.width,k=0,l=255,m=0,n=b-.5-(c-1)/2,o=b-.5+(c-1)/2,p=0;p<d.height;++p){g=h;for(var q=0;q<d.width;++q)n>=g?k=m:g>o?k=l:(k=((g-(b-.5))/(c-1)+.5)*(l-m)+m,k=parseInt(k,10)),index=4*(q+p*d.width),f.data[index]=e.red[k],f.data[index+1]=e.green[k],f.data[index+2]=e.blue[k],f.data[index+3]=255,g+=j}context.putImageData(f,0,0)},dwv.info.createPlot=function(){$.plot($("#plot"),[app.getImage().getHistogram()],{bars:{show:!0},grid:{backgroundColor:null},xaxis:{show:!0},yaxis:{show:!1}})},dwv.info.updatePlotMarkings=function(a){var b=a.wc,c=a.ww,d=parseInt((c-1)/2,10),e=parseInt(b-.5,10),f=e-d,g=e+d,h=[{color:"#faa",lineWidth:1,xaxis:{from:f,to:f}},{color:"#aaf",lineWidth:1,xaxis:{from:g,to:g}}];$.plot($("#plot"),[app.getImage().getHistogram()],{bars:{show:!0},grid:{markings:h,backgroundColor:null},xaxis:{show:!1},yaxis:{show:!1}})};var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.DrawLineCommand=function(a,b,c){var d=new dwv.math.Line(a[0],a[a.length-1]),e=c.getLineColor(),f=b.getTempLayer().getContext(),g="DrawLineCommand";this.getName=function(){return g},this.setName=function(a){g=a},this.execute=function(){f.fillStyle=e,f.strokeStyle=e,f.beginPath(),f.moveTo(d.getBegin().getX(),d.getBegin().getY()),f.lineTo(d.getEnd().getX(),d.getEnd().getY()),f.stroke(),f.closePath();var a=d.getWorldLength(b.getImage().getSpacing().getColumnSpacing(),b.getImage().getSpacing().getRowSpacing());f.font=c.getFontStr(),f.fillText(Math.round(a)+"mm",d.getEnd().getX()+c.getFontSize(),d.getEnd().getY()+c.getFontSize())}},dwv.tool.shapes=dwv.tool.shapes||{},dwv.tool.shapes.line=dwv.tool.DrawLineCommand;var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.Livewire=function(a){function b(){for(var b=0;b<a.getImage().getSize().getNumberOfRows();++b)h[b]=[]}function c(){f=new dwv.math.Path,g=new dwv.math.Path}var d=this;this.started=!1;var e=null;this.style=new dwv.html.Style;var f=new dwv.math.Path,g=new dwv.math.Path,h=[],i=5,j=new dwv.math.Scissors;j.setDimensions(a.getImage().getSize().getNumberOfColumns(),a.getImage().getSize().getNumberOfRows()),j.setData(a.getImageData().data),this.mousedown=function(h){if(d.started)if(Math.abs(h._x-d.x0)<i&&Math.abs(h._y-d.y0)<i)d.mousemove(h),console.log("Done."),a.getUndoStack().add(e),a.getDrawLayer().merge(a.getTempLayer()),d.started=!1;else{f=g,b();var k=new dwv.math.FastPoint2D(h._x,h._y);j.doTraining(k),f.addControlPoint(g.getPoint(0))}else{d.started=!0,d.x0=h._x,d.y0=h._y,c(),b();var l=new dwv.math.FastPoint2D(h._x,h._y);j.doTraining(l);var m=new dwv.math.Point2D(h._x,h._y);f.addPoint(m),f.addControlPoint(m)}},this.mousemove=function(b){if(d.started){var c=new dwv.math.FastPoint2D(b._x,b._y);j.setPoint(c);for(var i=0,k=!1;!h[c.y][c.x]&&!k;)if(console.log("Getting ready..."),i=j.doWork(),0===i.length)k=!0;else for(var l=0;l<i.length-1;l+=2){var m=i[l],n=i[l+1];h[m.y][m.x]=n}for(console.log("Ready!"),g=new dwv.math.Path,k=!1;c&&!k;)g.addPoint(new dwv.math.Point2D(c.x,c.y)),h[c.y]?h[c.y][c.x]?c=h[c.y][c.x]:k=!0:k=!0;g.appenPath(f),e=new dwv.tool.DrawLivewireCommand(g,a,d.style),a.getTempLayer().clear(),e.execute()}},this.mouseup=function(){},this.mouseout=function(a){d.mouseup(a)},this.touchstart=function(a){d.mousedown(a)},this.touchmove=function(a){d.mousemove(a)},this.touchend=function(a){d.mouseup(a)},this.keydown=function(b){a.handleKeyDown(b)},this.enable=function(a){a?(this.init(),dwv.gui.appendLivewireHtml()):dwv.gui.clearLivewireHtml()}},dwv.tool.Livewire.getHelp=function(){return{title:"Livewire",brief:"The Livewire tool is a semi-automatic segmentation tool that proposes to the user paths that follow intensity edges.Click once to initialise and then move the mouse to see the proposed paths. Click again to build your contour. The process stops when you click on the first root point. BEWARE: the process can take time!"}},dwv.tool.Livewire.prototype.setLineColour=function(a){this.style.setLineColor(a)},dwv.tool.Livewire.prototype.init=function(){this.setLineColour(dwv.tool.colors[0])},dwv.tool.DrawLivewireCommand=function(a,b,c){var d=c.getLineColor(),e=b.getTempLayer().getContext(),f="DrawLivewireCommand";this.getName=function(){return f},this.setName=function(a){f=a},this.execute=function(){e.fillStyle=d,e.strokeStyle=d,e.beginPath();var b=a.getPoint(0);e.moveTo(b.getX(),b.getY());for(var c=1;c<a.getLength();++c)b=a.getPoint(c),e.lineTo(b.getX(),b.getY());for(var f=0;f<a.controlPointIndexArray.length;++f)b=a.getPoint(a.controlPointIndexArray[f]),e.fillRect(b.getX()-3,b.getY()-3,5,5);e.stroke()}};var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.DrawRectangleCommand=function(a,b,c){var d=new dwv.math.Rectangle(a[0],a[a.length-1]),e=c.getLineColor(),f=b.getTempLayer().getContext(),g="DrawRectangleCommand";this.getName=function(){return g},this.setName=function(a){g=a},this.execute=function(){f.fillStyle=e,f.strokeStyle=e,f.beginPath(),f.strokeRect(d.getBegin().getX(),d.getBegin().getY(),d.getRealWidth(),d.getRealHeight());var a=d.getWorldSurface(b.getImage().getSpacing().getColumnSpacing(),b.getImage().getSpacing().getRowSpacing());f.font=c.getFontStr(),f.fillText(Math.round(a)+"mm2",d.getEnd().getX()+c.getFontSize(),d.getEnd().getY()+c.getFontSize())}},dwv.tool.shapes=dwv.tool.shapes||{},dwv.tool.shapes.rectangle=dwv.tool.DrawRectangleCommand;var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.DrawRoiCommand=function(a,b,c){var d=new dwv.math.ROI;d.addPoints(a);var e=c.getLineColor(),f=b.getTempLayer().getContext(),g="DrawRoiCommand";this.getName=function(){return g},this.setName=function(a){g=a},this.execute=function(){f.fillStyle=e,f.strokeStyle=e,f.beginPath(),f.moveTo(d.getPoint(0).getX(),d.getPoint(0).getY());for(var a=1;a<d.getLength();++a)f.lineTo(d.getPoint(a).getX(),d.getPoint(a).getY()),f.stroke();
f.closePath(),f.stroke()}},dwv.tool.shapes=dwv.tool.shapes||{},dwv.tool.shapes.roi=dwv.tool.DrawRoiCommand;var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.ToolBox=function(){this.selectedTool=0,this.defaultToolName=0},dwv.tool.ToolBox.prototype.enable=function(a){a&&(this.sortTools(),dwv.gui.appendToolboxHtml(),this.init())},dwv.tool.ToolBox.prototype.getSelectedTool=function(){return this.selectedTool},dwv.tool.ToolBox.prototype.setSelectedTool=function(a){if(!this.hasTool(a))throw new Error("Unknown tool: '"+a+"'");this.selectedTool&&this.selectedTool.enable(!1),this.selectedTool=new dwv.tool.tools[a](app),this.selectedTool.enable(!0)},dwv.tool.ToolBox.prototype.hasTool=function(a){return dwv.tool.tools[a]},dwv.tool.ToolBox.prototype.sortTools=function(){var a=dwv.tool.tools;dwv.tool.tools={},a.windowlevel&&(dwv.tool.tools.windowlevel=a.windowlevel);for(var b in a)"windowlevel"!==b&&(dwv.tool.tools[b]=a[b])},dwv.tool.ToolBox.prototype.init=function(){for(var a in dwv.tool.tools){this.defaultToolName=a;break}this.setSelectedTool(this.defaultToolName)};var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.UndoStack=function(a){var b=[],c=0;this.add=function(a){b=b.slice(0,c),b[c]=a,++c,dwv.gui.addCommandToUndoHtml(a.getName())},this.undo=function(){if(c>0){--c,a.restoreOriginalImage(),a.getDrawLayer().clear(),a.getTempLayer().clear();for(var d=0;c>d;++d)b[d].execute();0===c?a.generateAndDrawImage():a.getDrawLayer().merge(a.getTempLayer()),dwv.gui.enableInUndoHtml(!1)}},this.redo=function(){if(c<b.length){var d=b[c];d.execute(),++c,a.getDrawLayer().merge(a.getTempLayer()),dwv.gui.enableInUndoHtml(!0)}}};var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.updatePostionValue=function(a,b){app.getView().setCurrentPosition({i:a,j:b,k:app.getView().getCurrentPosition().k})},dwv.tool.updateWindowingData=function(a,b){app.getView().setWindowLevel(a,b)},dwv.tool.updateColourMap=function(a){app.getView().setColorMap(a)},dwv.tool.colourMaps={plain:dwv.image.lut.plain,invplain:dwv.image.lut.invPlain,rainbow:dwv.image.lut.rainbow,hot:dwv.image.lut.hot,test:dwv.image.lut.test},dwv.tool.presets={},dwv.tool.defaultpresets={},dwv.tool.defaultpresets.CT={abdomen:{center:350,width:40},lung:{center:-600,width:1500},brain:{center:40,width:80},bone:{center:480,width:2500},head:{center:90,width:350}},dwv.tool.WindowLevel=function(a){var b=this;this.started=!1,this.updatePresets(),this.mousedown=function(a){b.started=!0,b.x0=a._x,b.y0=a._y,dwv.tool.updatePostionValue(a._x,a._y)},this.twotouchdown=function(a){b.started=!0,b.x0=a._x,b.y0=a._y,b.x1=a._x1,b.y1=a._y1},this.mousemove=function(c){if(b.started){var d=c._x-b.x0,e=b.y0-c._y,f=parseInt(a.getView().getWindowLut().getCenter(),10)+e,g=parseInt(a.getView().getWindowLut().getWidth(),10)+d;dwv.tool.updateWindowingData(f,g),b.x0=c._x,b.y0=c._y}},this.twotouchmove=function(c){if(b.started){var d=c._y-b.y0;Math.abs(d)<15||(d>0?a.getView().incrementSliceNb():a.getView().decrementSliceNb(),b.y0=c._y)}},this.mouseup=function(){b.started&&(b.started=!1)},this.mouseout=function(a){b.mouseup(a)},this.touchstart=function(a){1===a.targetTouches.length?b.mousedown(a):2===a.targetTouches.length&&b.twotouchdown(a)},this.touchmove=function(a){1===a.targetTouches.length?b.mousemove(a):2===a.targetTouches.length&&b.twotouchmove(a)},this.touchend=function(a){b.mouseup(a)},this.dblclick=function(b){dwv.tool.updateWindowingData(parseInt(a.getImage().getRescaledValue(b._x,b._y,a.getView().getCurrentPosition().k),10),parseInt(a.getView().getWindowLut().getWidth(),10))},this.DOMMouseScroll=function(b){b.detail>0?a.getView().incrementSliceNb():a.getView().decrementSliceNb()},this.mousewheel=function(b){b.wheelDelta>0?a.getView().incrementSliceNb():a.getView().decrementSliceNb()},this.keydown=function(b){a.handleKeyDown(b)},this.enable=function(a){a?dwv.gui.appendWindowLevelHtml():dwv.gui.clearWindowLevelHtml()}},dwv.tool.WindowLevel.getHelp=function(){return{title:"WindowLevel",brief:"Changes the Window and Level of the image.",mouse:{mouse_drag:"A single mouse drag changes the window in the horizontal direction and the level in the vertical one.",double_click:"A double click will center the window and level on the clicked intensity.",mouse_wheel:"The mouse wheel is used to navigate through slices."},touch:{touch_drag:"A single touch drag changes the window in the horizontal direction and the level in the vertical one.",twotouch_drag:"A double finger drag allows to navigate through slices."}}},dwv.tool.WindowLevel.prototype.updatePresets=function(){dwv.tool.presets={};var a=app.getView().getWindowPresets();if(a)for(var b=0;b<a.length;++b)dwv.tool.presets[a[b].name.toLowerCase()]=a[b];var c=app.getImage().getRescaledDataRange(),d=c.min,e=c.max,f=e-d,g=d+f/2;dwv.tool.presets["min/max"]={center:g,width:f};var h=app.getImage().getMeta().Modality;for(var i in dwv.tool.defaultpresets[h])dwv.tool.presets[i]=dwv.tool.defaultpresets[h][i]},dwv.tool.WindowLevel.prototype.setPreset=function(a){if(!dwv.tool.presets[a])throw new Error("Unknown window level preset: '"+a+"'");dwv.tool.updateWindowingData(dwv.tool.presets[a].center,dwv.tool.presets[a].width)},dwv.tool.WindowLevel.prototype.setColourMap=function(a){if(!dwv.tool.colourMaps[a])throw new Error("Unknown colour map: '"+a+"'");dwv.tool.updateColourMap(dwv.tool.colourMaps[a])};var dwv=dwv||{};dwv.tool=dwv.tool||{},dwv.tool.zoomReset=function(){app.getImageLayer().resetLayout(),app.getImageLayer().draw(),app.getDrawLayer().resetLayout(),app.getDrawLayer().draw()},dwv.tool.Zoom=function(a){function b(b,c,d){a.getImageLayer()&&a.getImageLayer().zoom(b,b,c,d),a.getDrawLayer()&&a.getDrawLayer().zoom(b,b,c,d)}function c(b,c){a.getImageLayer()&&a.getImageLayer().translate(b,c),a.getDrawLayer()&&a.getDrawLayer().translate(b,c)}var d=this;this.started=!1,this.mousedown=function(a){d.started=!0,d.x0=a._x,d.y0=a._y},this.twotouchdown=function(a){d.started=!0;var b=new dwv.math.Point2D(a._x,a._y),c=new dwv.math.Point2D(a._x1,a._y1);d.line0=new dwv.math.Line(b,c),d.midPoint=d.line0.getMidpoint()},this.mousemove=function(a){if(d.started){var b=a._x-d.x0,e=a._y-d.y0;c(b,e),d.x0=a._x,d.y0=a._y}},this.twotouchmove=function(a){if(d.started){var c=new dwv.math.Point2D(a._x,a._y),e=new dwv.math.Point2D(a._x1,a._y1),f=new dwv.math.Line(c,e),g=f.getLength()/d.line0.getLength(),h=(g-1)/2;Math.abs(h)%.1<=.05&&b(h,d.midPoint.getX(),d.midPoint.getY())}},this.mouseup=function(){d.started&&(d.started=!1)},this.mouseout=function(a){d.mouseup(a)},this.touchstart=function(a){var b=a.targetTouches;1===b.length?d.mousedown(a):2===b.length&&d.twotouchdown(a)},this.touchmove=function(a){var b=a.targetTouches;1===b.length?d.mousemove(a):2===b.length&&d.twotouchmove(a)},this.touchend=function(a){d.mouseup(a)},this.DOMMouseScroll=function(a){var c=a.detail/30;b(c,a._x,a._y)},this.mousewheel=function(a){var c=a.wheelDelta/1200;b(c,a._x,a._y)},this.keydown=function(b){a.handleKeyDown(b)},this.enable=function(a){a?dwv.gui.appendZoomHtml():dwv.gui.clearZoomHtml()}},dwv.tool.Zoom.getHelp=function(){return{title:"Zoom",brief:"The zoom tool allows to zoom and drag the image.",mouse:{mouse_drag:"A single mouse drag drags the image in the desired direction.",mouse_wheel:"The mouse wheel is used to zoom the image."},touch:{touch_drag:"A single touch drag drags the image in the desired direction.",twotouch_pinch:"A pinch or spread allows to zoom the image."}}};var dwv=dwv||{};dwv.utils=dwv.utils||{},dwv.utils.capitaliseFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},dwv.utils.cleanString=function(a){var b=a.trim();return b[b.length-1]===String.fromCharCode("u200B")&&(b=b.substring(0,b.length-1)),b},dwv.utils.splitQueryString=function(a){if(-1===a.indexOf("?"))return null;var b={};b.base=a.substr(0,a.indexOf("?"));for(var c=a.substr(a.indexOf("?")+1),d=c.split("&"),e=0;e<d.length;++e){var f=d[e].split("=");b[f[0]]?(b[f[0]]instanceof Array||(b[f[0]]=[b[f[0]]]),b[f[0]].push(f[1])):b[f[0]]=f[1]}return b};