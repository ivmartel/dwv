<!DOCTYPE html>
<html>
<head>
<title>DICOM Generator</title>
<meta charset="UTF-8">
<link rel="icon" href="../../favicon.ico"/>
<!-- third party -->
<script type="module" src="../../../node_modules/jszip/dist/jszip.min.js"></script>
<style>
body { font-family: Arial, Helvetica, sans-serif; }
textarea { width: 99%; margin: 2px; }
fieldset { background: whitesmoke; border: 1px solid grey; }
.button {
    padding: 3px 7px 3px 7px;
    text-align: center;
    border-radius: 3px;
    border: 1px solid grey;
    text-decoration: none;
    font: 80% sans-serif;
    color: black;
    background: #E3E3E3;
}
.button-active {
    color: black;
    background: #E3E3E3;
}
.button-disabled {
    color: grey;
    background: #F3F3F3;
}
.button:hover {
    border: 1px solid black;
}
</style>
</head>

<body>

<h1>DWV DICOM Generator</h1>

<p>Simple DICOM data generator from json tags.
Mainly used for generating test data, <b>use at your own risks!</b>
<br>No need for a 'FileMetaInformationGroupLength', it is calculated automatically.
Values should not be <code>null</code>...
<br>Sequences have an optional <code>undefinedLength</code> boolean parameter to write them
and all their elements with undefined or explicit length. Its default value is <code>false</code>.
Set as <code>{}</code>, a sequence will
be written with explicit zero length, a <code>0</code> value will mean undefined length.
</p>

<form name="genform">

<fieldset>
<label for="intagsfile">JSON DICOM tags file: </label>
<input id="intagsfile" type="file" name="file">
<a href="#" id="jsonlint" class="button">JSONLint</a>
<a href="#" id="save" class="button">Save Tags</a>
</fieldset>

<textarea id="tags" rows="25">
{
  "TransferSyntaxUID": "1.2.840.10008.1.2.1",
  "Modality": "MR",
  "SOPClassUID": "1.2.840.10008.5.1.4.1.1.4",
  "PatientName": "dwv^patientName",
  "PatientID": "DWV0001",
  "PhotometricInterpretation": "MONOCHROME2",
  "SamplesPerPixel": 1,
  "PlanarConfiguration": 0,
  "PixelRepresentation": 0,
  "Rows": 32,
  "Columns": 32,
  "ImageOrientationPatient": [1, 0, 0, 0, 1, 0],
  "PixelSpacing": [1,1],
  "SliceThickness": 1,
  "BitsAllocated": 16,
  "BitsStored": 12,
  "HighBit": 11
}
</textarea>

<fieldset>
<label for="numberofslices">Number of slices: </label>
<input type="number" id="numberofslices" value="1"/>
<label for="inImgfile">Image file(s): </label>
<input id="inImgfile" type="file" multiple="true" name="file">
<a href="#" id="generate" class="button">Generate</a>
</fieldset>
</form>

</body>
</html>
